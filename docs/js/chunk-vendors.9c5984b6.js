(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00d1":function(t,e,n){"use strict";function r(t,e,n,r,i){const o=r?"sum += texelFetch(bias, ivec2(out_x, 0), 0).r;":"",a=i?`int fragmentIndex = int(floor(float(rowIndex) / float(${e[0]})));\n      rowIndex = int(mod(float(rowIndex), float(${e[0]})));\n      colIndex += fragmentIndex * ${e[1]};`:"",s=`#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D matMulResult;\nuniform isampler2D indexMap;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  float sum = 0.;\n  for (int n = 0; n < ${n[1]}; ++n) {\n    int index = texelFetch(indexMap, ivec2(n, out_y), 0).r;\n    if (index != -1) {\n      int rowIndex = int(floor(float(index) / float(${e[1]})));\n      int colIndex = int(mod(float(index), float(${e[1]})));\n      ${a}\n      sum += texelFetch(matMulResult, ivec2(colIndex + out_x, rowIndex), 0).r;\n    }\n  }\n\n  ${o}\n  outColor = vec4(sum);\n}  \n`;return s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"00fd":function(t,e,n){var r=n("9e69"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;function u(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}t.exports=u},"01a8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(n("d7e6"));function i(t){return t&&t.__esModule?t:{default:t}}const o=(0,r.default)({args:["array"],body:function(t){t=Math.tanh(t)}});function a(t){o(t.tensor)}},"01b1":function(t,e,n){"use strict";var r=e;r.Service=n("807e")},"01f9":function(t,e,n){"use strict";var r=n("2d00"),i=n("5ca1"),o=n("2aba"),a=n("32e9"),s=n("84f2"),u=n("41a0"),c=n("7f20"),l=n("38fd"),p=n("2b4c")("iterator"),h=!([].keys&&"next"in[].keys()),f="@@iterator",d="keys",g="values",m=function(){return this};t.exports=function(t,e,n,v,y,_,x){u(n,e,v);var b,w,S,T=function(t){if(!h&&t in A)return A[t];switch(t){case d:return function(){return new n(this,t)};case g:return function(){return new n(this,t)}}return function(){return new n(this,t)}},P=e+" Iterator",C=y==g,M=!1,A=t.prototype,F=A[p]||A[f]||y&&A[y],k=F||T(y),O=y?C?T("entries"):k:void 0,E="Array"==e&&A.entries||F;if(E&&(S=l(E.call(new t)),S!==Object.prototype&&S.next&&(c(S,P,!0),r||"function"==typeof S[p]||a(S,p,m))),C&&F&&F.name!==g&&(M=!0,k=function(){return F.call(this)}),r&&!x||!h&&!M&&A[p]||a(A,p,k),s[e]=k,s[P]=m,y)if(b={values:C?k:T(g),keys:_?k:T(d),entries:O},x)for(w in b)w in A||o(A,w,b[w]);else i(i.P+i.F*(h||M),e,b);return b}},"0298":function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("6a99");r(r.P+r.F*n("79e5")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=i(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},"0333":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.approxEquals=s;var r=a(n("9452")),i=a(n("991b")),o=a(n("4b31"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n=1e-4){const a=(0,i.default)((0,o.default)(t)),s=e;if(a.length!==s.length)return!1;for(let i=0;i<a.length;i++){if(!(0,r.default)(a[i]))return!1;if(a[i]<s[i]-n||a[i]>s[i]+n)return!1}return!0}},"036c":function(t,e,n){"use strict";var r=n("5ca1"),i=n("4588"),o=n("bef9"),a=n("9744"),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",p="0",h=function(t,e){var n=-1,r=e;while(++n<6)r+=t*c[n],c[n]=r%1e7,r=u(r/1e7)},f=function(t){var e=6,n=0;while(--e>=0)n+=c[e],c[e]=u(n/t),n=n%t*1e7},d=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call(p,7-n.length)+n}return e},g=function(t,e,n){return 0===e?n:e%2===1?g(t,e-1,n*t):g(t*t,e/2,n)},m=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n("79e5")(function(){s.call({})})),"Number",{toFixed:function(t){var e,n,r,s,u=o(this,l),c=i(t),v="",y=p;if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(e=m(u*g(2,69,1))-69,n=e<0?u*g(2,-e,1):u/g(2,e,1),n*=4503599627370496,e=52-e,e>0){h(0,n),r=c;while(r>=7)h(1e7,0),r-=7;h(g(10,r,1),0),r=e-1;while(r>=23)f(1<<23),r-=23;f(1<<r),h(1,1),f(2),y=d()}else h(0,n),h(1<<-e,0),y=d()+a.call(p,c);return c>0?(s=y.length,y=v+(s<=c?"0."+a.call(p,c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c))):y=v+y,y}})},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"03dd":function(t,e,n){var r=n("eac5"),i=n("57a5"),o=Object.prototype,a=o.hasOwnProperty;function s(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))a.call(t,n)&&"constructor"!=n&&e.push(n);return e}t.exports=s},"042e":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{fround:n("91ca")})},"0446":function(t,e,n){"use strict";function r(t,e,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return t(n);a+n>r&&(o=t(r),a=0);var s=e.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}t.exports=r},"044b":function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},"049f":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{log1p:n("d6c6")})},"04ff":function(t,e,n){var r=n("5ca1"),i=n("3ca5");r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},"0519":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var r=a(n("5e9e")),i=a(n("d180")),o=a(n("5a3a"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,a){const s=e.map(t=>t[a]),u=(0,o.default)(t+1).map(t=>(0,i.default)((0,r.default)(s,t))),c=0===a?"out_y":"out_x";let l=`\n  int n = 0;\n  int offset = 0;\n  if (${c} >= ${u[1]} && ${c} < ${u[2]}) {\n    n = 1;\n    offset = ${u[1]};\n  }`;t>2&&(l+=`${(0,o.default)(2,t).map(t=>` else if (${c} >= ${u[t]} && ${c} < ${u[t+1]}) {\n    n = ${t};\n    offset = ${u[t]};\n  }`).join("")}\n`);let p="outColor = vec4(0.0);";if(0===a||1===a){const e=t=>`out_x${1===a?` - ${u[t]}`:""}`,n=t=>`out_y${0===a?` - ${u[t]}`:""}`;p=`\n  if (n == 0) {\n    outColor = vec4(texelFetch(inputs[0], ivec2(out_x, out_y), 0).r);\n  }${(0,o.default)(1,t).map(t=>` else if (n == ${t}) {\n    outColor = vec4(texelFetch(inputs[${t}], ivec2(${e(t)}, ${n(t)}), 0).r);\n  }`).join("")}\n`}const h=`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${n[0]}) * outTex.y);\n  int out_x = int(float(${n[1]}) * outTex.x);\n${l}\n${p}\n}\n`;return h}},"0621":function(t,e,n){var r=n("9e69"),i=n("d370"),o=n("6747"),a=r?r.isConcatSpreadable:void 0;function s(t){return o(t)||i(t)||!!(a&&t&&t[a])}t.exports=s},"064a":function(t,e,n){"use strict";t.exports={}},"069c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"SimpleRNN",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"LSTM",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"GRU",{enumerable:!0,get:function(){return o.default}});var r=a(n("0814")),i=a(n("b69c")),o=a(n("a1ce"));function a(t){return t&&t.__esModule?t:{default:t}}},"06a7":function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=r.get,a=r.key;r.exp({getOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},"06db":function(t,e,n){"use strict";var r=n("23c6"),i={};i[n("2b4c")("toStringTag")]="z",i+""!="[object z]"&&n("2aba")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},"07c7":function(t,e){function n(){return!1}t.exports=n},"0814":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(n("3e72")),i=p(n("d3b1")),o=p(n("891c")),a=n("d966"),s=n("139c"),u=p(n("62d6")),c=p(n("d7e6")),l=h(n("70de"));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}const f="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",d="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",g="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n",m="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n",v="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n";class y extends o.default{constructor(t={}){super(t),Object.defineProperty(this,"_combine",{configurable:!0,enumerable:!0,writable:!0,value:(0,c.default)({args:["array","array","array","array"],body:function(t,e,n,r){e+n+r}})}),this.layerClass="SimpleRNN";const{units:e=1,activation:n="tanh",use_bias:i=!0,return_sequences:o=!1,go_backwards:s=!1,stateful:u=!1}=t;this.units=e,this.activation=n,this.activationFunc=r[n],this.use_bias=i,this.returnSequences=o,this.goBackwards=s,this.stateful=u,this.params=this.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],this.description=`output dimensions: ${this.units}`,this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.description+=this.returnSequences?", return sequences":"",this.description+=this.goBackwards?", backward direction":"",this.description+=this.stateful?", stateful":"",this.gpu&&(this.copyTextureProgram=a.webgl2.compileProgram(f),this.matMulProgram=a.webgl2.compileProgram(d),this.activationProgram=a.webgl2.compileProgram(l[this.activation]),this.gateSummationProgram=a.webgl2.compileProgram(g),this.timestepReadProgram=a.webgl2.compileProgram(m),this.timestepWriteProgram=a.webgl2.compileProgram(v))}setWeights(t){super.setWeights(t),this.use_bias||(this.weights["bias"]=new i.default([],[this.units]),this.gpu&&this.weights["bias"].createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=this.units,n=this.stateful&&this.currentHiddenState?this.currentHiddenState:new i.default([],[e]),r=new i.default([],[e]),o=new i.default([],[e]),a=new i.default([],[e]);this.hiddenStateSequence=new i.default([],[t.tensor.shape[0],e]);const c=new i.default([],[t.tensor.shape[1]]),l=()=>{u.default.assign(a.tensor,n.tensor),(0,s.gemv)(1,this.weights["kernel"].tensor.transpose(1,0),c.tensor,1,r.tensor),(0,s.gemv)(1,this.weights["recurrent_kernel"].tensor.transpose(1,0),a.tensor,1,o.tensor),this._combine(n.tensor,r.tensor,o.tensor,this.weights["bias"].tensor),this.activationFunc(n)};for(let i=0,s=t.tensor.shape[0];i<s;i++){const e=this.goBackwards?s-i-1:i;u.default.assign(c.tensor,t.tensor.pick(e,null));const a=[r,o];a.forEach(t=>u.default.assigns(t.tensor,0)),l(),this.returnSequences&&u.default.assign(this.hiddenStateSequence.tensor.pick(i,null),n.tensor)}this.returnSequences?this.output=this.hiddenStateSequence:this.output=n,this.stateful&&(this.currentHiddenState=n)}_stepGPU(){a.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXH,inputs:[{input:this.currentX,name:"A"},{input:this.weights["kernel"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHH,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights["recurrent_kernel"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentHiddenStatePreactiv,inputs:[{input:this.tempXH,name:"t1"},{input:this.tempHH,name:"t2"},{input:this.weights["bias"],name:"bias"}]}),"linear"!==this.activation?a.webgl2.runProgram({program:this.activationProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStatePreactiv,name:"x"}]}):this.currentHiddenState=this.currentHiddenStatePreactiv}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=this.units;this.currentHiddenState&&this.stateful||(this.currentHiddenState=new i.default([],[e]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStatePreactiv||(this.currentHiddenStatePreactiv=new i.default([],[e]),this.currentHiddenStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXH||(this.tempXH=new i.default([],[e]),this.tempXH.createGLTexture({type:"2d",format:"float"})),this.tempHH||(this.tempHH=new i.default([],[e]),this.tempHH.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new i.default([],[e]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new i.default([],[t.glTextureShape[0],e]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new i.default([],[t.glTextureShape[0],e]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new i.default([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(let n=0,r=t.glTextureShape[0];n<r;n++){const e=this.goBackwards?r-n-1:n;a.webgl2.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:e,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&(a.webgl2.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),a.webgl2.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:n,type:"int",name:"index"}]}))}this.returnSequences?this.output=this.hiddenStateSequence:this.output=this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=y},"082f":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("28e5"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="MaxPooling2D",this.poolingFunc="max"}}e.default=o},"087d":function(t,e){function n(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}t.exports=n},"0886":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=o(n("62d6")),i=o(n("d3b1"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e={}){const{alpha:n=0,maxValue:o=null}=e;let a;0!==n&&(a=new i.default([],t.tensor.shape),r.default.mins(a.tensor,t.tensor,0),r.default.mulseq(a.tensor,n)),r.default.maxseq(t.tensor,0),o&&r.default.minseq(t.tensor,o),a&&r.default.addeq(t.tensor,a.tensor)}},"08cc":function(t,e,n){var r=n("1a8c");function i(t){return t===t&&!r(t)}t.exports=i},"08f5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Model=e.Weights=void 0;var r=i(n("543b"));function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}const o=r.Reader,a=r.Writer,s=r.util,u=r.roots["default"]||(r.roots["default"]={});e.default=u;const c=u.Weights=(()=>{function t(t){if(this.shape=[],t)for(let e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.layerName="",t.prototype.weightName="",t.prototype.shape=s.emptyArray,t.prototype.type="",t.prototype.data=s.newBuffer([]),t.prototype.quantizeMin=0,t.prototype.quantizeMax=0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.layerName&&t.hasOwnProperty("layerName")&&e.uint32(10).string(t.layerName),null!=t.weightName&&t.hasOwnProperty("weightName")&&e.uint32(18).string(t.weightName),null!=t.shape&&t.shape.length){e.uint32(26).fork();for(let n=0;n<t.shape.length;++n)e.uint32(t.shape[n]);e.ldelim()}return null!=t.type&&t.hasOwnProperty("type")&&e.uint32(34).string(t.type),null!=t.data&&t.hasOwnProperty("data")&&e.uint32(42).bytes(t.data),null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&e.uint32(53).float(t.quantizeMin),null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&e.uint32(61).float(t.quantizeMax),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));let n=void 0===e?t.len:t.pos+e,r=new u.Weights;while(t.pos<n){let e=t.uint32();switch(e>>>3){case 1:r.layerName=t.string();break;case 2:r.weightName=t.string();break;case 3:if(r.shape&&r.shape.length||(r.shape=[]),2===(7&e)){let e=t.uint32()+t.pos;while(t.pos<e)r.shape.push(t.uint32())}else r.shape.push(t.uint32());break;case 4:r.type=t.string();break;case 5:r.data=t.bytes();break;case 6:r.quantizeMin=t.float();break;case 7:r.quantizeMax=t.float();break;default:t.skipType(7&e);break}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==typeof t||null===t)return"object expected";if(null!=t.layerName&&t.hasOwnProperty("layerName")&&!s.isString(t.layerName))return"layerName: string expected";if(null!=t.weightName&&t.hasOwnProperty("weightName")&&!s.isString(t.weightName))return"weightName: string expected";if(null!=t.shape&&t.hasOwnProperty("shape")){if(!Array.isArray(t.shape))return"shape: array expected";for(let e=0;e<t.shape.length;++e)if(!s.isInteger(t.shape[e]))return"shape: integer[] expected"}return null!=t.type&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":null!=t.data&&t.hasOwnProperty("data")&&!(t.data&&"number"===typeof t.data.length||s.isString(t.data))?"data: buffer expected":null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&"number"!==typeof t.quantizeMin?"quantizeMin: number expected":null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&"number"!==typeof t.quantizeMax?"quantizeMax: number expected":null},t.fromObject=function(t){if(t instanceof u.Weights)return t;let e=new u.Weights;if(null!=t.layerName&&(e.layerName=String(t.layerName)),null!=t.weightName&&(e.weightName=String(t.weightName)),t.shape){if(!Array.isArray(t.shape))throw TypeError(".Weights.shape: array expected");e.shape=[];for(let n=0;n<t.shape.length;++n)e.shape[n]=t.shape[n]>>>0}return null!=t.type&&(e.type=String(t.type)),null!=t.data&&("string"===typeof t.data?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),null!=t.quantizeMin&&(e.quantizeMin=Number(t.quantizeMin)),null!=t.quantizeMax&&(e.quantizeMax=Number(t.quantizeMax)),e},t.toObject=function(t,e){e||(e={});let n={};if((e.arrays||e.defaults)&&(n.shape=[]),e.defaults&&(n.layerName="",n.weightName="",n.type="",n.data=e.bytes===String?"":[],n.quantizeMin=0,n.quantizeMax=0),null!=t.layerName&&t.hasOwnProperty("layerName")&&(n.layerName=t.layerName),null!=t.weightName&&t.hasOwnProperty("weightName")&&(n.weightName=t.weightName),t.shape&&t.shape.length){n.shape=[];for(let e=0;e<t.shape.length;++e)n.shape[e]=t.shape[e]}return null!=t.type&&t.hasOwnProperty("type")&&(n.type=t.type),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),null!=t.quantizeMin&&t.hasOwnProperty("quantizeMin")&&(n.quantizeMin=e.json&&!isFinite(t.quantizeMin)?String(t.quantizeMin):t.quantizeMin),null!=t.quantizeMax&&t.hasOwnProperty("quantizeMax")&&(n.quantizeMax=e.json&&!isFinite(t.quantizeMax)?String(t.quantizeMax):t.quantizeMax),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t})();e.Weights=c;const l=u.Model=(()=>{function t(t){if(this.modelWeights=[],t)for(let e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.name="",t.prototype.kerasVersion="",t.prototype.backend="",t.prototype.modelConfig="",t.prototype.modelWeights=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(10).string(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&e.uint32(26).string(t.kerasVersion),null!=t.backend&&t.hasOwnProperty("backend")&&e.uint32(34).string(t.backend),null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&e.uint32(42).string(t.modelConfig),null!=t.modelWeights&&t.modelWeights.length)for(let n=0;n<t.modelWeights.length;++n)u.Weights.encode(t.modelWeights[n],e.uint32(50).fork()).ldelim();return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof o||(t=o.create(t));let n=void 0===e?t.len:t.pos+e,r=new u.Model;while(t.pos<n){let e=t.uint32();switch(e>>>3){case 1:r.id=t.string();break;case 2:r.name=t.string();break;case 3:r.kerasVersion=t.string();break;case 4:r.backend=t.string();break;case 5:r.modelConfig=t.string();break;case 6:r.modelWeights&&r.modelWeights.length||(r.modelWeights=[]),r.modelWeights.push(u.Weights.decode(t,t.uint32()));break;default:t.skipType(7&e);break}}return r},t.decodeDelimited=function(t){return t instanceof o||(t=new o(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==typeof t||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(null!=t.name&&t.hasOwnProperty("name")&&!s.isString(t.name))return"name: string expected";if(null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&!s.isString(t.kerasVersion))return"kerasVersion: string expected";if(null!=t.backend&&t.hasOwnProperty("backend")&&!s.isString(t.backend))return"backend: string expected";if(null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&!s.isString(t.modelConfig))return"modelConfig: string expected";if(null!=t.modelWeights&&t.hasOwnProperty("modelWeights")){if(!Array.isArray(t.modelWeights))return"modelWeights: array expected";for(let e=0;e<t.modelWeights.length;++e){let n=u.Weights.verify(t.modelWeights[e]);if(n)return"modelWeights."+n}}return null},t.fromObject=function(t){if(t instanceof u.Model)return t;let e=new u.Model;if(null!=t.id&&(e.id=String(t.id)),null!=t.name&&(e.name=String(t.name)),null!=t.kerasVersion&&(e.kerasVersion=String(t.kerasVersion)),null!=t.backend&&(e.backend=String(t.backend)),null!=t.modelConfig&&(e.modelConfig=String(t.modelConfig)),t.modelWeights){if(!Array.isArray(t.modelWeights))throw TypeError(".Model.modelWeights: array expected");e.modelWeights=[];for(let n=0;n<t.modelWeights.length;++n){if("object"!==typeof t.modelWeights[n])throw TypeError(".Model.modelWeights: object expected");e.modelWeights[n]=u.Weights.fromObject(t.modelWeights[n])}}return e},t.toObject=function(t,e){e||(e={});let n={};if((e.arrays||e.defaults)&&(n.modelWeights=[]),e.defaults&&(n.id="",n.name="",n.kerasVersion="",n.backend="",n.modelConfig=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.kerasVersion&&t.hasOwnProperty("kerasVersion")&&(n.kerasVersion=t.kerasVersion),null!=t.backend&&t.hasOwnProperty("backend")&&(n.backend=t.backend),null!=t.modelConfig&&t.hasOwnProperty("modelConfig")&&(n.modelConfig=t.modelConfig),t.modelWeights&&t.modelWeights.length){n.modelWeights=[];for(let r=0;r<t.modelWeights.length;++r)n.modelWeights[r]=u.Weights.toObject(t.modelWeights[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},t})();e.Model=l},"0976":function(t,e,n){"use strict";function r(){console.error("SYR (symmetric rank 2 operation A := alpha*x*y' + alpha*y*x' + A) not yet implemented")}t.exports=r},"097d":function(t,e,n){"use strict";var r=n("5ca1"),i=n("8378"),o=n("7726"),a=n("ebd6"),s=n("bcaa");r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},"09d6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="Cropping2D";const{cropping:e=[[0,0],[0,0]],data_format:n="channels_last"}=t;Array.isArray(e)?Array.isArray(e[0])?this.cropping=e:this.cropping=[[e[0],e[0]],[e[1],e[1]]]:this.cropping=[[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.cropping)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]],this.output=new i.default([],this.outputShape),a.default.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]).lo(this.cropping[0][0],this.cropping[1][0],0)),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.cropping[0][0],this.cropping[1][0]]:[this.cropping[0][0],this.cropping[1][0],0],o="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][1]]:[this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]];a.default.assign(this.indexMap.tensor,n.tensor.hi(...o).lo(...r)),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][0]-this.cropping[1][1]]:[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}e.default=c},"09e0":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},"09fa":function(t,e,n){var r=n("4588"),i=n("9def");t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length!");return n}},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),a=n("9def"),s=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,p=6==t,h=5==t||p,f=e||s;return function(e,s,d){for(var g,m,v=o(e),y=i(v),_=r(s,d,3),x=a(y.length),b=0,w=n?f(e,x):u?f(e,0):void 0;x>b;b++)if((h||b in y)&&(g=y[b],m=_(g,b,v),t))if(n)w[b]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return b;case 2:w.push(g)}else if(l)return!1;return p?-1:c||l?l:w}}},"0a4e":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("d7e6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0);\n}\n";class c extends r.default{constructor(t={}){super(t),l.call(this),this.layerClass="ELU";const{alpha:e=1}=t;this.description=`alpha: ${e}`,this.alpha=e,this.gpu&&(this.program=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,this._compute(this.output.tensor,this.alpha)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.alpha,type:"float",name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=c;var l=function(){Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:(0,a.default)({args:["array","scalar"],body:function(t,e){t=Math.max(t,0)+e*(Math.exp(Math.min(t,0))-1)}})})}},"0b07":function(t,e,n){var r=n("34ac"),i=n("3698");function o(t,e){var n=i(t,e);return r(n)?n:void 0}t.exports=o},"0b21":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{sign:n("96fb")})},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0c00":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},"0c36":function(t,e,n){var r=n("5ca1");r(r.G,{global:n("7726")})},"0c83":function(t,e,n){"use strict";t.exports=p;var r,i=n("e938"),o=i.LongBits,a=i.base64,s=i.utf8;function u(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function c(){}function l(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function p(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}function h(t,e,n){e[n]=255&t}function f(t,e,n){while(t>127)e[n++]=127&t|128,t>>>=7;e[n]=t}function d(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,n){while(t.hi)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;while(t.lo>127)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function m(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}p.create=i.Buffer?function(){return(p.create=function(){return new r})()}:function(){return new p},p.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(p.alloc=i.pool(p.alloc,i.Array.prototype.subarray)),p.prototype._push=function(t,e,n){return this.tail=this.tail.next=new u(t,e,n),this.len+=e,this},d.prototype=Object.create(u.prototype),d.prototype.fn=f,p.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new d((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},p.prototype.int32=function(t){return t<0?this._push(g,10,o.fromNumber(t)):this.uint32(t)},p.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},p.prototype.uint64=function(t){var e=o.from(t);return this._push(g,e.length(),e)},p.prototype.int64=p.prototype.uint64,p.prototype.sint64=function(t){var e=o.from(t).zzEncode();return this._push(g,e.length(),e)},p.prototype.bool=function(t){return this._push(h,1,t?1:0)},p.prototype.fixed32=function(t){return this._push(m,4,t>>>0)},p.prototype.sfixed32=p.prototype.fixed32,p.prototype.fixed64=function(t){var e=o.from(t);return this._push(m,4,e.lo)._push(m,4,e.hi)},p.prototype.sfixed64=p.prototype.fixed64,p.prototype.float=function(t){return this._push(i.float.writeFloatLE,4,t)},p.prototype.double=function(t){return this._push(i.float.writeDoubleLE,8,t)};var v=i.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};p.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(h,1,0);if(i.isString(t)){var n=p.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},p.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(h,1,0)},p.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},p.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},p.prototype.finish=function(){var t=this.head.next,e=this.constructor.alloc(this.len),n=0;while(t)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},p._configure=function(t){r=t}},"0cd8":function(t,e,n){"use strict";var r=n("5ca1"),i=n("7b23");r(r.P+r.F*!n("2f21")([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},"0cf3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",c="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n";class l extends r.default{constructor(t={}){super(t),this.layerClass="_Pooling1D";const{pool_size:e=2,strides:n=null,padding:r="valid"}=t;this.poolSize=e,this.strides=null===n?this.poolSize:n,this.padding=r,this.poolingFunc="max",this.description=`pool size ${this.poolSize}`,this.description+=this.strides>1?`, striding ${this.strides} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram(u),this.poolingFragmentsProgram=o.webgl2.compileProgram(c))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e="valid"===this.padding?Math.floor((t.tensor.shape[0]-this.poolSize+this.strides)/this.strides):Math.floor((t.tensor.shape[0]+this.strides-1)/this.strides);this.output=new i.default([],[e,t.tensor.shape[1]]);const n=new i.default([],[t.tensor.shape[1]]);let r="valid"===this.padding?0:Math.min(0,Math.ceil((t.tensor.shape[0]-(e-1)*this.strides-this.poolSize)/2));for(let i=0;i<e;i++){let e=Math.max(0,r),o=this.poolSize+Math.min(0,r);a.default.assign(n.tensor,t.tensor.pick(e,null));let s=1;for(let r=1;r<o;r++){if(e+r>t.tensor.shape[0]-1)break;"max"===this.poolingFunc?a.default.maxeq(n.tensor,t.tensor.pick(e+r,null)):"average"===this.poolingFunc&&a.default.addeq(n.tensor,t.tensor.pick(e+r,null)),s+=1}"average"===this.poolingFunc&&a.default.divseq(n.tensor,s),a.default.assign(this.output.tensor.pick(i,null),n.tensor),r+=this.strides}}_createIndexMap(){if(this.poolIndexMap)return;const t="valid"===this.padding?Math.floor((this.inputShape[0]-this.poolSize+this.strides)/this.strides):Math.floor((this.inputShape[0]+this.strides-1)/this.strides);this.outputShape=[t,this.inputShape[1]],this.poolIndexMap=new i.default([],[t,this.poolSize],{type:Int32Array}),a.default.assigns(this.poolIndexMap.tensor,-1);let e="valid"===this.padding?0:Math.min(0,Math.ceil((this.inputShape[0]-(t-1)*this.strides-this.poolSize)/2));for(let n=0;n<t;n++){let t=Math.max(0,e),r=this.poolSize+Math.min(0,e),i=t;this.poolIndexMap.tensor.set(n,0,i);for(let e=1;e<r;e++){if(i=t+e,!(i<=this.inputShape[0]-1))break;this.poolIndexMap.tensor.set(n,e,i)}e+=this.strides}this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.inputShape=t.tensor.shape,this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}));const e="max"===this.poolingFunc,n=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:this.poolSize,type:"int",name:"poolSize"},{value:+e,type:"bool",name:"isMaxPooling"}];t.glTextureFragments?(t.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n,supportsTextureFragments:!0}),t.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:n,supportsTextureFragments:!0}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=l},"0d24":function(t,e,n){(function(t){var r=n("2b3e"),i=n("07c7"),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;t.exports=l}).call(this,n("62e4")(t))},"0d25":function(t,e,n){var r=n("5ca1"),i=n("8079")(),o=n("7726").process,a="process"==n("2d95")(o);r(r.G,{asap:function(t){var e=a&&o.domain;i(e?e.bind(t):t)}})},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},"0d6d":function(t,e,n){var r=n("d3f4"),i=n("67ab").onFreeze;n("5eda")("freeze",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},"0e01":function(t,e,n){"use strict";t.exports=h;var r=32;function i(t,e){return"native"===e[1]?[t,"d0=",t,".length,",t,"d1=",t,"[0].length,"].join(""):[t,"d0=",t,".shape[0],",t,"d1=",t,".shape[1],",t,"s0=",t,".stride[0],",t,"s1=",t,".stride[1],",t,"o=",t,".offset,",t,"d=",t,".data,"].join("")}function o(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]&&(r?a.push("var ",e,"p=",e,"[",r,"];"):a.push("var ",e,"p=",e,"[0];")):r&&i?o?a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",o,",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0+",i,"*",e,"s1;"):r?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",r,"*",e,"s0;"):i?a.push("var ",e,"t0=",e,"s",t[0],",",e,"p=",e,"o+",i,"*",e,"s1;"):a.push("var ",e,"t0=",e,"s",t[0],",",e,"t1=",e,"s",t[1],"-",e,"s",t[0],"*",e,"d",t[0],",",e,"p=",e,"o;"),a}function a(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]&&1===r&&o.push(e,"p=",e,"[",i,"+1]"):o.push(e,"p+=",e,"t",r,";"),o}function s(t,e,n,r,i,o){var a=[];return"native"===n[1]?t[0]?a.push(e,"p[",i,"]=",o,";"):a.push(e,"[",r,"][",i,"]=",o,";"):"generic"===n[1]?a.push(e,"d.set(",e,"p,",o,");"):a.push(e,"d[",e,"p]=",o,";"),a}function u(t,e,n,r,i){var o=[];return"native"===n[1]?t[0]?o.push(e,"p[",i,"]"):o.push(e,"[",r,"][",i,"]"):"generic"===n[1]?o.push(e,"d.get(",e,"p)"):o.push(e,"d[",e,"p]"),o.join("")}function c(t,e,n,r,i){var c=[],l="r"===t[0]?[1,0]:[0,1],p=[1,0],h=[0,1],f=["i","j"];return c.push.apply(c,o(l,"o",t)),l[1]?(c.push("for(j=0;j<od1;++j){"),c.push("for(i=0;i<od0;++i){")):(c.push("for(i=0;i<od0;++i){"),c.push("for(j=0;j<od1;++j){")),c.push.apply(c,o(p,"a",e,"i")),c.push.apply(c,o(h,"b",n,void 0,"j")),c.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",u(p,"a",e,"i","k"),"*",u(h,"b",n,"k","j"),";"),c.push.apply(c,a(p,"a",e,0,"k")),c.push.apply(c,a(h,"b",n,0,"k")),c.push("}"),r&&c.push("r*=A;"),i&&c.push("r+=B*",u(l,"o",t,"i","j"),";"),c.push.apply(c,s(l,"o",t,"i","j","r")),c.push.apply(c,a(l,"o",t,0,f[1])),c.push("}"),c.push.apply(c,a(l,"o",t,1,f[0])),c.push("}"),c}function l(t,e){var n,r=[],i="r"===t[0]?[1,0]:[0,1];return e&&r.push("if(B!==1.0){"),r.push.apply(r,o(i,"o",t)),i[0]?(r.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),n=["i","j"]):(r.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),n=["j","i"]),e?r.push.apply(r,s(i,"o",t,"i","j","B*"+u(i,"o",t,"i","j"))):r.push.apply(r,s(i,"o",t,"i","j","0")),r.push.apply(r,a(i,"o",t,0,n[1])),r.push("}"),r.push.apply(r,a(i,"o",t,1,n[0])),r.push("}"),e&&r.push("}"),r}function p(t,e,n,i,c){var p=[],h=["od0","od1","ad1"],f=[1,0],d=[1,0],g=[0,1];p.push.apply(p,l(t,c));for(var m=0;m<3;++m)p.push("for(var i",m,"=",h[m],";i",m,">0;){","var w",m,"=",r,";","if(i",m,"<",r,"){","w",m,"=i",m,";","i",m,"=0;","}else{","i",m,"-=",r,";","}");p.push.apply(p,o(f,"o",t,"i0","i1","w1")),p.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),p.push.apply(p,o(d,"a",e,"(i0+i)","i2")),p.push.apply(p,o(g,"b",n,"i2","(i1+j)")),p.push("for(k=0;k<w2;++k){"),p.push("r+=",u(d,"a",e,"(i0+i)","(i2+k)"),"*",u(g,"b",n,"(i2+k)","(i1+j)"),";"),p.push.apply(p,a(d,"a",e,0,"(i2+k)")),p.push.apply(p,a(g,"b",n,0,"(i2+k)")),p.push("}");var v="r";return i&&(v="A*r"),p.push.apply(p,s(f,"o",t,"(i0+i)","(i1+j)",v+"+"+u(f,"o",t,"(i0+i)","(i1+j)"))),p.push.apply(p,a(f,"o",t,0,"(i1+j)")),p.push("}"),p.push.apply(p,a(f,"o",t,1,"(i0+i)")),p.push("}}}}"),p}function h(t,e,n,r,o){var a=["gemm",t[0],t[1],"a",e[0],e[1],"b",n[0],n[1],r?"alpha":"",o?"beta":""].join(""),s=["function ",a,"(o,a,b,A,B){","var ",i("o",t),i("a",e),i("b",n),"i,j,k;"];"r"===e[0]&&"c"===n[0]?s.push.apply(s,c(t,e,n,r,o)):s.push.apply(s,p(t,e,n,r,o)),s.push("}return ",a);var u=new Function(s.join(""));return u()}},"0edf":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("e7fa")),i=u(n("d3b1")),o=n("d966"),a=u(n("c0de")),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}class c extends r.default{constructor(t={}){super(t),this.layerClass="Multiply",this.mode="mul"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e),s.default.assigns(this.output.tensor,1);for(let n=0;n<t.length;n++)s.default.muleq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,n=(0,a.default)("multiply",t.length,e);this.mergeProgram=o.webgl2.compileProgram(n)}super._callGPU(t)}}e.default=c},"0f88":function(t,e,n){var r,i=n("7726"),o=n("32e9"),a=n("ca5a"),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,p=0,h=9,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(p<h)(r=i[f[p++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},1070:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("891c")),i=c(n("d3b1")),o=n("d966"),a=c(n("62d6")),s=u(n("069c"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}const l="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",p="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0] * 2) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_x >= 0 && out_x < size[0]) {\n    outColor = vec4(texelFetch(forward, ivec2(out_x, out_y), 0).r);\n  } else {\n    outColor = vec4(texelFetch(backward, ivec2(out_x - size[0], size[1] - out_y - 1), 0).r);\n  }\n}\n",h="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(forward_val + backward_val);\n}\n",f="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(forward_val * backward_val);\n}\n",d="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D forward;\nuniform sampler2D backward;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(forward, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float forward_val = texelFetch(forward, ivec2(out_x, out_y), 0).r;\n  float backward_val = texelFetch(backward, ivec2(out_x, size[1] - out_y - 1), 0).r;\n\n  outColor = vec4(0.5 * (forward_val + backward_val));\n}\n";class g extends r.default{constructor(t={}){super(t),this.layerClass="Bidirectional";const{layer:e,merge_mode:n="concat"}=t;e||this.throwError("wrapped layer is undefined."),["SimpleRNN","GRU","LSTM"].includes(e.class_name)||this.throwError(`cannot wrap ${e.class_name} layer.`),["concat","sum","mul","ave"].includes(n)||this.throwError(`merge_mode ${n} not supported.`);const r=Object.assign({},e.config,{gpu:t.gpu}),i=Object.assign({},e.config,{gpu:t.gpu});i.go_backwards=!i.go_backwards,this.forwardLayer=new s[e.class_name](r),this.backwardLayer=new s[e.class_name](i),this.forwardLayer.outbound=[null],this.backwardLayer.outbound=[null],this.mergeMode=n,this.returnSequences=e.config.return_sequences,this.gpu&&(this.copyTextureProgram=o.webgl2.compileProgram(l),"concat"===this.mergeMode?this.mergeProgram=o.webgl2.compileProgram(p):"sum"===this.mergeMode?this.mergeProgram=o.webgl2.compileProgram(h):"mul"===this.mergeMode?this.mergeProgram=o.webgl2.compileProgram(f):"ave"===this.mergeMode&&(this.mergeProgram=o.webgl2.compileProgram(d)))}setWeights(t){this.forwardLayer.setWeights(t.slice(0,t.length/2)),this.backwardLayer.setWeights(t.slice(t.length/2))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.forwardLayer._callCPU(new i.default(t.tensor.data,t.tensor.shape)),this.backwardLayer._callCPU(new i.default(t.tensor.data,t.tensor.shape));const e=this.forwardLayer.output,n=this.backwardLayer.output;this.returnSequences&&(n.tensor=n.tensor.step(-1));const r=e.tensor.shape.slice();"concat"===this.mergeMode&&(r[r.length-1]+=n.tensor.shape[r.length-1]),this.output=new i.default([],r),"concat"===this.mergeMode?this.returnSequences?(a.default.assign(this.output.tensor.hi(r[0],e.tensor.shape[1]).lo(0,0),e.tensor),a.default.assign(this.output.tensor.hi(r[0],r[1]).lo(0,e.tensor.shape[1]),n.tensor)):(a.default.assign(this.output.tensor.hi(e.tensor.shape[0]).lo(0),e.tensor),a.default.assign(this.output.tensor.hi(r[0]).lo(e.tensor.shape[0]),n.tensor)):"sum"===this.mergeMode?(a.default.addeq(this.output.tensor,e.tensor),a.default.addeq(this.output.tensor,n.tensor)):"mul"===this.mergeMode?(a.default.assigns(this.output.tensor,1),a.default.muleq(this.output.tensor,e.tensor),a.default.muleq(this.output.tensor,n.tensor)):"ave"===this.mergeMode&&(a.default.addeq(this.output.tensor,e.tensor),a.default.addeq(this.output.tensor,n.tensor),a.default.divseq(this.output.tensor,2))}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputCopy||(this.inputCopy=new i.default([],t.glTextureShape),this.inputCopy.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.copyTextureProgram,output:this.inputCopy,inputs:[{input:t,name:"source"}]}),this.forwardLayer._callGPU(t),this.backwardLayer._callGPU(this.inputCopy);const e=this.forwardLayer.output,n=this.backwardLayer.output,r=e.glTextureShape.slice();"concat"===this.mergeMode&&(r[1]+=n.glTextureShape[1]),this.output||(this.output=new i.default([],r),this.output.createGLTexture({type:"2d",format:"float"}),this.returnSequences||(this.output.is1D=!0)),o.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:[{input:e,name:"forward"},{input:n,name:"backward"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=g},"10ad":function(t,e,n){"use strict";var r,i=n("7726"),o=n("0a49")(0),a=n("2aba"),s=n("67ab"),u=n("7333"),c=n("643e"),l=n("d3f4"),p=n("b39a"),h=n("b39a"),f=!i.ActiveXObject&&"ActiveXObject"in i,d="WeakMap",g=s.getWeak,m=Object.isExtensible,v=c.ufstore,y=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},_={get:function(t){if(l(t)){var e=g(t);return!0===e?v(p(this,d)).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(p(this,d),t,e)}},x=t.exports=n("e0b8")(d,y,_,c,!0,!0);h&&f&&(r=c.getConstructor(y,d),u(r.prototype,_),s.NEED=!0,o(["delete","has","get","set"],function(t){var e=x.prototype,n=e[t];a(e,t,function(e,i){if(l(e)&&!m(e)){this._f||(this._f=new r);var o=this._f[t](e,i);return"set"==t?this:o}return n.call(this,e,i)})}))},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),a=n("6a99"),s=n("69a8"),u=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},1290:function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},1303:function(t,e,n){"use strict";function r(t,e){const n=`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n\n  float val = texelFetch(inputs[0], ivec2(out_x, out_y), 0).r;\n  for (int i = 1; i < ${t}; i++) {\n    val = max(val, texelFetch(inputs[i], ivec2(out_x, out_y), 0).r);\n  }\n\n  outColor = vec4(val);\n}\n`;return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"130f":function(t,e,n){var r=n("5ca1"),i=n("1991");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},1368:function(t,e,n){var r=n("da03"),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function o(t){return!!i&&i in t}t.exports=o},"139c":function(t,e,n){"use strict";t.exports.gemv=n("b07e"),t.exports.gbmv=n("ae33"),t.exports.symv=n("f13b"),t.exports.sbmv=n("6266"),t.exports.spmv=n("fb57"),t.exports.trmv=n("2d7c3"),t.exports.tbmv=n("ec7d"),t.exports.trsv=n("cff1"),t.exports.tbsv=n("a708"),t.exports.tpsv=n("cbb2"),t.exports.ger=n("345d"),t.exports.syr=n("2b5c"),t.exports.spr=n("938b"),t.exports.syr2=n("0976"),t.exports.spr2=n("c1dc"),t.exports.trmv_lower=function(e,n){return console.warn("trmv_lower is deprecated. Please use the 'isLower' flag with trmv."),t.exports.trmv(e,n,!0)},t.exports.trsv_lower=function(e,n){return console.warn("trsv_lower is deprecated. Please use the 'isLower' flag with trsv."),t.exports.trsv(e,n,!0)}},1448:function(t,e,n){"use strict";n("386b")("strike",function(t){return function(){return t(this,"strike","","")}})},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),s=a.length,u=0;while(s>u)r.f(t,n=a[u++],e[n]);return t}},"14b9":function(t,e,n){var r=n("5ca1");r(r.P,"String",{repeat:n("9744")})},"159a":function(t,e,n){var r=n("32b3"),i=n("e2e4"),o=n("c098"),a=n("1a8c"),s=n("f4d6");function u(t,e,n,u){if(!a(t))return t;e=i(e,t);var c=-1,l=e.length,p=l-1,h=t;while(null!=h&&++c<l){var f=s(e[c]),d=n;if(c!=p){var g=h[f];d=u?u(g,f,h):void 0,void 0===d&&(d=a(g)?g:o(e[c+1])?[]:{})}r(h,f,d),h=h[f]}return t}t.exports=u},"15ac":function(t,e,n){n("ec30")("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},"15f3":function(t,e,n){var r=n("89d9"),i=n("8604");function o(t,e){return r(t,e,function(e,n){return i(t,n)})}t.exports=o},"165b":function(t,e,n){var r=n("d3f4");n("5eda")("isExtensible",function(t){return function(e){return!!r(e)&&(!t||t(e))}})},"16cc":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("0cf3"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="AveragePooling1D",this.poolingFunc="average"}}e.default=o},"175e":function(t,e,n){"use strict";function r(t,e){for(var n=1,r=t.length,i=t[0],o=t[0],a=1;a<r;++a)if(o=i,i=t[a],e(i,o)){if(a===n){n++;continue}t[n++]=i}return t.length=n,t}function i(t){for(var e=1,n=t.length,r=t[0],i=t[0],o=1;o<n;++o,i=r)if(i=r,r=t[o],r!==i){if(o===e){e++;continue}t[e++]=r}return t.length=e,t}function o(t,e,n){return 0===t.length?t:e?(n||t.sort(e),r(t,e)):(n||t.sort(),i(t))}t.exports=o},"17bb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=i(n("5a3a"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){const n=`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n\n  outColor = vec4(${(0,r.default)(t).map(t=>`texelFetch(inputs[${t}], ivec2(out_x, out_y), 0).r`).join(" * ")});\n}\n`;return n}},1838:function(t,e,n){var r=n("c05f"),i=n("9b02"),o=n("8604"),a=n("f608"),s=n("08cc"),u=n("20ec"),c=n("f4d6"),l=1,p=2;function h(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|p)}}t.exports=h},"18d0":function(t,e,n){var r=n("5ca1"),i=n("3ca5");r(r.G+r.F*(parseInt!=i),{parseInt:i})},"18d8":function(t,e,n){var r=n("234d"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},1991:function(t,e,n){var r,i,o,a=n("9b43"),s=n("31f4"),u=n("fab2"),c=n("230e"),l=n("7726"),p=l.process,h=l.setImmediate,f=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,m=0,v={},y="onreadystatechange",_=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},x=function(t){_.call(t.data)};h&&f||(h=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return v[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},f=function(t){delete v[t]},"process"==n("2d95")(p)?r=function(t){p.nextTick(a(_,t,1))}:g&&g.now?r=function(t){g.now(a(_,t,1))}:d?(i=new d,o=i.port2,i.port1.onmessage=x,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",x,!1)):r=y in c("script")?function(t){u.appendChild(c("script"))[y]=function(){u.removeChild(this),_.call(t)}}:function(t){setTimeout(a(_,t,1),0)}),t.exports={set:h,clear:f}},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"1c01":function(t,e,n){var r=n("5ca1");r(r.S+r.F*!n("9e1e"),"Object",{defineProperty:n("86cc").f})},"1c3c":function(t,e,n){var r=n("9e69"),i=n("2474"),o=n("9638"),a=n("a2be"),s=n("edfa"),u=n("ac41"),c=1,l=2,p="[object Boolean]",h="[object Date]",f="[object Error]",d="[object Map]",g="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",_="[object Symbol]",x="[object ArrayBuffer]",b="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;function T(t,e,n,r,w,T,P){switch(n){case b:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case x:return!(t.byteLength!=e.byteLength||!T(new i(t),new i(e)));case p:case h:case g:return o(+t,+e);case f:return t.name==e.name&&t.message==e.message;case m:case y:return t==e+"";case d:var C=s;case v:var M=r&c;if(C||(C=u),t.size!=e.size&&!M)return!1;var A=P.get(t);if(A)return A==e;r|=l,P.set(t,e);var F=a(C(t),C(e),r,w,T,P);return P["delete"](t),F;case _:if(S)return S.call(t)==S.call(e)}return!1}t.exports=T},"1c4c":function(t,e,n){"use strict";var r=n("9b43"),i=n("5ca1"),o=n("4bf8"),a=n("1fa8"),s=n("33a4"),u=n("9def"),c=n("f1ae"),l=n("27ee");i(i.S+i.F*!n("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,p,h=o(t),f="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,m=void 0!==g,v=0,y=l(h);if(m&&(g=r(g,d>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(e=u(h.length),n=new f(e);e>v;v++)c(n,v,m?g(h[v],v):h[v]);else for(p=y.call(h),n=new f;!(i=p.next()).done;v++)c(n,v,m?a(p,g,[i.value,v],!0):i.value);return n.length=v,n}})},"1cba":function(t,e,n){var r=n("4796"),i=n("9aff"),o=n("6428");function a(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}t.exports=a},"1cec":function(t,e,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"Promise");t.exports=o},"1e06":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("891c")),i=c(n("d3b1")),o=n("d966"),a=u(n("3e72")),s=u(n("70de"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}class l extends r.default{constructor(t={}){super(t),this.layerClass="Activation";const{activation:e="linear"}=t;this.activation=e,this.activationFunc=a[e],this.description=`${this.activation}`,this.gpu&&(this.program=o.webgl2.compileProgram(s[this.activation]))}call(t){return"linear"===this.activation?(this.output=t,this.output):(this.gpu?this._callGPU(t):this._callCPU(t),this.output)}_callCPU(t){this.output=new i.default(new t.arrayType(t.tensor.data),t.tensor.shape),this.activationFunc(this.output)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=l},"1efc":function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},"1f18":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},"1f48":function(t,e,n){var r=n("48a0");function i(t,e){var n=!0;return r(t,function(t,r,i){return n=!!e(t,r,i),n}),n}t.exports=i},"1f4e":function(t,e,n){"use strict";var r=n("b5bb");function i(t,e){var n,i;if(void 0!==e&&(!Number.isFinite(e)||e%1!==e))throw new Error("axis of dimension to unsqueeze must be an integer");return e=void 0===e?t.shape.length:e,n=t.shape.slice(0),i=t.stride.slice(0),n.splice(e||0,0,1),i.splice(e||0,0,(i[e]||1)*(n[e+1]||1)),r(t.data,n,i,t.offset)}t.exports=i},"1f7d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="Cropping3D";const{cropping:e=[[0,0],[0,0],[0,0]],data_format:n="channels_last"}=t;Array.isArray(e)?Array.isArray(e[0])?this.cropping=e:this.cropping=[[e[0],e[0]],[e[1],e[1]],[e[2],e[2]]]:this.cropping=[[e,e],[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.cropping)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][0]-this.cropping[2][1],this.inputShape[3]],this.output=new i.default([],this.outputShape),a.default.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][1],this.inputShape[3]).lo(this.cropping[0][0],this.cropping[1][0],this.cropping[2][0],0)),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.cropping[0][0],this.cropping[1][0],this.cropping[2][0]]:[this.cropping[0][0],this.cropping[1][0],this.cropping[2][0],0],o="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][1],this.inputShape[3]-this.cropping[2][1]]:[this.inputShape[0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][1],this.inputShape[3]];a.default.assign(this.indexMap.tensor,n.tensor.hi(...o).lo(...r)),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[2]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[3]-this.cropping[2][0]-this.cropping[2][1]]:[this.inputShape[0]-this.cropping[0][0]-this.cropping[0][1],this.inputShape[1]-this.cropping[1][0]-this.cropping[1][1],this.inputShape[2]-this.cropping[2][0]-this.cropping[2][1],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}e.default=c},"1f91":function(t,e,n){var r=n("5ca1"),i=n("e9d2"),o=n("91ca");r(r.S,"Math",{fscale:function(t,e,n,r,a){return o(i(t,e,n,r,a))}})},"1fa8":function(t,e,n){var r=n("cb7c");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},"1fb5":function(t,e,n){"use strict";e.byteLength=l,e.toByteArray=h,e.fromByteArray=g;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function l(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function p(t,e,n){return 3*(e+n)/4-n}function h(t){for(var e,n=c(t),r=n[0],a=n[1],s=new o(p(t,r,a)),u=0,l=a>0?r-4:r,h=0;h<l;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,s[u++]=255&e),1===a&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e),s}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function d(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(f(r));return i.join("")}function g(t){for(var e,n=t.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(d(t,s,s+a>u?u:s+a));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},"1fc8":function(t,e,n){var r=n("4245");function i(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}t.exports=i},2031:function(t,e,n){"use strict";function r(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=n;return e}t.exports=r},"20d6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"20ec":function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},2110:function(t,e,n){"use strict";t.exports=u;var r,i=n("e938"),o=i.LongBits,a=i.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function u(t){this.buf=t,this.pos=0,this.len=t.length}var c="undefined"!==typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new u(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new u(t);throw Error("illegal buffer")};function l(){var t=new o(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function p(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}u.create=i.Buffer?function(t){return(u.create=function(t){return i.Buffer.isBuffer(t)?new r(t):c(t)})(t)}:c,u.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,u.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return t;if(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return t;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return t}}(),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return p(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|p(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},u.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},u.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},u.prototype.skip=function(t){if("number"===typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:while(4!==(t=7&this.uint32()))this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},u._configure=function(t){r=t;var e=i.Long?"toLong":"toNumber";i.merge(u.prototype,{int64:function(){return l.call(this)[e](!1)},uint64:function(){return l.call(this)[e](!0)},sint64:function(){return l.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),a=n("be13"),s=n("2b4c"),u=n("520a"),c=s("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),p=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=s(t),f=!o(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)}),d=f?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[h](""),!e}):void 0;if(!f||!d||"replace"===t&&!l||"split"===t&&!p){var g=/./[h],m=n(a,h,""[t],function(t,e,n,r,i){return e.exec===u?f&&!i?{done:!0,value:g.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=m[0],y=m[1];r(String.prototype,t,v),i(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"217b":function(t,e,n){"use strict";var r=n("d3f4"),i=n("38fd"),o=n("2b4c")("hasInstance"),a=Function.prototype;o in a||n("86cc").f(a,o,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;while(t=i(t))if(this.prototype===t)return!0;return!1}})},2251:function(t,e,n){var r=n("5ca1"),i=n("cb7c"),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},2286:function(t,e,n){var r=n("85e3"),i=Math.max;function o(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){var o=arguments,a=-1,s=i(o.length-e,0),u=Array(s);while(++a<s)u[a]=o[e+a];a=-1;var c=Array(e+1);while(++a<e)c[a]=o[a];return c[e]=n(u),r(t,this,c)}}t.exports=o},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"234d":function(t,e,n){var r=n("e380"),i=500;function o(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}t.exports=o},2397:function(t,e,n){var r=n("5ca1"),i=n("2aeb"),o=n("d8e8"),a=n("cb7c"),s=n("d3f4"),u=n("79e5"),c=n("f0c1"),l=(n("7726").Reflect||{}).construct,p=u(function(){function t(){}return!(l(function(){},[],t)instanceof t)}),h=!u(function(){l(function(){})});r(r.S+r.F*(p||h),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(h&&!p)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,f=i(s(u)?u:Object.prototype),d=Function.apply.call(t,f,e);return s(d)?d:f}})},"23be":function(t,e,n){"use strict";n("aa77")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},"23bf":function(t,e,n){"use strict";var r=n("5ca1"),i=n("fab2"),o=n("2d95"),a=n("77f1"),s=n("9def"),u=[].slice;r(r.P+r.F*n("79e5")(function(){i&&u.call(i)}),"Array",{slice:function(t,e){var n=s(this.length),r=o(this);if(e=void 0===e?n:e,"Array"==r)return u.call(this,t,e);for(var i=a(t,n),c=a(e,n),l=s(c-i),p=new Array(l),h=0;h<l;h++)p[h]="String"==r?this.charAt(i+h):this[i+h];return p}})},"23c3":function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},2405:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("d3b1")),i=n("d966"),o=c(n("62d6")),a=n("139c"),s=c(n("f93b")),u=c(n("c0de"));function c(t){return t&&t.__esModule?t:{default:t}}class l{constructor(t={}){if(this.modelLayersMap=t.modelLayersMap,this.gpu=t.gpu,!this.modelLayersMap)throw new Error("[CAM] modelLayersMap is required")}initialize(){if(this.modelLayersMap.forEach(t=>{"GlobalAveragePooling2D"===t.layerClass&&(this.enabled=!0,this.poolLayer=t)}),this.enabled&&!this.data){this.featureMaps=this.modelLayersMap.get(this.poolLayer.inbound[0]).output;let t=this.poolLayer;t.outbound.length||(this.weights=this.poolLayer.output);while(t.outbound.length)t=this.modelLayersMap.get(t.outbound[0]),t.weights["kernel"]?this.weights=t.weights["kernel"]:this.weights=this.poolLayer.output;if(this.featureMaps.is2DReshaped?this.inputShape=this.featureMaps.originalShape.slice(0,2):this.inputShape=this.featureMaps.tensor.shape.slice(0,2),1===this.weights.tensor.shape.length)this.shape=this.inputShape;else{const t=this.weights.tensor.shape[1];this.shape=[...this.inputShape,t]}this.data=new Float32Array(this.shape.reduce((t,e)=>t*e,1))}}update(){if(!this.enabled)return;this.featureMaps=this.modelLayersMap.get(this.poolLayer.inbound[0]).output,this.gpu?this._updateGPU():this._updateCPU();const t=o.default.inf(this.output.tensor),e=o.default.sup(this.output.tensor);o.default.divseq(o.default.subseq(this.output.tensor,t),e-t),this.data=this.output.tensor.data}_updateCPU(){if(this.featureMaps.is2DReshaped||this.featureMaps.reshapeTo2D(),1===this.weights.tensor.shape.length){this.output||(this.output=new r.default([],this.shape));const t=new r.default([],[this.shape[0]*this.shape[1]]);(0,a.gemv)(1,this.featureMaps.tensor,this.weights.tensor,1,t.tensor),this.output.replaceTensorData(t.tensor.data)}else this.output||(this.output=new r.default([],this.shape)),this.output.reshapeTo2D(),(0,s.default)(this.output.tensor,this.featureMaps.tensor,this.weights.tensor,1,1),this.output.reshapeFrom2D();o.default.maxseq(this.output.tensor,0),this.featureMaps.is2DReshaped&&this.featureMaps.reshapeFrom2D()}_updateGPU(){this.output||(this.output=new r.default([],this.shape));const t=this.weights.is1D;!this.output.glTexture&&t?this.output.createGLTexture({type:"2d",format:"float"}):(this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"}));const e=t?this.weights.glTextureShape[1]:this.weights.glTextureShape[0];if(!this.program){const n=(0,u.default)("cam",this.output.glTextureShape,e,t);this.program=i.webgl2.compileProgram(n)}i.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:this.featureMaps,name:"featureMaps"},{input:this.weights,name:"weights"}]}),this.output.transferFromGLTexture(),this.output.is2DReshaped&&this.output.reshapeFrom2D()}}e.default=l},"242a":function(t,e,n){"use strict";n("386b")("sup",function(t){return function(){return t(this,"sup","","")}})},"242e":function(t,e,n){var r=n("72af"),i=n("ec69");function o(t,e){return t&&r(t,e,i)}t.exports=o},2474:function(t,e,n){var r=n("2b3e"),i=r.Uint8Array;t.exports=i},2478:function(t,e,n){var r=n("4245");function i(t){return r(this,t).get(t)}t.exports=i},2524:function(t,e,n){var r=n("6044"),i="__lodash_hash_undefined__";function o(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}t.exports=o},"253c":function(t,e,n){var r=n("3729"),i=n("1310"),o="[object Arguments]";function a(t){return i(t)&&r(t)==o}t.exports=a},2593:function(t,e,n){var r=n("15f3"),i=n("c6cf"),o=i(function(t,e){return null==t?{}:r(t,e)});t.exports=o},"25c9":function(t,e,n){var r=n("5ca1"),i=Math.exp;r(r.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},"25db":function(t,e,n){n("5eda")("getOwnPropertyNames",function(){return n("7bbc").f})},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"262f":function(t,e,n){var r=n("5ca1");r(r.G+r.W+r.F*!n("0f88").ABV,{DataView:n("ed0b").DataView})},2657:function(t,e,n){var r=n("662a"),i=n("1f48"),o=n("badf"),a=n("6747"),s=n("9aff");function u(t,e,n){var u=a(t)?r:i;return n&&s(t,e,n)&&(e=void 0),u(t,o(e,3))}t.exports=u},"26e8":function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},2743:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="_GlobalPooling3D";const{data_format:e="channels_last"}=t;this.dataFormat=e,this.poolingFunc="max",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0));const[e,n,r,o]=t.tensor.shape;this.output=new i.default([],[o]);for(let i=0,s=o;i<s;i++)"max"===this.poolingFunc?this.output.tensor.set(i,a.default.sup(t.tensor.pick(null,null,null,i))):"average"===this.poolingFunc&&this.output.tensor.set(i,a.default.sum(t.tensor.pick(null,null,null,i))/(e*n*r))}_callGPU(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new i.default([],[this.inputShape[3]]),this.output.createGLTexture({type:"2d",format:"float"}));const e="max"===this.poolingFunc;o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0]*this.inputShape[1]*this.inputShape[2],type:"int",name:"channelDataSize"},{value:+e,type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},2748:function(t,e,n){var r=n("5ca1"),i=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*i}})},2769:function(t,e,n){var r=n("5ca0"),i=n("51f5"),o=r(i);t.exports=o},"27ee":function(t,e,n){var r=n("23c6"),i=n("2b4c")("iterator"),o=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},2877:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:c}}n.d(e,"a",function(){return r})},"28a5":function(t,e,n){"use strict";var r=n("aae3"),i=n("cb7c"),o=n("ebd6"),a=n("0390"),s=n("9def"),u=n("5f1b"),c=n("520a"),l=n("79e5"),p=Math.min,h=[].push,f="split",d="length",g="lastIndex",m=4294967295,v=!l(function(){RegExp(m,"y")});n("214f")("split",2,function(t,e,n,l){var y;return y="c"=="abbc"[f](/(b)*/)[1]||4!="test"[f](/(?:)/,-1)[d]||2!="ab"[f](/(?:ab)*/)[d]||4!="."[f](/(.?)(.?)/)[d]||"."[f](/()()/)[d]>1||""[f](/.?/)[d]?function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(i,t,e);var o,a,s,u=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,f=void 0===e?m:e>>>0,v=new RegExp(t.source,l+"g");while(o=c.call(v,i)){if(a=v[g],a>p&&(u.push(i.slice(p,o.index)),o[d]>1&&o.index<i[d]&&h.apply(u,o.slice(1)),s=o[0][d],p=a,u[d]>=f))break;v[g]===o.index&&v[g]++}return p===i[d]?!s&&v.test("")||u.push(""):u.push(i.slice(p)),u[d]>f?u.slice(0,f):u}:"0"[f](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i,r):y.call(String(i),n,r)},function(t,e){var r=l(y,t,this,e,y!==n);if(r.done)return r.value;var c=i(t),h=String(this),f=o(c,RegExp),d=c.unicode,g=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(v?"y":"g"),_=new f(v?c:"^(?:"+c.source+")",g),x=void 0===e?m:e>>>0;if(0===x)return[];if(0===h.length)return null===u(_,h)?[h]:[];var b=0,w=0,S=[];while(w<h.length){_.lastIndex=v?w:0;var T,P=u(_,v?h:h.slice(w));if(null===P||(T=p(s(_.lastIndex+(v?0:w)),h.length))===b)w=a(h,w,d);else{if(S.push(h.slice(b,w)),S.length===x)return S;for(var C=1;C<=P.length-1;C++)if(S.push(P[C]),S.length===x)return S;w=b=T}}return S.push(h.slice(b)),S}]})},"28c9":function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},"28e4":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),o=n("9b43"),a=n("4a59");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(n=[],e?(r=0,s=o(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},"28e5":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("891c")),i=c(n("d3b1")),o=n("d966"),a=u(n("c022")),s=c(n("62d6"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}const l="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",p="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n";class h extends r.default{constructor(t={}){super(t),this.layerClass="_Pooling2D";const{pool_size:e=[2,2],strides:n=null,padding:r="valid",data_format:i="channels_last"}=t;Array.isArray(e)?this.poolSize=e:this.poolSize=[e,e],Array.isArray(n)?this.strides=n:this.strides=null!==n?[n,n]:this.poolSize,this.padding=r,this.dataFormat=i,this.poolingFunc="max",this.description=`pool size ${this.poolSize.join("x")}`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram(l),this.poolingFragmentsProgram=o.webgl2.compileProgram(p))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const[e,n,r]=t,[i,o]=this.poolSize,a="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-i+this.strides[0])/this.strides[0]),s="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-o+this.strides[1])/this.strides[1]),u="same"===this.padding?Math.max(0,Math.floor((a-1)*this.strides[0]+i-e)):0,c="same"===this.padding?Math.max(0,Math.floor((s-1)*this.strides[1]+o-n)):0,l=Math.floor(u/2),p=u-l,h=Math.floor(c/2),f=c-h;this.outputShape=[a,s,r],this.inputPadding=[l,p,h,f]}_padInput(t){if("same"===this.padding){const[e,n,r]=t.tensor.shape,[o,a,u,c]=this.inputPadding,l=e+o+a,p=n+u+c,h=new i.default([],[l,p,r]);return"max"===this.poolingFunc&&s.default.assigns(h.tensor,Number.NEGATIVE_INFINITY),s.default.assign(h.tensor.hi(e+o,n+u,r).lo(o,u,0),t.tensor),h}return t}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this._calcOutputShape(t.tensor.shape),t=this._padInput(t);const[e,n,r]=t.tensor.shape,[o,a]=this.poolSize;this.output=new i.default([],this.outputShape);const u=new i.default([],[o,a,r]),[c,l,p,h]=this.inputPadding;for(let i=0,f=0;i<=e-o;i+=this.strides[0],f++){let d=0;i<c?d=c-i:i+o>e-l&&(d=i+o-(e-l));for(let e=0,c=0;e<=n-a;e+=this.strides[1],c++){let l=0;e<p?l=p-e:e+a>n-h&&(l=e+a-(n-h));const g=(o-d)*(a-l);s.default.assign(u.tensor,t.tensor.hi(i+o,e+a,r).lo(i,e,0));for(let t=0;t<r;t++)"max"===this.poolingFunc?this.output.tensor.set(f,c,t,s.default.sup(u.tensor.pick(null,null,t))):"average"===this.poolingFunc&&this.output.tensor.set(f,c,t,s.default.sum(u.tensor.pick(null,null,t))/g)}}"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}_im2col(t){const[e,n,r]=t.tensor.shape;this.tiledInput||(this.tiledInput=new i.default([],[e*n,r]));const o=new i.default([],[e,n]),a=new i.default([],[e*n]);for(let i=0;i<r;i++)s.default.assign(o.tensor,t.tensor.pick(null,null,i)),a.replaceTensorData(o.tensor.data),s.default.assign(this.tiledInput.tensor.pick(null,i),a.tensor);return this.tiledInput}_createIndexMap(){if(this.poolIndexMap)return;let t=this.inputShape[0],e=this.inputShape[1];const n=new i.default([],[t,e]);let r=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)n.tensor.set(i,t,r),r+=1;if("same"===this.padding){const[r,o,a,u]=this.inputPadding;t=t+r+o,e=e+a+u;const c=new i.default([],[t,e]);s.default.assigns(c.tensor,-1),s.default.assign(c.tensor.hi(this.inputShape[0]+r,this.inputShape[1]+a).lo(r,a),n.tensor),n.tensor=c.tensor}const[o,a]=this.poolSize,u=this.outputShape[0],c=this.outputShape[1];this.poolIndexMap=new i.default([],[u*c,o*a],{type:Int32Array});const l=new i.default([],[o,a]);let p=0;for(let i=0,h=t-o;i<=h;i+=this.strides[0])for(let t=0,r=e-a;t<=r;t+=this.strides[1])s.default.assign(l.tensor,n.tensor.hi(i+o,t+a).lo(i,t)),this.poolIndexMap.tensor.data.set(l.tensor.data,p),p+=o*a;this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){if(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this._im2col(t),this.tiledInput.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})),this._calcOutputShape(this.inputShape),this._createIndexMap(),!this.output){const[t,e,n]=this.outputShape,r=[t*e,n];this.output=new i.default([],r),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=a.createIndicesFor2DReshaped(this.outputShape,!1,-1)}const e=t.is2DReshaped||t.is2DSquareReshaped?t:this.tiledInput,n=this.poolSize[0]*this.poolSize[1],r="max"===this.poolingFunc,s=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:n,type:"int",name:"poolSize"},{value:+r,type:"bool",name:"isMaxPooling"}];e.glTextureFragments?(e.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:s,supportsTextureFragments:!0}),e.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:s,supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}e.default=h},"29f3":function(t,e){var n=Object.prototype,r=n.toString;function i(t){return r.call(t)}t.exports=i},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),s=n("fa5b"),u="toString",c=(""+s).split(u);n("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[a]||s.call(this)})},"2adf":function(t,e,n){var r,i,o;(function(n,a){"use strict";i=[e],r=a,o="function"===typeof r?r.apply(e,i):r,void 0===o||(t.exports=o)})(0,function(t){"use strict";var e,n,r,i,o,a,s,u,c,l,p,h,f,d,g,m,v,y;function _(t,e){if(!t)throw new Error("ASSERT: "+e)}function x(t){return t>=48&&t<=57}function b(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function w(t){return"01234567".indexOf(t)>=0}function S(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function T(t){return 10===t||13===t||8232===t||8233===t}function P(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&s.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function C(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&s.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function M(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function A(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function F(t){return"eval"===t||"arguments"===t}function k(t){if(l&&A(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function O(t,e,n,r,i){var o;_("number"===typeof n,"Comment must have valid position"),v.lastCommentStart>=n||(v.lastCommentStart=n,o={type:t,value:e},y.range&&(o.range=[n,r]),y.loc&&(o.loc=i),y.comments.push(o),y.attachComment&&(y.leadingComments.push(o),y.trailingComments.push(o)))}function E(t){var e,n,r,i;e=p-t,n={start:{line:h,column:p-f-t}};while(p<d)if(r=c.charCodeAt(p),++p,T(r))return y.comments&&(i=c.slice(e+t,p-1),n.end={line:h,column:p-f-1},O("Line",i,e,p-1,n)),13===r&&10===c.charCodeAt(p)&&++p,++h,void(f=p);y.comments&&(i=c.slice(e+t,p),n.end={line:h,column:p-f},O("Line",i,e,p,n))}function j(){var t,e,n,r;y.comments&&(t=p-2,e={start:{line:h,column:p-f-2}});while(p<d)if(n=c.charCodeAt(p),T(n))13===n&&10===c.charCodeAt(p+1)&&++p,++h,++p,f=p,p>=d&&ot({},a.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===c.charCodeAt(p+1))return++p,++p,void(y.comments&&(r=c.slice(t+2,p-2),e.end={line:h,column:p-f},O("Block",r,t,p,e)));++p}else++p;ot({},a.UnexpectedToken,"ILLEGAL")}function D(){var t,e;e=0===p;while(p<d)if(t=c.charCodeAt(p),S(t))++p;else if(T(t))++p,13===t&&10===c.charCodeAt(p)&&++p,++h,f=p,e=!0;else if(47===t)if(t=c.charCodeAt(p+1),47===t)++p,++p,E(2),e=!0;else{if(42!==t)break;++p,++p,j()}else if(e&&45===t){if(45!==c.charCodeAt(p+1)||62!==c.charCodeAt(p+2))break;p+=3,E(3)}else{if(60!==t)break;if("!--"!==c.slice(p+1,p+4))break;++p,++p,++p,++p,E(4)}}function I(t){var e,n,r,i=0;for(n="u"===t?4:2,e=0;e<n;++e){if(!(p<d&&b(c[p])))return"";r=c[p++],i=16*i+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(i)}function R(){var t,e;t=c.charCodeAt(p++),e=String.fromCharCode(t),92===t&&(117!==c.charCodeAt(p)&&ot({},a.UnexpectedToken,"ILLEGAL"),++p,t=I("u"),t&&"\\"!==t&&P(t.charCodeAt(0))||ot({},a.UnexpectedToken,"ILLEGAL"),e=t);while(p<d){if(t=c.charCodeAt(p),!C(t))break;++p,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==c.charCodeAt(p)&&ot({},a.UnexpectedToken,"ILLEGAL"),++p,t=I("u"),t&&"\\"!==t&&C(t.charCodeAt(0))||ot({},a.UnexpectedToken,"ILLEGAL"),e+=t)}return e}function L(){var t,e;t=p++;while(p<d){if(e=c.charCodeAt(p),92===e)return p=t,R();if(!C(e))break;++p}return c.slice(t,p)}function U(){var t,n,r;return t=p,n=92===c.charCodeAt(p)?R():L(),r=1===n.length?e.Identifier:k(n)?e.Keyword:"null"===n?e.NullLiteral:"true"===n||"false"===n?e.BooleanLiteral:e.Identifier,{type:r,value:n,lineNumber:h,lineStart:f,start:t,end:p}}function z(){var t,n,r,i,o=p,s=c.charCodeAt(p),u=c[p];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++p,y.tokenize&&(40===s?y.openParenToken=y.tokens.length:123===s&&(y.openCurlyToken=y.tokens.length)),{type:e.Punctuator,value:String.fromCharCode(s),lineNumber:h,lineStart:f,start:o,end:p};default:if(t=c.charCodeAt(p+1),61===t)switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return p+=2,{type:e.Punctuator,value:String.fromCharCode(s)+String.fromCharCode(t),lineNumber:h,lineStart:f,start:o,end:p};case 33:case 61:return p+=2,61===c.charCodeAt(p)&&++p,{type:e.Punctuator,value:c.slice(o,p),lineNumber:h,lineStart:f,start:o,end:p}}}return i=c.substr(p,4),">>>="===i?(p+=4,{type:e.Punctuator,value:i,lineNumber:h,lineStart:f,start:o,end:p}):(r=i.substr(0,3),">>>"===r||"<<="===r||">>="===r?(p+=3,{type:e.Punctuator,value:r,lineNumber:h,lineStart:f,start:o,end:p}):(n=r.substr(0,2),u===n[1]&&"+-<>&|".indexOf(u)>=0||"=>"===n?(p+=2,{type:e.Punctuator,value:n,lineNumber:h,lineStart:f,start:o,end:p}):"<>=!+-*%&|^/".indexOf(u)>=0?(++p,{type:e.Punctuator,value:u,lineNumber:h,lineStart:f,start:o,end:p}):void ot({},a.UnexpectedToken,"ILLEGAL")))}function G(t){var n="";while(p<d){if(!b(c[p]))break;n+=c[p++]}return 0===n.length&&ot({},a.UnexpectedToken,"ILLEGAL"),P(c.charCodeAt(p))&&ot({},a.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt("0x"+n,16),lineNumber:h,lineStart:f,start:t,end:p}}function N(t){var n="0"+c[p++];while(p<d){if(!w(c[p]))break;n+=c[p++]}return(P(c.charCodeAt(p))||x(c.charCodeAt(p)))&&ot({},a.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseInt(n,8),octal:!0,lineNumber:h,lineStart:f,start:t,end:p}}function B(){var t,e;for(t=p+1;t<d;++t){if(e=c[t],"8"===e||"9"===e)return!1;if(!w(e))return!0}return!0}function $(){var t,n,r;if(r=c[p],_(x(r.charCodeAt(0))||"."===r,"Numeric literal must start with a decimal digit or a decimal point"),n=p,t="","."!==r){if(t=c[p++],r=c[p],"0"===t){if("x"===r||"X"===r)return++p,G(n);if(w(r)&&B())return N(n)}while(x(c.charCodeAt(p)))t+=c[p++];r=c[p]}if("."===r){t+=c[p++];while(x(c.charCodeAt(p)))t+=c[p++];r=c[p]}if("e"===r||"E"===r)if(t+=c[p++],r=c[p],"+"!==r&&"-"!==r||(t+=c[p++]),x(c.charCodeAt(p)))while(x(c.charCodeAt(p)))t+=c[p++];else ot({},a.UnexpectedToken,"ILLEGAL");return P(c.charCodeAt(p))&&ot({},a.UnexpectedToken,"ILLEGAL"),{type:e.NumericLiteral,value:parseFloat(t),lineNumber:h,lineStart:f,start:n,end:p}}function q(){var t,n,r,i,o,s,u,l,g="",m=!1;u=h,l=f,t=c[p],_("'"===t||'"'===t,"String literal must starts with a quote"),n=p,++p;while(p<d){if(r=c[p++],r===t){t="";break}if("\\"===r)if(r=c[p++],r&&T(r.charCodeAt(0)))++h,"\r"===r&&"\n"===c[p]&&++p,f=p;else switch(r){case"u":case"x":s=p,o=I(r),o?g+=o:(p=s,g+=r);break;case"n":g+="\n";break;case"r":g+="\r";break;case"t":g+="\t";break;case"b":g+="\b";break;case"f":g+="\f";break;case"v":g+="\v";break;default:w(r)?(i="01234567".indexOf(r),0!==i&&(m=!0),p<d&&w(c[p])&&(m=!0,i=8*i+"01234567".indexOf(c[p++]),"0123".indexOf(r)>=0&&p<d&&w(c[p])&&(i=8*i+"01234567".indexOf(c[p++]))),g+=String.fromCharCode(i)):g+=r;break}else{if(T(r.charCodeAt(0)))break;g+=r}}return""!==t&&ot({},a.UnexpectedToken,"ILLEGAL"),{type:e.StringLiteral,value:g,octal:m,startLineNumber:u,startLineStart:l,lineNumber:h,lineStart:f,start:n,end:p}}function V(t,e){var n;try{n=new RegExp(t,e)}catch(r){ot({},a.InvalidRegExp)}return n}function H(){var t,e,n,r,i;t=c[p],_("/"===t,"Regular expression literal must start with a slash"),e=c[p++],n=!1,r=!1;while(p<d)if(t=c[p++],e+=t,"\\"===t)t=c[p++],T(t.charCodeAt(0))&&ot({},a.UnterminatedRegExp),e+=t;else if(T(t.charCodeAt(0)))ot({},a.UnterminatedRegExp);else if(n)"]"===t&&(n=!1);else{if("/"===t){r=!0;break}"["===t&&(n=!0)}return r||ot({},a.UnterminatedRegExp),i=e.substr(1,e.length-2),{value:i,literal:e}}function W(){var t,e,n,r;e="",n="";while(p<d){if(t=c[p],!C(t.charCodeAt(0)))break;if(++p,"\\"===t&&p<d)if(t=c[p],"u"===t){if(++p,r=p,t=I("u"),t)for(n+=t,e+="\\u";r<p;++r)e+=c[r];else p=r,n+="u",e+="\\u";at({},a.UnexpectedToken,"ILLEGAL")}else e+="\\",at({},a.UnexpectedToken,"ILLEGAL");else n+=t,e+=t}return{value:n,literal:e}}function X(){var t,n,r,i;return m=null,D(),t=p,n=H(),r=W(),i=V(n.value,r.value),y.tokenize?{type:e.RegularExpression,value:i,lineNumber:h,lineStart:f,start:t,end:p}:{literal:n.literal+r.literal,value:i,start:t,end:p}}function Y(){var t,e,n,r;return D(),t=p,e={start:{line:h,column:p-f}},n=X(),e.end={line:h,column:p-f},y.tokenize||(y.tokens.length>0&&(r=y.tokens[y.tokens.length-1],r.range[0]===t&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||y.tokens.pop())),y.tokens.push({type:"RegularExpression",value:n.literal,range:[t,p],loc:e})),n}function K(t){return t.type===e.Identifier||t.type===e.Keyword||t.type===e.BooleanLiteral||t.type===e.NullLiteral}function J(){var t,e;if(t=y.tokens[y.tokens.length-1],!t)return Y();if("Punctuator"===t.type){if("]"===t.value)return z();if(")"===t.value)return e=y.tokens[y.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?z():Y();if("}"===t.value){if(y.tokens[y.openCurlyToken-3]&&"Keyword"===y.tokens[y.openCurlyToken-3].type){if(e=y.tokens[y.openCurlyToken-4],!e)return z()}else{if(!y.tokens[y.openCurlyToken-4]||"Keyword"!==y.tokens[y.openCurlyToken-4].type)return z();if(e=y.tokens[y.openCurlyToken-5],!e)return Y()}return r.indexOf(e.value)>=0?z():Y()}return Y()}return"Keyword"===t.type&&"this"!==t.value?Y():z()}function Z(){var t;return D(),p>=d?{type:e.EOF,lineNumber:h,lineStart:f,start:p,end:p}:(t=c.charCodeAt(p),P(t)?U():40===t||41===t||59===t?z():39===t||34===t?q():46===t?x(c.charCodeAt(p+1))?$():z():x(t)?$():y.tokenize&&47===t?J():z())}function Q(){var t,r,i;return D(),t={start:{line:h,column:p-f}},r=Z(),t.end={line:h,column:p-f},r.type!==e.EOF&&(i=c.slice(r.start,r.end),y.tokens.push({type:n[r.type],value:i,range:[r.start,r.end],loc:t})),r}function tt(){var t;return t=m,p=t.end,h=t.lineNumber,f=t.lineStart,m="undefined"!==typeof y.tokens?Q():Z(),p=t.end,h=t.lineNumber,f=t.lineStart,t}function et(){var t,e,n;t=p,e=h,n=f,m="undefined"!==typeof y.tokens?Q():Z(),p=t,h=e,f=n}function nt(t,e){this.line=t,this.column=e}function rt(t,e,n,r){this.start=new nt(t,e),this.end=new nt(n,r)}function it(){var t,e,n,r;return t=p,e=h,n=f,D(),r=h!==e,p=t,h=e,f=n,r}function ot(t,e){var n,r=Array.prototype.slice.call(arguments,2),i=e.replace(/%(\d)/g,function(t,e){return _(e<r.length,"Message reference must be in range"),r[e]});throw"number"===typeof t.lineNumber?(n=new Error("Line "+t.lineNumber+": "+i),n.index=t.start,n.lineNumber=t.lineNumber,n.column=t.start-f+1):(n=new Error("Line "+h+": "+i),n.index=p,n.lineNumber=h,n.column=p-f+1),n.description=i,n}function at(){try{ot.apply(null,arguments)}catch(t){if(!y.errors)throw t;y.errors.push(t)}}function st(t){if(t.type===e.EOF&&ot(t,a.UnexpectedEOS),t.type===e.NumericLiteral&&ot(t,a.UnexpectedNumber),t.type===e.StringLiteral&&ot(t,a.UnexpectedString),t.type===e.Identifier&&ot(t,a.UnexpectedIdentifier),t.type===e.Keyword){if(M(t.value))ot(t,a.UnexpectedReserved);else if(l&&A(t.value))return void at(t,a.StrictReservedWord);ot(t,a.UnexpectedToken,t.value)}ot(t,a.UnexpectedToken,t.value)}function ut(t){var n=tt();n.type===e.Punctuator&&n.value===t||st(n)}function ct(t){var n=tt();n.type===e.Keyword&&n.value===t||st(n)}function lt(t){return m.type===e.Punctuator&&m.value===t}function pt(t){return m.type===e.Keyword&&m.value===t}function ht(){var t;return m.type===e.Punctuator&&(t=m.value,"="===t||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t)}function ft(){var t,n=p,r=h,i=f,o=m;if(59===c.charCodeAt(p)||lt(";"))tt();else{if(t=h,D(),h!==t)return p=n,h=r,f=i,void(m=o);m.type===e.EOF||lt("}")||st(m)}}function dt(t){return t.type===i.Identifier||t.type===i.MemberExpression}function gt(){var t,e=[];t=m,ut("[");while(!lt("]"))lt(",")?(tt(),e.push(null)):(e.push(Dt()),lt("]")||ut(","));return tt(),g.markEnd(g.createArrayExpression(e),t)}function mt(t,e){var n,r,i;return n=l,i=m,r=se(),e&&l&&F(t[0].name)&&at(e,a.StrictParamName),l=n,g.markEnd(g.createFunctionExpression(null,t,[],r),i)}function vt(){var t,n;return n=m,t=tt(),t.type===e.StringLiteral||t.type===e.NumericLiteral?(l&&t.octal&&at(t,a.StrictOctalLiteral),g.markEnd(g.createLiteral(t),n)):g.markEnd(g.createIdentifier(t.value),n)}function yt(){var t,n,r,i,o,s;return t=m,s=m,t.type===e.Identifier?(r=vt(),"get"!==t.value||lt(":")?"set"!==t.value||lt(":")?(ut(":"),i=Dt(),g.markEnd(g.createProperty("init",r,i),s)):(n=vt(),ut("("),t=m,t.type!==e.Identifier?(ut(")"),at(t,a.UnexpectedToken,t.value),i=mt([])):(o=[Ut()],ut(")"),i=mt(o,t)),g.markEnd(g.createProperty("set",n,i),s)):(n=vt(),ut("("),ut(")"),i=mt([]),g.markEnd(g.createProperty("get",n,i),s))):t.type!==e.EOF&&t.type!==e.Punctuator?(n=vt(),ut(":"),i=Dt(),g.markEnd(g.createProperty("init",n,i),s)):void st(t)}function _t(){var t,e,n,r,s,u=[],c={},p=String;s=m,ut("{");while(!lt("}"))t=yt(),e=t.key.type===i.Identifier?t.key.name:p(t.key.value),r="init"===t.kind?o.Data:"get"===t.kind?o.Get:o.Set,n="$"+e,Object.prototype.hasOwnProperty.call(c,n)?(c[n]===o.Data?l&&r===o.Data?at({},a.StrictDuplicateProperty):r!==o.Data&&at({},a.AccessorDataProperty):r===o.Data?at({},a.AccessorDataProperty):c[n]&r&&at({},a.AccessorGetSet),c[n]|=r):c[n]=r,u.push(t),lt("}")||ut(",");return ut("}"),g.markEnd(g.createObjectExpression(u),s)}function xt(){var t;return ut("("),t=It(),ut(")"),t}function bt(){var t,n,r,i;if(lt("("))return xt();if(lt("["))return gt();if(lt("{"))return _t();if(t=m.type,i=m,t===e.Identifier)r=g.createIdentifier(tt().value);else if(t===e.StringLiteral||t===e.NumericLiteral)l&&m.octal&&at(m,a.StrictOctalLiteral),r=g.createLiteral(tt());else if(t===e.Keyword){if(pt("function"))return le();pt("this")?(tt(),r=g.createThisExpression()):st(tt())}else t===e.BooleanLiteral?(n=tt(),n.value="true"===n.value,r=g.createLiteral(n)):t===e.NullLiteral?(n=tt(),n.value=null,r=g.createLiteral(n)):lt("/")||lt("/=")?(r="undefined"!==typeof y.tokens?g.createLiteral(Y()):g.createLiteral(X()),et()):st(tt());return g.markEnd(r,i)}function wt(){var t=[];if(ut("("),!lt(")"))while(p<d){if(t.push(Dt()),lt(")"))break;ut(",")}return ut(")"),t}function St(){var t,e;return e=m,t=tt(),K(t)||st(t),g.markEnd(g.createIdentifier(t.value),e)}function Tt(){return ut("."),St()}function Pt(){var t;return ut("["),t=It(),ut("]"),t}function Ct(){var t,e,n;return n=m,ct("new"),t=At(),e=lt("(")?wt():[],g.markEnd(g.createNewExpression(t,e),n)}function Mt(){var t,e,n,r,i=v.allowIn;for(r=m,v.allowIn=!0,t=pt("new")?Ct():bt();;){if(lt("."))n=Tt(),t=g.createMemberExpression(".",t,n);else if(lt("("))e=wt(),t=g.createCallExpression(t,e);else{if(!lt("["))break;n=Pt(),t=g.createMemberExpression("[",t,n)}g.markEnd(t,r)}return v.allowIn=i,t}function At(){var t,e,n;_(v.allowIn,"callee of new expression always allow in keyword."),n=m,t=pt("new")?Ct():bt();while(lt(".")||lt("["))lt("[")?(e=Pt(),t=g.createMemberExpression("[",t,e)):(e=Tt(),t=g.createMemberExpression(".",t,e)),g.markEnd(t,n);return t}function Ft(){var t,n,r=m;return t=Mt(),m.type===e.Punctuator&&(!lt("++")&&!lt("--")||it()||(l&&t.type===i.Identifier&&F(t.name)&&at({},a.StrictLHSPostfix),dt(t)||at({},a.InvalidLHSInAssignment),n=tt(),t=g.markEnd(g.createPostfixExpression(n.value,t),r))),t}function kt(){var t,n,r;return m.type!==e.Punctuator&&m.type!==e.Keyword?n=Ft():lt("++")||lt("--")?(r=m,t=tt(),n=kt(),l&&n.type===i.Identifier&&F(n.name)&&at({},a.StrictLHSPrefix),dt(n)||at({},a.InvalidLHSInAssignment),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r)):lt("+")||lt("-")||lt("~")||lt("!")?(r=m,t=tt(),n=kt(),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r)):pt("delete")||pt("void")||pt("typeof")?(r=m,t=tt(),n=kt(),n=g.createUnaryExpression(t.value,n),n=g.markEnd(n,r),l&&"delete"===n.operator&&n.argument.type===i.Identifier&&at({},a.StrictDelete)):n=Ft(),n}function Ot(t,n){var r=0;if(t.type!==e.Punctuator&&t.type!==e.Keyword)return 0;switch(t.value){case"||":r=1;break;case"&&":r=2;break;case"|":r=3;break;case"^":r=4;break;case"&":r=5;break;case"==":case"!=":case"===":case"!==":r=6;break;case"<":case">":case"<=":case">=":case"instanceof":r=7;break;case"in":r=n?7:0;break;case"<<":case">>":case">>>":r=8;break;case"+":case"-":r=9;break;case"*":case"/":case"%":r=11;break;default:break}return r}function Et(){var t,e,n,r,i,o,a,s,u,c;if(t=m,u=kt(),r=m,i=Ot(r,v.allowIn),0===i)return u;r.prec=i,tt(),e=[t,m],a=kt(),o=[u,r,a];while((i=Ot(m,v.allowIn))>0){while(o.length>2&&i<=o[o.length-2].prec)a=o.pop(),s=o.pop().value,u=o.pop(),n=g.createBinaryExpression(s,u,a),e.pop(),t=e[e.length-1],g.markEnd(n,t),o.push(n);r=tt(),r.prec=i,o.push(r),e.push(m),n=kt(),o.push(n)}c=o.length-1,n=o[c],e.pop();while(c>1)n=g.createBinaryExpression(o[c-1].value,o[c-2],n),c-=2,t=e.pop(),g.markEnd(n,t);return n}function jt(){var t,e,n,r,i;return i=m,t=Et(),lt("?")&&(tt(),e=v.allowIn,v.allowIn=!0,n=Dt(),v.allowIn=e,ut(":"),r=Dt(),t=g.createConditionalExpression(t,n,r),g.markEnd(t,i)),t}function Dt(){var t,e,n,r,o;return t=m,o=m,r=e=jt(),ht()&&(dt(e)||at({},a.InvalidLHSInAssignment),l&&e.type===i.Identifier&&F(e.name)&&at(t,a.StrictLHSAssignment),t=tt(),n=Dt(),r=g.markEnd(g.createAssignmentExpression(t.value,e,n),o)),r}function It(){var t,e=m;if(t=Dt(),lt(",")){t=g.createSequenceExpression([t]);while(p<d){if(!lt(","))break;tt(),t.expressions.push(Dt())}g.markEnd(t,e)}return t}function Rt(){var t,e=[];while(p<d){if(lt("}"))break;if(t=pe(),"undefined"===typeof t)break;e.push(t)}return e}function Lt(){var t,e;return e=m,ut("{"),t=Rt(),ut("}"),g.markEnd(g.createBlockStatement(t),e)}function Ut(){var t,n;return n=m,t=tt(),t.type!==e.Identifier&&st(t),g.markEnd(g.createIdentifier(t.value),n)}function zt(t){var e,n,r=null;return n=m,e=Ut(),l&&F(e.name)&&at({},a.StrictVarName),"const"===t?(ut("="),r=Dt()):lt("=")&&(tt(),r=Dt()),g.markEnd(g.createVariableDeclarator(e,r),n)}function Gt(t){var e=[];do{if(e.push(zt(t)),!lt(","))break;tt()}while(p<d);return e}function Nt(){var t;return ct("var"),t=Gt(),ft(),g.createVariableDeclaration(t,"var")}function Bt(t){var e,n;return n=m,ct(t),e=Gt(t),ft(),g.markEnd(g.createVariableDeclaration(e,t),n)}function $t(){return ut(";"),g.createEmptyStatement()}function qt(){var t=It();return ft(),g.createExpressionStatement(t)}function Vt(){var t,e,n;return ct("if"),ut("("),t=It(),ut(")"),e=ae(),pt("else")?(tt(),n=ae()):n=null,g.createIfStatement(t,e,n)}function Ht(){var t,e,n;return ct("do"),n=v.inIteration,v.inIteration=!0,t=ae(),v.inIteration=n,ct("while"),ut("("),e=It(),ut(")"),lt(";")&&tt(),g.createDoWhileStatement(t,e)}function Wt(){var t,e,n;return ct("while"),ut("("),t=It(),ut(")"),n=v.inIteration,v.inIteration=!0,e=ae(),v.inIteration=n,g.createWhileStatement(t,e)}function Xt(){var t,e,n;return n=m,t=tt(),e=Gt(),g.markEnd(g.createVariableDeclaration(e,t.value),n)}function Yt(){var t,e,n,r,i,o,s,u=v.allowIn;return t=e=n=null,ct("for"),ut("("),lt(";")?tt():(pt("var")||pt("let")?(v.allowIn=!1,t=Xt(),v.allowIn=u,1===t.declarations.length&&pt("in")&&(tt(),r=t,i=It(),t=null)):(v.allowIn=!1,t=It(),v.allowIn=u,pt("in")&&(dt(t)||at({},a.InvalidLHSInForIn),tt(),r=t,i=It(),t=null)),"undefined"===typeof r&&ut(";")),"undefined"===typeof r&&(lt(";")||(e=It()),ut(";"),lt(")")||(n=It())),ut(")"),s=v.inIteration,v.inIteration=!0,o=ae(),v.inIteration=s,"undefined"===typeof r?g.createForStatement(t,e,n,o):g.createForInStatement(r,i,o)}function Kt(){var t,n=null;return ct("continue"),59===c.charCodeAt(p)?(tt(),v.inIteration||ot({},a.IllegalContinue),g.createContinueStatement(null)):it()?(v.inIteration||ot({},a.IllegalContinue),g.createContinueStatement(null)):(m.type===e.Identifier&&(n=Ut(),t="$"+n.name,Object.prototype.hasOwnProperty.call(v.labelSet,t)||ot({},a.UnknownLabel,n.name)),ft(),null!==n||v.inIteration||ot({},a.IllegalContinue),g.createContinueStatement(n))}function Jt(){var t,n=null;return ct("break"),59===c.charCodeAt(p)?(tt(),v.inIteration||v.inSwitch||ot({},a.IllegalBreak),g.createBreakStatement(null)):it()?(v.inIteration||v.inSwitch||ot({},a.IllegalBreak),g.createBreakStatement(null)):(m.type===e.Identifier&&(n=Ut(),t="$"+n.name,Object.prototype.hasOwnProperty.call(v.labelSet,t)||ot({},a.UnknownLabel,n.name)),ft(),null!==n||v.inIteration||v.inSwitch||ot({},a.IllegalBreak),g.createBreakStatement(n))}function Zt(){var t=null;return ct("return"),v.inFunctionBody||at({},a.IllegalReturn),32===c.charCodeAt(p)&&P(c.charCodeAt(p+1))?(t=It(),ft(),g.createReturnStatement(t)):it()?g.createReturnStatement(null):(lt(";")||lt("}")||m.type===e.EOF||(t=It()),ft(),g.createReturnStatement(t))}function Qt(){var t,e;return l&&(D(),at({},a.StrictModeWith)),ct("with"),ut("("),t=It(),ut(")"),e=ae(),g.createWithStatement(t,e)}function te(){var t,e,n,r=[];n=m,pt("default")?(tt(),t=null):(ct("case"),t=It()),ut(":");while(p<d){if(lt("}")||pt("default")||pt("case"))break;e=ae(),r.push(e)}return g.markEnd(g.createSwitchCase(t,r),n)}function ee(){var t,e,n,r,i;if(ct("switch"),ut("("),t=It(),ut(")"),ut("{"),e=[],lt("}"))return tt(),g.createSwitchStatement(t,e);r=v.inSwitch,v.inSwitch=!0,i=!1;while(p<d){if(lt("}"))break;n=te(),null===n.test&&(i&&ot({},a.MultipleDefaultsInSwitch),i=!0),e.push(n)}return v.inSwitch=r,ut("}"),g.createSwitchStatement(t,e)}function ne(){var t;return ct("throw"),it()&&ot({},a.NewlineAfterThrow),t=It(),ft(),g.createThrowStatement(t)}function re(){var t,e,n;return n=m,ct("catch"),ut("("),lt(")")&&st(m),t=Ut(),l&&F(t.name)&&at({},a.StrictCatchVariable),ut(")"),e=Lt(),g.markEnd(g.createCatchClause(t,e),n)}function ie(){var t,e=[],n=null;return ct("try"),t=Lt(),pt("catch")&&e.push(re()),pt("finally")&&(tt(),n=Lt()),0!==e.length||n||ot({},a.NoCatchOrFinally),g.createTryStatement(t,[],e,n)}function oe(){return ct("debugger"),ft(),g.createDebuggerStatement()}function ae(){var t,n,r,o,s=m.type;if(s===e.EOF&&st(m),s===e.Punctuator&&"{"===m.value)return Lt();if(o=m,s===e.Punctuator)switch(m.value){case";":return g.markEnd($t(),o);case"(":return g.markEnd(qt(),o);default:break}if(s===e.Keyword)switch(m.value){case"break":return g.markEnd(Jt(),o);case"continue":return g.markEnd(Kt(),o);case"debugger":return g.markEnd(oe(),o);case"do":return g.markEnd(Ht(),o);case"for":return g.markEnd(Yt(),o);case"function":return g.markEnd(ce(),o);case"if":return g.markEnd(Vt(),o);case"return":return g.markEnd(Zt(),o);case"switch":return g.markEnd(ee(),o);case"throw":return g.markEnd(ne(),o);case"try":return g.markEnd(ie(),o);case"var":return g.markEnd(Nt(),o);case"while":return g.markEnd(Wt(),o);case"with":return g.markEnd(Qt(),o);default:break}return t=It(),t.type===i.Identifier&&lt(":")?(tt(),r="$"+t.name,Object.prototype.hasOwnProperty.call(v.labelSet,r)&&ot({},a.Redeclaration,"Label",t.name),v.labelSet[r]=!0,n=ae(),delete v.labelSet[r],g.markEnd(g.createLabeledStatement(t,n),o)):(ft(),g.markEnd(g.createExpressionStatement(t),o))}function se(){var t,n,r,o,s,u,h,f,y,_=[];y=m,ut("{");while(p<d){if(m.type!==e.StringLiteral)break;if(n=m,t=pe(),_.push(t),t.expression.type!==i.Literal)break;r=c.slice(n.start+1,n.end-1),"use strict"===r?(l=!0,o&&at(o,a.StrictOctalLiteral)):!o&&n.octal&&(o=n)}s=v.labelSet,u=v.inIteration,h=v.inSwitch,f=v.inFunctionBody,v.labelSet={},v.inIteration=!1,v.inSwitch=!1,v.inFunctionBody=!0;while(p<d){if(lt("}"))break;if(t=pe(),"undefined"===typeof t)break;_.push(t)}return ut("}"),v.labelSet=s,v.inIteration=u,v.inSwitch=h,v.inFunctionBody=f,g.markEnd(g.createBlockStatement(_),y)}function ue(t){var e,n,r,i,o,s,u=[];if(ut("("),!lt(")")){i={};while(p<d){if(n=m,e=Ut(),o="$"+n.value,l?(F(n.value)&&(r=n,s=a.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,s=a.StrictParamDupe)):t||(F(n.value)?(t=n,s=a.StrictParamName):A(n.value)?(t=n,s=a.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(t=n,s=a.StrictParamDupe)),u.push(e),i[o]=!0,lt(")"))break;ut(",")}}return ut(")"),{params:u,stricted:r,firstRestricted:t,message:s}}function ce(){var t,e,n,r,i,o,s,u,c,p=[];return c=m,ct("function"),n=m,t=Ut(),l?F(n.value)&&at(n,a.StrictFunctionName):F(n.value)?(o=n,s=a.StrictFunctionName):A(n.value)&&(o=n,s=a.StrictReservedWord),i=ue(o),p=i.params,r=i.stricted,o=i.firstRestricted,i.message&&(s=i.message),u=l,e=se(),l&&o&&ot(o,s),l&&r&&at(r,s),l=u,g.markEnd(g.createFunctionDeclaration(t,p,[],e),c)}function le(){var t,e,n,r,i,o,s,u,c=null,p=[];return u=m,ct("function"),lt("(")||(t=m,c=Ut(),l?F(t.value)&&at(t,a.StrictFunctionName):F(t.value)?(n=t,r=a.StrictFunctionName):A(t.value)&&(n=t,r=a.StrictReservedWord)),i=ue(n),p=i.params,e=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),s=l,o=se(),l&&n&&ot(n,r),l&&e&&at(e,r),l=s,g.markEnd(g.createFunctionExpression(c,p,[],o),u)}function pe(){if(m.type===e.Keyword)switch(m.value){case"const":case"let":return Bt(m.value);case"function":return ce();default:return ae()}if(m.type!==e.EOF)return ae()}function he(){var t,n,r,o,s=[];while(p<d){if(n=m,n.type!==e.StringLiteral)break;if(t=pe(),s.push(t),t.expression.type!==i.Literal)break;r=c.slice(n.start+1,n.end-1),"use strict"===r?(l=!0,o&&at(o,a.StrictOctalLiteral)):!o&&n.octal&&(o=n)}while(p<d){if(t=pe(),"undefined"===typeof t)break;s.push(t)}return s}function fe(){var t,e;return D(),et(),e=m,l=!1,t=he(),g.markEnd(g.createProgram(t),e)}function de(){var t,e,n,r=[];for(t=0;t<y.tokens.length;++t)e=y.tokens[t],n={type:e.type,value:e.value},y.range&&(n.range=e.range),y.loc&&(n.loc=e.loc),r.push(n);y.tokens=r}function ge(t,n){var r,i;r=String,"string"===typeof t||t instanceof String||(t=r(t)),g=u,c=t,p=0,h=c.length>0?1:0,f=0,d=c.length,m=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},n=n||{},n.tokens=!0,y.tokens=[],y.tokenize=!0,y.openParenToken=-1,y.openCurlyToken=-1,y.range="boolean"===typeof n.range&&n.range,y.loc="boolean"===typeof n.loc&&n.loc,"boolean"===typeof n.comment&&n.comment&&(y.comments=[]),"boolean"===typeof n.tolerant&&n.tolerant&&(y.errors=[]);try{if(et(),m.type===e.EOF)return y.tokens;tt();while(m.type!==e.EOF)try{tt()}catch(o){if(m,y.errors){y.errors.push(o);break}throw o}de(),i=y.tokens,"undefined"!==typeof y.comments&&(i.comments=y.comments),"undefined"!==typeof y.errors&&(i.errors=y.errors)}catch(a){throw a}finally{y={}}return i}function me(t,e){var n,r;r=String,"string"===typeof t||t instanceof String||(t=r(t)),g=u,c=t,p=0,h=c.length>0?1:0,f=0,d=c.length,m=null,v={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},y={},"undefined"!==typeof e&&(y.range="boolean"===typeof e.range&&e.range,y.loc="boolean"===typeof e.loc&&e.loc,y.attachComment="boolean"===typeof e.attachComment&&e.attachComment,y.loc&&null!==e.source&&void 0!==e.source&&(y.source=r(e.source)),"boolean"===typeof e.tokens&&e.tokens&&(y.tokens=[]),"boolean"===typeof e.comment&&e.comment&&(y.comments=[]),"boolean"===typeof e.tolerant&&e.tolerant&&(y.errors=[]),y.attachComment&&(y.range=!0,y.comments=[],y.bottomRightStack=[],y.trailingComments=[],y.leadingComments=[]));try{n=fe(),"undefined"!==typeof y.comments&&(n.comments=y.comments),"undefined"!==typeof y.tokens&&(de(),n.tokens=y.tokens),"undefined"!==typeof y.errors&&(n.errors=y.errors)}catch(i){throw i}finally{y={}}return n}e={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},n={},n[e.BooleanLiteral]="Boolean",n[e.EOF]="<end>",n[e.Identifier]="Identifier",n[e.Keyword]="Keyword",n[e.NullLiteral]="Null",n[e.NumericLiteral]="Numeric",n[e.Punctuator]="Punctuator",n[e.StringLiteral]="String",n[e.RegularExpression]="RegularExpression",r=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},o={Data:1,Get:2,Set:4},a={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},s={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},u={name:"SyntaxTree",processComment:function(t){var e,n;if(!(t.type===i.Program&&t.body.length>0)){y.trailingComments.length>0?y.trailingComments[0].range[0]>=t.range[1]?(n=y.trailingComments,y.trailingComments=[]):y.trailingComments.length=0:y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments&&y.bottomRightStack[y.bottomRightStack.length-1].trailingComments[0].range[0]>=t.range[1]&&(n=y.bottomRightStack[y.bottomRightStack.length-1].trailingComments,delete y.bottomRightStack[y.bottomRightStack.length-1].trailingComments);while(y.bottomRightStack.length>0&&y.bottomRightStack[y.bottomRightStack.length-1].range[0]>=t.range[0])e=y.bottomRightStack.pop();e?e.leadingComments&&e.leadingComments[e.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=e.leadingComments,delete e.leadingComments):y.leadingComments.length>0&&y.leadingComments[y.leadingComments.length-1].range[1]<=t.range[0]&&(t.leadingComments=y.leadingComments,y.leadingComments=[]),n&&(t.trailingComments=n),y.bottomRightStack.push(t)}},markEnd:function(t,e){return y.range&&(t.range=[e.start,p]),y.loc&&(t.loc=new rt(void 0===e.startLineNumber?e.lineNumber:e.startLineNumber,e.start-(void 0===e.startLineStart?e.lineStart:e.startLineStart),h,p-f),this.postProcess(t)),y.attachComment&&this.processComment(t),t},postProcess:function(t){return y.source&&(t.loc.source=y.source),t},createArrayExpression:function(t){return{type:i.ArrayExpression,elements:t}},createAssignmentExpression:function(t,e,n){return{type:i.AssignmentExpression,operator:t,left:e,right:n}},createBinaryExpression:function(t,e,n){var r="||"===t||"&&"===t?i.LogicalExpression:i.BinaryExpression;return{type:r,operator:t,left:e,right:n}},createBlockStatement:function(t){return{type:i.BlockStatement,body:t}},createBreakStatement:function(t){return{type:i.BreakStatement,label:t}},createCallExpression:function(t,e){return{type:i.CallExpression,callee:t,arguments:e}},createCatchClause:function(t,e){return{type:i.CatchClause,param:t,body:e}},createConditionalExpression:function(t,e,n){return{type:i.ConditionalExpression,test:t,consequent:e,alternate:n}},createContinueStatement:function(t){return{type:i.ContinueStatement,label:t}},createDebuggerStatement:function(){return{type:i.DebuggerStatement}},createDoWhileStatement:function(t,e){return{type:i.DoWhileStatement,body:t,test:e}},createEmptyStatement:function(){return{type:i.EmptyStatement}},createExpressionStatement:function(t){return{type:i.ExpressionStatement,expression:t}},createForStatement:function(t,e,n,r){return{type:i.ForStatement,init:t,test:e,update:n,body:r}},createForInStatement:function(t,e,n){return{type:i.ForInStatement,left:t,right:e,body:n,each:!1}},createFunctionDeclaration:function(t,e,n,r){return{type:i.FunctionDeclaration,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(t,e,n,r){return{type:i.FunctionExpression,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(t){return{type:i.Identifier,name:t}},createIfStatement:function(t,e,n){return{type:i.IfStatement,test:t,consequent:e,alternate:n}},createLabeledStatement:function(t,e){return{type:i.LabeledStatement,label:t,body:e}},createLiteral:function(t){return{type:i.Literal,value:t.value,raw:c.slice(t.start,t.end)}},createMemberExpression:function(t,e,n){return{type:i.MemberExpression,computed:"["===t,object:e,property:n}},createNewExpression:function(t,e){return{type:i.NewExpression,callee:t,arguments:e}},createObjectExpression:function(t){return{type:i.ObjectExpression,properties:t}},createPostfixExpression:function(t,e){return{type:i.UpdateExpression,operator:t,argument:e,prefix:!1}},createProgram:function(t){return{type:i.Program,body:t}},createProperty:function(t,e,n){return{type:i.Property,key:e,value:n,kind:t}},createReturnStatement:function(t){return{type:i.ReturnStatement,argument:t}},createSequenceExpression:function(t){return{type:i.SequenceExpression,expressions:t}},createSwitchCase:function(t,e){return{type:i.SwitchCase,test:t,consequent:e}},createSwitchStatement:function(t,e){return{type:i.SwitchStatement,discriminant:t,cases:e}},createThisExpression:function(){return{type:i.ThisExpression}},createThrowStatement:function(t){return{type:i.ThrowStatement,argument:t}},createTryStatement:function(t,e,n,r){return{type:i.TryStatement,block:t,guardedHandlers:e,handlers:n,finalizer:r}},createUnaryExpression:function(t,e){return"++"===t||"--"===t?{type:i.UpdateExpression,operator:t,argument:e,prefix:!0}:{type:i.UnaryExpression,operator:t,argument:e,prefix:!0}},createVariableDeclaration:function(t,e){return{type:i.VariableDeclaration,declarations:t,kind:e}},createVariableDeclarator:function(t,e){return{type:i.VariableDeclarator,id:t,init:e}},createWhileStatement:function(t,e){return{type:i.WhileStatement,test:t,body:e}},createWithStatement:function(t,e){return{type:i.WithStatement,object:t,body:e}}},t.version="1.2.5",t.tokenize=ge,t.parse=me,t.Syntax=function(){var t,e={};for(t in"function"===typeof Object.create&&(e=Object.create(null)),i)i.hasOwnProperty(t)&&(e[t]=i[t]);return"function"===typeof Object.freeze&&Object.freeze(e),e}()})},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),c=t.F;while(r--)delete c[u][o[r]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=r(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:i(n,e)}},"2b01":function(t,e,n){"use strict";function r(t){return"undefined"!==typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(t,r,i){e[0]=t,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?i:o,t.writeFloatBE=r?o:i,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var i=e<0?1:0;if(i&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>3.4028234663852886e38)t((i<<31|2139095040)>>>0,n,r);else if(e<1.1754943508222875e-38)t((i<<31|Math.round(e/1.401298464324817e-45))>>>0,n,r);else{var o=Math.floor(Math.log(e)/Math.LN2),a=8388607&Math.round(e*Math.pow(2,-o)*8388608);t((i<<31|o+127<<23|a)>>>0,n,r)}}function n(t,e,n){var r=t(e,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1.401298464324817e-45*i*a:i*Math.pow(2,o-150)*(a+8388608)}t.writeFloatLE=e.bind(null,i),t.writeFloatBE=e.bind(null,o),t.readFloatLE=n.bind(null,a),t.readFloatBE=n.bind(null,s)}(),"undefined"!==typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function i(t,r,i){e[0]=t,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(t,r,i){e[0]=t,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?i:o,t.writeDoubleBE=r?o:i,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,i,o+e),t(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))t(0,i,o+e),t(2146959360,i,o+n);else if(r>1.7976931348623157e308)t(0,i,o+e),t((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<2.2250738585072014e-308)s=r/5e-324,t(s>>>0,i,o+e),t((a<<31|s/4294967296)>>>0,i,o+n);else{var u=Math.floor(Math.log(r)/Math.LN2);1024===u&&(u=1023),s=r*Math.pow(2,-u),t(4503599627370496*s>>>0,i,o+e),t((a<<31|u+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function n(t,e,n,r,i){var o=t(r,i+e),a=t(r,i+n),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,i,0,4),t.writeDoubleBE=e.bind(null,o,4,0),t.readDoubleLE=n.bind(null,a,0,4),t.readDoubleBE=n.bind(null,s,4,0)}(),t}function i(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function o(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},"2b03":function(t,e){function n(t,e,n,r){var i=t.length,o=n+(r?1:-1);while(r?o--:++o<i)if(e(t[o],o,t))return o;return-1}t.exports=n},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.10
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function p(t){return"[object RegExp]"===c.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m("slot,component",!0);var v=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var _=Object.prototype.hasOwnProperty;function x(t,e){return _.call(t,e)}function b(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var w=/-(\w)/g,S=b(function(t){return t.replace(w,function(t,e){return e?e.toUpperCase():""})}),T=b(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),P=/\B([A-Z])/g,C=b(function(t){return t.replace(P,"-$1").toLowerCase()});function M(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function A(t,e){return t.bind(e)}var F=Function.prototype.bind?A:M;function k(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function O(t,e){for(var n in e)t[n]=e[n];return t}function E(t){for(var e={},n=0;n<t.length;n++)t[n]&&O(e,t[n]);return e}function j(t,e,n){}var D=function(t,e,n){return!1},I=function(t){return t};function R(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,n){return R(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(n){return R(t[n],e[n])})}catch(c){return!1}}function L(t,e){for(var n=0;n<t.length;n++)if(R(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var z="data-server-rendered",G=["component","directive","filter"],N=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:j,parsePlatformTagName:I,mustUseProp:D,async:!0,_lifecycleHooks:N},$=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function V(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var H=new RegExp("[^"+$.source+".$_\\d]");function W(t){if(!H.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var X,Y="__proto__"in{},K="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=J&&WXEnvironment.platform.toLowerCase(),Q=K&&window.navigator.userAgent.toLowerCase(),tt=Q&&/msie|trident/.test(Q),et=Q&&Q.indexOf("msie 9.0")>0,nt=Q&&Q.indexOf("edge/")>0,rt=(Q&&Q.indexOf("android"),Q&&/iphone|ipad|ipod|ios/.test(Q)||"ios"===Z),it=(Q&&/chrome\/\d+/.test(Q),Q&&/phantomjs/.test(Q),Q&&Q.match(/firefox\/(\d+)/)),ot={}.watch,at=!1;if(K)try{var st={};Object.defineProperty(st,"passive",{get:function(){at=!0}}),window.addEventListener("test-passive",null,st)}catch(Sa){}var ut=function(){return void 0===X&&(X=!K&&!J&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),X},ct=K&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return"function"===typeof t&&/native code/.test(t.toString())}var pt,ht="undefined"!==typeof Symbol&&lt(Symbol)&&"undefined"!==typeof Reflect&&lt(Reflect.ownKeys);pt="undefined"!==typeof Set&&lt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ft=j,dt=0,gt=function(){this.id=dt++,this.subs=[]};gt.prototype.addSub=function(t){this.subs.push(t)},gt.prototype.removeSub=function(t){y(this.subs,t)},gt.prototype.depend=function(){gt.target&&gt.target.addDep(this)},gt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},gt.target=null;var mt=[];function vt(t){mt.push(t),gt.target=t}function yt(){mt.pop(),gt.target=mt[mt.length-1]}var _t=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},xt={child:{configurable:!0}};xt.child.get=function(){return this.componentInstance},Object.defineProperties(_t.prototype,xt);var bt=function(t){void 0===t&&(t="");var e=new _t;return e.text=t,e.isComment=!0,e};function wt(t){return new _t(void 0,void 0,void 0,String(t))}function St(t){var e=new _t(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Tt=Array.prototype,Pt=Object.create(Tt),Ct=["push","pop","shift","unshift","splice","sort","reverse"];Ct.forEach(function(t){var e=Tt[t];V(Pt,t,function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o})});var Mt=Object.getOwnPropertyNames(Pt),At=!0;function Ft(t){At=t}var kt=function(t){this.value=t,this.dep=new gt,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)?(Y?Ot(t,Pt):Et(t,Pt,Mt),this.observeArray(t)):this.walk(t)};function Ot(t,e){t.__proto__=e}function Et(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];V(t,o,e[o])}}function jt(t,e){var n;if(u(t)&&!(t instanceof _t))return x(t,"__ob__")&&t.__ob__ instanceof kt?n=t.__ob__:At&&!ut()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new kt(t)),e&&n&&n.vmCount++,n}function Dt(t,e,n,r,i){var o=new gt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&jt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return gt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Lt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||s&&!u||(u?u.call(t,e):n=e,c=!i&&jt(e),o.notify())}})}}function It(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Dt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Rt(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||x(t,e)&&(delete t[e],n&&n.dep.notify())}}function Lt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Lt(e)}kt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Dt(t,e[n])},kt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)jt(t[e])};var Ut=B.optionMergeStrategies;function zt(t,e){if(!e)return t;for(var n,r,i,o=ht?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=t[n],i=e[n],x(t,n)?r!==i&&l(r)&&l(i)&&zt(r,i):It(t,n,i));return t}function Gt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?zt(r,i):i}:e?t?function(){return zt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Nt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Bt(n):n}function Bt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function $t(t,e,n,r){var i=Object.create(t||null);return e?O(i,e):i}Ut.data=function(t,e,n){return n?Gt(t,e,n):e&&"function"!==typeof e?t:Gt(t,e)},N.forEach(function(t){Ut[t]=Nt}),G.forEach(function(t){Ut[t+"s"]=$t}),Ut.watch=function(t,e,n,r){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in O(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ut.props=Ut.methods=Ut.inject=Ut.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return O(i,t),e&&O(i,e),i},Ut.provide=Gt;var qt=function(t,e){return void 0===e?t:e};function Vt(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=S(i),a[o]={type:null})}else if(l(n))for(var s in n)i=n[s],o=S(s),a[o]=l(i)?i:{type:i};else 0;t.props=a}}function Ht(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(l(n))for(var o in n){var a=n[o];r[o]=l(a)?O({from:o},a):{from:a}}else 0}}function Wt(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Xt(t,e,n){if("function"===typeof e&&(e=e.options),Vt(e,n),Ht(e,n),Wt(e),!e._base&&(e.extends&&(t=Xt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Xt(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)x(t,o)||s(o);function s(r){var i=Ut[r]||qt;a[r]=i(t[r],e[r],n,r)}return a}function Yt(t,e,n,r){if("string"===typeof n){var i=t[e];if(x(i,n))return i[n];var o=S(n);if(x(i,o))return i[o];var a=T(o);if(x(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Kt(t,e,n,r){var i=e[t],o=!x(n,t),a=n[t],s=te(Boolean,i.type);if(s>-1)if(o&&!x(i,"default"))a=!1;else if(""===a||a===C(t)){var u=te(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Jt(r,i,t);var c=At;Ft(!0),jt(a),Ft(c)}return a}function Jt(t,e,n){if(x(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==Zt(e.type)?r.call(t):r}}function Zt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Qt(t,e){return Zt(t)===Zt(e)}function te(t,e){if(!Array.isArray(e))return Qt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Qt(e[n],t))return n;return-1}function ee(t,e,n){vt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(Sa){re(Sa,r,"errorCaptured hook")}}}re(t,e,n)}finally{yt()}}function ne(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&f(o)&&!o._handled&&(o.catch(function(t){return ee(t,r,i+" (Promise/async)")}),o._handled=!0)}catch(Sa){ee(Sa,r,i)}return o}function re(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(Sa){Sa!==t&&ie(Sa,null,"config.errorHandler")}ie(t,e,n)}function ie(t,e,n){if(!K&&!J||"undefined"===typeof console)throw t;console.error(t)}var oe,ae=!1,se=[],ue=!1;function ce(){ue=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&lt(Promise)){var le=Promise.resolve();oe=function(){le.then(ce),rt&&setTimeout(j)},ae=!0}else if(tt||"undefined"===typeof MutationObserver||!lt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&lt(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var pe=1,he=new MutationObserver(ce),fe=document.createTextNode(String(pe));he.observe(fe,{characterData:!0}),oe=function(){pe=(pe+1)%2,fe.data=String(pe)},ae=!0}function de(t,e){var n;if(se.push(function(){if(t)try{t.call(e)}catch(Sa){ee(Sa,e,"nextTick")}else n&&n(e)}),ue||(ue=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var ge=new pt;function me(t){ve(t,ge),ge.clear()}function ve(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof _t)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)ve(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)ve(t[r[n]],e)}}}var ye=b(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}});function _e(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return ne(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)ne(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function xe(t,e,n,i,a,s){var u,c,l,p;for(u in t)c=t[u],l=e[u],p=ye(u),r(c)||(r(l)?(r(c.fns)&&(c=t[u]=_e(c,s)),o(p.once)&&(c=t[u]=a(p.name,c,p.capture)),n(p.name,c,p.capture,p.passive,p.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)r(t[u])&&(p=ye(u),i(p.name,e[u],p.capture))}function be(t,e,n){var a;t instanceof _t&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),y(a.fns,u)}r(s)?a=_e([u]):i(s.fns)&&o(s.merged)?(a=s,a.fns.push(u)):a=_e([s,u]),a.merged=!0,t[e]=a}function we(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var c in o){var l=C(c);Se(a,u,c,l,!0)||Se(a,s,c,l,!1)}return a}}function Se(t,e,n,r,o){if(i(e)){if(x(e,n))return t[n]=e[n],o||delete e[n],!0;if(x(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function Te(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Pe(t){return s(t)?[wt(t)]:Array.isArray(t)?Me(t):void 0}function Ce(t){return i(t)&&i(t.text)&&a(t.isComment)}function Me(t,e){var n,a,u,c,l=[];for(n=0;n<t.length;n++)a=t[n],r(a)||"boolean"===typeof a||(u=l.length-1,c=l[u],Array.isArray(a)?a.length>0&&(a=Me(a,(e||"")+"_"+n),Ce(a[0])&&Ce(c)&&(l[u]=wt(c.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?Ce(c)?l[u]=wt(c.text+a):""!==a&&l.push(wt(a)):Ce(a)&&Ce(c)?l[u]=wt(c.text+a.text):(o(t._isVList)&&i(a.tag)&&r(a.key)&&i(e)&&(a.key="__vlist"+e+"_"+n+"__"),l.push(a)));return l}function Ae(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Fe(t){var e=ke(t.$options.inject,t);e&&(Ft(!1),Object.keys(e).forEach(function(n){Dt(t,n,e[n])}),Ft(!0))}function ke(t,e){if(t){for(var n=Object.create(null),r=ht?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&x(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"===typeof u?u.call(e):u}else 0}}return n}}function Oe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Ee)&&delete n[c];return n}function Ee(t){return t.isComment&&!t.asyncFactory||" "===t.text}function je(t,e,r){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=De(e,u,t[u]))}else i={};for(var c in e)c in i||(i[c]=Ie(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),V(i,"$stable",a),V(i,"$key",s),V(i,"$hasNormal",o),i}function De(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Pe(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Ie(t,e){return function(){return t[e]}}function Re(t,e){var n,r,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(ht&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),l=c.next();while(!l.done)n.push(e(l.value,n.length)),l=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)s=a[r],n[r]=e(t[s],s,r);return i(n)||(n=[]),n._isVList=!0,n}function Le(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=O(O({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Ue(t){return Yt(this.$options,"filters",t,!0)||I}function ze(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ge(t,e,n,r,i){var o=B.keyCodes[e]||n;return i&&r&&!B.keyCodes[e]?ze(i,r):o?ze(o,t):r?C(r)!==e:void 0}function Ne(t,e,n,r,i){if(n)if(u(n)){var o;Array.isArray(n)&&(n=E(n));var a=function(a){if("class"===a||"style"===a||v(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||B.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=S(a),c=C(a);if(!(u in o)&&!(c in o)&&(o[a]=n[a],i)){var l=t.on||(t.on={});l["update:"+a]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function Be(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),qe(r,"__static__"+t,!1),r)}function $e(t,e,n){return qe(t,"__once__"+e+(n?"_"+n:""),!0),t}function qe(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&Ve(t[r],e+"_"+r,n);else Ve(t,e,n)}function Ve(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function He(t,e){if(e)if(l(e)){var n=t.on=t.on?O({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function We(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?We(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Xe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ye(t,e){return"string"===typeof t?e+t:t}function Ke(t){t._o=$e,t._n=g,t._s=d,t._l=Re,t._t=Le,t._q=R,t._i=L,t._m=Be,t._f=Ue,t._k=Ge,t._b=Ne,t._v=wt,t._e=bt,t._u=We,t._g=He,t._d=Xe,t._p=Ye}function Je(t,e,r,i,a){var s,u=this,c=a.options;x(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var l=o(c._compiled),p=!l;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=ke(c.inject,i),this.slots=function(){return u.$slots||je(t.scopedSlots,u.$slots=Oe(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return je(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=je(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var o=pn(s,t,e,n,r,p);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return pn(s,t,e,n,r,p)}}function Ze(t,e,r,o,a){var s=t.options,u={},c=s.props;if(i(c))for(var l in c)u[l]=Kt(l,c,e||n);else i(r.attrs)&&tn(u,r.attrs),i(r.props)&&tn(u,r.props);var p=new Je(r,u,a,o,t),h=s.render.call(null,p._c,p);if(h instanceof _t)return Qe(h,r,p.parent,s,p);if(Array.isArray(h)){for(var f=Pe(h)||[],d=new Array(f.length),g=0;g<f.length;g++)d[g]=Qe(f[g],r,p.parent,s,p);return d}}function Qe(t,e,n,r,i){var o=St(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function tn(t,e){for(var n in e)t[S(n)]=e[n]}Ke(Je.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var r=t.componentInstance=on(t,kn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;In(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,zn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Zn(n):Ln(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Un(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,a,s){if(!r(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"===typeof t){var l;if(r(t.cid)&&(l=t,t=bn(l,c),void 0===t))return xn(l,e,n,a,s);e=e||{},br(t),i(e.model)&&un(t.options,e);var p=we(e,t,s);if(o(t.options.functional))return Ze(t,p,e,n,a);var h=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}an(e);var d=t.options.name||s,g=new _t("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:p,listeners:h,tag:s,children:a},l);return g}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function an(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var r=nn[n],i=e[r],o=en[r];i===o||i&&i._merged||(e[r]=i?sn(o,i):o)}}function sn(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function un(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}var cn=1,ln=2;function pn(t,e,n,r,i,a){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),o(a)&&(i=ln),hn(t,e,n,r,i)}function hn(t,e,n,r,o){if(i(n)&&i(n.__ob__))return bt();if(i(n)&&i(n.is)&&(e=n.is),!e)return bt();var a,s,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),o===ln?r=Pe(r):o===cn&&(r=Te(r)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),a=B.isReservedTag(e)?new _t(B.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=Yt(t.$options,"components",e))?new _t(e,n,r,void 0,void 0,t):rn(u,n,t,r,e)):a=rn(e,n,t,r);return Array.isArray(a)?a:i(a)?(i(s)&&fn(a,s),i(n)&&dn(n),a):bt()}function fn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];i(u.tag)&&(r(u.ns)||o(n)&&"svg"!==u.tag)&&fn(u,e,n)}}function dn(t){u(t.style)&&me(t.style),u(t.class)&&me(t.class)}function gn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=Oe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return pn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return pn(t,e,n,r,i,!0)};var o=r&&r.data;Dt(t,"$attrs",o&&o.attrs||n,null,!0),Dt(t,"$listeners",e._parentListeners||n,null,!0)}var mn,vn=null;function yn(t){Ke(t.prototype),t.prototype.$nextTick=function(t){return de(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=je(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{vn=e,t=r.call(e._renderProxy,e.$createElement)}catch(Sa){ee(Sa,e,"render"),t=e._vnode}finally{vn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof _t||(t=bt()),t.parent=i,t}}function _n(t,e){return(t.__esModule||ht&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function xn(t,e,n,r,i){var o=bt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function bn(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=vn;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var a=t.owners=[n],s=!0,c=null,l=null;n.$on("hook:destroyed",function(){return y(a,n)});var p=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},h=U(function(n){t.resolved=_n(n,e),s?a.length=0:p(!0)}),d=U(function(e){i(t.errorComp)&&(t.error=!0,p(!0))}),g=t(h,d);return u(g)&&(f(g)?r(t.resolved)&&g.then(h,d):f(g.component)&&(g.component.then(h,d),i(g.error)&&(t.errorComp=_n(g.error,e)),i(g.loading)&&(t.loadingComp=_n(g.loading,e),0===g.delay?t.loading=!0:c=setTimeout(function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,p(!1))},g.delay||200)),i(g.timeout)&&(l=setTimeout(function(){l=null,r(t.resolved)&&d(null)},g.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function wn(t){return t.isComment&&t.asyncFactory}function Sn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||wn(n)))return n}}function Tn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&An(t,e)}function Pn(t,e){mn.$on(t,e)}function Cn(t,e){mn.$off(t,e)}function Mn(t,e){var n=mn;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function An(t,e,n){mn=t,xe(e,n||{},Pn,Cn,Mn,t),mn=void 0}function Fn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?k(n):n;for(var r=k(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)ne(n[o],e,r,e,i)}return e}}var kn=null;function On(t){var e=kn;return kn=t,function(){kn=e}}function En(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function jn(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=On(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){zn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),zn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Dn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=bt),zn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new nr(t,r,j,{before:function(){t._isMounted&&!t._isDestroyed&&zn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,zn(t,"mounted")),t}function In(t,e,r,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Ft(!1);for(var l=t._props,p=t.$options._propKeys||[],h=0;h<p.length;h++){var f=p[h],d=t.$options.props;l[f]=Kt(f,d,e,t)}Ft(!0),t.$options.propsData=e}r=r||n;var g=t.$options._parentListeners;t.$options._parentListeners=r,An(t,r,g),c&&(t.$slots=Oe(o,i.context),t.$forceUpdate())}function Rn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Ln(t,e){if(e){if(t._directInactive=!1,Rn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Ln(t.$children[n]);zn(t,"activated")}}function Un(t,e){if((!e||(t._directInactive=!0,!Rn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Un(t.$children[n]);zn(t,"deactivated")}}function zn(t,e){vt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)ne(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),yt()}var Gn=[],Nn=[],Bn={},$n=!1,qn=!1,Vn=0;function Hn(){Vn=Gn.length=Nn.length=0,Bn={},$n=qn=!1}var Wn=0,Xn=Date.now;if(K&&!tt){var Yn=window.performance;Yn&&"function"===typeof Yn.now&&Xn()>document.createEvent("Event").timeStamp&&(Xn=function(){return Yn.now()})}function Kn(){var t,e;for(Wn=Xn(),qn=!0,Gn.sort(function(t,e){return t.id-e.id}),Vn=0;Vn<Gn.length;Vn++)t=Gn[Vn],t.before&&t.before(),e=t.id,Bn[e]=null,t.run();var n=Nn.slice(),r=Gn.slice();Hn(),Qn(n),Jn(r),ct&&B.devtools&&ct.emit("flush")}function Jn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&zn(r,"updated")}}function Zn(t){t._inactive=!1,Nn.push(t)}function Qn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Ln(t[e],!0)}function tr(t){var e=t.id;if(null==Bn[e]){if(Bn[e]=!0,qn){var n=Gn.length-1;while(n>Vn&&Gn[n].id>t.id)n--;Gn.splice(n+1,0,t)}else Gn.push(t);$n||($n=!0,de(Kn))}}var er=0,nr=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++er,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pt,this.newDepIds=new pt,this.expression="","function"===typeof e?this.getter=e:(this.getter=W(e),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()};nr.prototype.get=function(){var t;vt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(Sa){if(!this.user)throw Sa;ee(Sa,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&me(t),yt(),this.cleanupDeps()}return t},nr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},nr.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},nr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():tr(this)},nr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(Sa){ee(Sa,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},nr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},nr.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},nr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var rr={enumerable:!0,configurable:!0,get:j,set:j};function ir(t,e,n){rr.get=function(){return this[e][n]},rr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,rr)}function or(t){t._watchers=[];var e=t.$options;e.props&&ar(t,e.props),e.methods&&dr(t,e.methods),e.data?sr(t):jt(t._data={},!0),e.computed&&lr(t,e.computed),e.watch&&e.watch!==ot&&gr(t,e.watch)}function ar(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Ft(!1);var a=function(o){i.push(o);var a=Kt(o,e,n,t);Dt(r,o,a),o in t||ir(t,"_props",o)};for(var s in e)a(s);Ft(!0)}function sr(t){var e=t.$options.data;e=t._data="function"===typeof e?ur(e,t):e||{},l(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&x(r,o)||q(o)||ir(t,"_data",o)}jt(e,!0)}function ur(t,e){vt();try{return t.call(e,e)}catch(Sa){return ee(Sa,e,"data()"),{}}finally{yt()}}var cr={lazy:!0};function lr(t,e){var n=t._computedWatchers=Object.create(null),r=ut();for(var i in e){var o=e[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new nr(t,a||j,j,cr)),i in t||pr(t,i,o)}}function pr(t,e,n){var r=!ut();"function"===typeof n?(rr.get=r?hr(e):fr(n),rr.set=j):(rr.get=n.get?r&&!1!==n.cache?hr(e):fr(n.get):j,rr.set=n.set||j),Object.defineProperty(t,e,rr)}function hr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),gt.target&&e.depend(),e.value}}function fr(t){return function(){return t.call(this,this)}}function dr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?j:F(e[n],t)}function gr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)mr(t,n,r[i]);else mr(t,n,r)}}function mr(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function vr(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=It,t.prototype.$delete=Rt,t.prototype.$watch=function(t,e,n){var r=this;if(l(e))return mr(r,t,e,n);n=n||{},n.user=!0;var i=new nr(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(o){ee(o,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}var yr=0;function _r(t){t.prototype._init=function(t){var e=this;e._uid=yr++,e._isVue=!0,t&&t._isComponent?xr(e,t):e.$options=Xt(br(e.constructor),t||{},e),e._renderProxy=e,e._self=e,En(e),Tn(e),gn(e),zn(e,"beforeCreate"),Fe(e),or(e),Ae(e),zn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function xr(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function br(t){var e=t.options;if(t.super){var n=br(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=wr(t);i&&O(t.extendOptions,i),e=t.options=Xt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function wr(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function Sr(t){this._init(t)}function Tr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=k(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Pr(t){t.mixin=function(t){return this.options=Xt(this.options,t),this}}function Cr(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Xt(n.options,t),a["super"]=n,a.options.props&&Mr(a),a.options.computed&&Ar(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,G.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=O({},a.options),i[r]=a,a}}function Mr(t){var e=t.options.props;for(var n in e)ir(t.prototype,"_props",n)}function Ar(t){var e=t.options.computed;for(var n in e)pr(t.prototype,n,e[n])}function Fr(t){G.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function kr(t){return t&&(t.Ctor.options.name||t.tag)}function Or(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!p(t)&&t.test(e)}function Er(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=kr(a.componentOptions);s&&!e(s)&&jr(n,o,r,i)}}}function jr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,y(n,e)}_r(Sr),vr(Sr),Fn(Sr),jn(Sr),yn(Sr);var Dr=[String,RegExp,Array],Ir={name:"keep-alive",abstract:!0,props:{include:Dr,exclude:Dr,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)jr(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Er(t,function(t){return Or(e,t)})}),this.$watch("exclude",function(e){Er(t,function(t){return!Or(e,t)})})},render:function(){var t=this.$slots.default,e=Sn(t),n=e&&e.componentOptions;if(n){var r=kr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Or(o,r))||a&&r&&Or(a,r))return e;var s=this,u=s.cache,c=s.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[l]?(e.componentInstance=u[l].componentInstance,y(c,l),c.push(l)):(u[l]=e,c.push(l),this.max&&c.length>parseInt(this.max)&&jr(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Rr={KeepAlive:Ir};function Lr(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:ft,extend:O,mergeOptions:Xt,defineReactive:Dt},t.set=It,t.delete=Rt,t.nextTick=de,t.observable=function(t){return jt(t),t},t.options=Object.create(null),G.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,O(t.options.components,Rr),Tr(t),Pr(t),Cr(t),Fr(t)}Lr(Sr),Object.defineProperty(Sr.prototype,"$isServer",{get:ut}),Object.defineProperty(Sr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sr,"FunctionalRenderContext",{value:Je}),Sr.version="2.6.10";var Ur=m("style,class"),zr=m("input,textarea,option,select,progress"),Gr=function(t,e,n){return"value"===n&&zr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Nr=m("contenteditable,draggable,spellcheck"),Br=m("events,caret,typing,plaintext-only"),$r=function(t,e){return Xr(e)||"false"===e?"false":"contenteditable"===t&&Br(e)?e:"true"},qr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Vr="http://www.w3.org/1999/xlink",Hr=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Wr=function(t){return Hr(t)?t.slice(6,t.length):""},Xr=function(t){return null==t||!1===t};function Yr(t){var e=t.data,n=t,r=t;while(i(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Kr(r.data,e));while(i(n=n.parent))n&&n.data&&(e=Kr(e,n.data));return Jr(e.staticClass,e.class)}function Kr(t,e){return{staticClass:Zr(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Jr(t,e){return i(t)||i(e)?Zr(t,Qr(e)):""}function Zr(t,e){return t?e?t+" "+e:t:e||""}function Qr(t){return Array.isArray(t)?ti(t):u(t)?ei(t):"string"===typeof t?t:""}function ti(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Qr(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ei(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ni={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ri=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ii=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),oi=function(t){return ri(t)||ii(t)};function ai(t){return ii(t)?"svg":"math"===t?"math":void 0}var si=Object.create(null);function ui(t){if(!K)return!0;if(oi(t))return!1;if(t=t.toLowerCase(),null!=si[t])return si[t];var e=document.createElement(t);return t.indexOf("-")>-1?si[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:si[t]=/HTMLUnknownElement/.test(e.toString())}var ci=m("text,number,password,search,email,tel,url");function li(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function pi(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function hi(t,e){return document.createElementNS(ni[t],e)}function fi(t){return document.createTextNode(t)}function di(t){return document.createComment(t)}function gi(t,e,n){t.insertBefore(e,n)}function mi(t,e){t.removeChild(e)}function vi(t,e){t.appendChild(e)}function yi(t){return t.parentNode}function _i(t){return t.nextSibling}function xi(t){return t.tagName}function bi(t,e){t.textContent=e}function wi(t,e){t.setAttribute(e,"")}var Si=Object.freeze({createElement:pi,createElementNS:hi,createTextNode:fi,createComment:di,insertBefore:gi,removeChild:mi,appendChild:vi,parentNode:yi,nextSibling:_i,tagName:xi,setTextContent:bi,setStyleScope:wi}),Ti={create:function(t,e){Pi(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Pi(t,!0),Pi(e))},destroy:function(t){Pi(t,!0)}};function Pi(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?y(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Ci=new _t("",{},[]),Mi=["create","activate","update","remove","destroy"];function Ai(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&Fi(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function Fi(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||ci(r)&&ci(o)}function ki(t,e,n){var r,o,a={};for(r=e;r<=n;++r)o=t[r].key,i(o)&&(a[o]=r);return a}function Oi(t){var e,n,a={},u=t.modules,c=t.nodeOps;for(e=0;e<Mi.length;++e)for(a[Mi[e]]=[],n=0;n<u.length;++n)i(u[n][Mi[e]])&&a[Mi[e]].push(u[n][Mi[e]]);function l(t){return new _t(c.tagName(t).toLowerCase(),{},[],void 0,t)}function p(t,e){function n(){0===--n.listeners&&h(t)}return n.listeners=e,n}function h(t){var e=c.parentNode(t);i(e)&&c.removeChild(e,t)}function f(t,e,n,r,a,s,u){if(i(t.elm)&&i(s)&&(t=s[u]=St(t)),t.isRootInsert=!a,!d(t,e,n,r)){var l=t.data,p=t.children,h=t.tag;i(h)?(t.elm=t.ns?c.createElementNS(t.ns,h):c.createElement(h,t),w(t),_(t,p,e),i(l)&&b(t,e),y(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),y(n,t.elm,r)):(t.elm=c.createTextNode(t.text),y(n,t.elm,r))}}function d(t,e,n,r){var a=t.data;if(i(a)){var s=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return g(t,e),y(n,t.elm,r),o(s)&&v(t,e,n,r),!0}}function g(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,x(t)?(b(t,e),w(t)):(Pi(t),e.push(t))}function v(t,e,n,r){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Ci,s);e.push(s);break}y(n,t.elm,r)}function y(t,e,n){i(t)&&(i(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function _(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)f(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function x(t){while(t.componentInstance)t=t.componentInstance._vnode;return i(t.tag)}function b(t,n){for(var r=0;r<a.create.length;++r)a.create[r](Ci,t);e=t.data.hook,i(e)&&(i(e.create)&&e.create(Ci,t),i(e.insert)&&n.push(t))}function w(t){var e;if(i(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)i(e=n.context)&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}i(e=kn)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function S(t,e,n,r,i,o){for(;r<=i;++r)f(n[r],o,t,e,!1,n,r)}function T(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)T(t.children[n])}function P(t,e,n,r){for(;n<=r;++n){var o=e[n];i(o)&&(i(o.tag)?(C(o),T(o)):h(o.elm))}}function C(t,e){if(i(e)||i(t.data)){var n,r=a.remove.length+1;for(i(e)?e.listeners+=r:e=p(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&C(n,e),n=0;n<a.remove.length;++n)a.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else h(t.elm)}function M(t,e,n,o,a){var s,u,l,p,h=0,d=0,g=e.length-1,m=e[0],v=e[g],y=n.length-1,_=n[0],x=n[y],b=!a;while(h<=g&&d<=y)r(m)?m=e[++h]:r(v)?v=e[--g]:Ai(m,_)?(F(m,_,o,n,d),m=e[++h],_=n[++d]):Ai(v,x)?(F(v,x,o,n,y),v=e[--g],x=n[--y]):Ai(m,x)?(F(m,x,o,n,y),b&&c.insertBefore(t,m.elm,c.nextSibling(v.elm)),m=e[++h],x=n[--y]):Ai(v,_)?(F(v,_,o,n,d),b&&c.insertBefore(t,v.elm,m.elm),v=e[--g],_=n[++d]):(r(s)&&(s=ki(e,h,g)),u=i(_.key)?s[_.key]:A(_,e,h,g),r(u)?f(_,o,t,m.elm,!1,n,d):(l=e[u],Ai(l,_)?(F(l,_,o,n,d),e[u]=void 0,b&&c.insertBefore(t,l.elm,m.elm)):f(_,o,t,m.elm,!1,n,d)),_=n[++d]);h>g?(p=r(n[y+1])?null:n[y+1].elm,S(t,p,n,d,y,o)):d>y&&P(t,e,h,g)}function A(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&Ai(t,a))return o}}function F(t,e,n,s,u,l){if(t!==e){i(e.elm)&&i(s)&&(e=s[u]=St(e));var p=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?E(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,f=e.data;i(f)&&i(h=f.hook)&&i(h=h.prepatch)&&h(t,e);var d=t.children,g=e.children;if(i(f)&&x(e)){for(h=0;h<a.update.length;++h)a.update[h](t,e);i(h=f.hook)&&i(h=h.update)&&h(t,e)}r(e.text)?i(d)&&i(g)?d!==g&&M(p,d,g,n,l):i(g)?(i(t.text)&&c.setTextContent(p,""),S(p,null,g,0,g.length-1,n)):i(d)?P(p,d,0,d.length-1):i(t.text)&&c.setTextContent(p,""):t.text!==e.text&&c.setTextContent(p,e.text),i(f)&&i(h=f.hook)&&i(h=h.postpatch)&&h(t,e)}}}function k(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=m("attrs,class,staticClass,staticStyle,key");function E(t,e,n,r){var a,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(a=u.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return g(e,n),!0;if(i(s)){if(i(c))if(t.hasChildNodes())if(i(a=u)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,p=t.firstChild,h=0;h<c.length;h++){if(!p||!E(p,c[h],n,r)){l=!1;break}p=p.nextSibling}if(!l||p)return!1}else _(e,c,n);if(i(u)){var f=!1;for(var d in u)if(!O(d)){f=!0,b(e,n);break}!f&&u["class"]&&me(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!r(e)){var u=!1,p=[];if(r(t))u=!0,f(e,p);else{var h=i(t.nodeType);if(!h&&Ai(t,e))F(t,e,p,null,null,s);else{if(h){if(1===t.nodeType&&t.hasAttribute(z)&&(t.removeAttribute(z),n=!0),o(n)&&E(t,e,p))return k(e,p,!0),t;t=l(t)}var d=t.elm,g=c.parentNode(d);if(f(e,p,d._leaveCb?null:g,c.nextSibling(d)),i(e.parent)){var m=e.parent,v=x(e);while(m){for(var y=0;y<a.destroy.length;++y)a.destroy[y](m);if(m.elm=e.elm,v){for(var _=0;_<a.create.length;++_)a.create[_](Ci,m);var b=m.data.hook.insert;if(b.merged)for(var w=1;w<b.fns.length;w++)b.fns[w]()}else Pi(m);m=m.parent}}i(g)?P(g,[t],0,0):i(t.tag)&&T(t)}}return k(e,p,u),e.elm}i(t)&&T(t)}}var Ei={create:ji,update:ji,destroy:function(t){ji(t,Ci)}};function ji(t,e){(t.data.directives||e.data.directives)&&Di(t,e)}function Di(t,e){var n,r,i,o=t===Ci,a=e===Ci,s=Ri(t.data.directives,t.context),u=Ri(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,Ui(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(Ui(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var p=function(){for(var n=0;n<c.length;n++)Ui(c[n],"inserted",e,t)};o?be(e,"insert",p):p()}if(l.length&&be(e,"postpatch",function(){for(var n=0;n<l.length;n++)Ui(l[n],"componentUpdated",e,t)}),!o)for(n in s)u[n]||Ui(s[n],"unbind",t,t,a)}var Ii=Object.create(null);function Ri(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=Ii),i[Li(r)]=r,r.def=Yt(e.$options,"directives",r.name,!0);return i}function Li(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Ui(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(Sa){ee(Sa,n.context,"directive "+t.name+" "+e+" hook")}}var zi=[Ti,Ei];function Gi(t,e){var n=e.componentOptions;if((!i(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(t.data.attrs)||!r(e.data.attrs))){var o,a,s,u=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(o in i(l.__ob__)&&(l=e.data.attrs=O({},l)),l)a=l[o],s=c[o],s!==a&&Ni(u,o,a);for(o in(tt||nt)&&l.value!==c.value&&Ni(u,"value",l.value),c)r(l[o])&&(Hr(o)?u.removeAttributeNS(Vr,Wr(o)):Nr(o)||u.removeAttribute(o))}}function Ni(t,e,n){t.tagName.indexOf("-")>-1?Bi(t,e,n):qr(e)?Xr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Nr(e)?t.setAttribute(e,$r(e,n)):Hr(e)?Xr(n)?t.removeAttributeNS(Vr,Wr(e)):t.setAttributeNS(Vr,e,n):Bi(t,e,n)}function Bi(t,e,n){if(Xr(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var $i={create:Gi,update:Gi};function qi(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Yr(e),u=n._transitionClasses;i(u)&&(s=Zr(s,Qr(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Vi,Hi={create:qi,update:qi},Wi="__r",Xi="__c";function Yi(t){if(i(t[Wi])){var e=tt?"change":"input";t[e]=[].concat(t[Wi],t[e]||[]),delete t[Wi]}i(t[Xi])&&(t.change=[].concat(t[Xi],t.change||[]),delete t[Xi])}function Ki(t,e,n){var r=Vi;return function i(){var o=e.apply(null,arguments);null!==o&&Qi(t,i,n,r)}}var Ji=ae&&!(it&&Number(it[1])<=53);function Zi(t,e,n,r){if(Ji){var i=Wn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Vi.addEventListener(t,e,at?{capture:n,passive:r}:n)}function Qi(t,e,n,r){(r||Vi).removeEventListener(t,e._wrapper||e,n)}function to(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},i=t.data.on||{};Vi=e.elm,Yi(n),xe(n,i,Zi,Qi,Ki,e.context),Vi=void 0}}var eo,no={create:to,update:to};function ro(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in i(u.__ob__)&&(u=e.data.domProps=O({},u)),s)n in u||(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=r(o)?"":String(o);io(a,c)&&(a.value=c)}else if("innerHTML"===n&&ii(a.tagName)&&r(a.innerHTML)){eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+o+"</svg>";var l=eo.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(o!==s[n])try{a[n]=o}catch(Sa){}}}}function io(t,e){return!t.composing&&("OPTION"===t.tagName||oo(t,e)||ao(t,e))}function oo(t,e){var n=!0;try{n=document.activeElement!==t}catch(Sa){}return n&&t.value!==e}function ao(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return g(n)!==g(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var so={create:ro,update:ro},uo=b(function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function co(t){var e=lo(t.style);return t.staticStyle?O(t.staticStyle,e):e}function lo(t){return Array.isArray(t)?E(t):"string"===typeof t?uo(t):t}function po(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=co(i.data))&&O(r,n)}(n=co(t.data))&&O(r,n);var o=t;while(o=o.parent)o.data&&(n=co(o.data))&&O(r,n);return r}var ho,fo=/^--/,go=/\s*!important$/,mo=function(t,e,n){if(fo.test(e))t.style.setProperty(e,n);else if(go.test(n))t.style.setProperty(C(e),n.replace(go,""),"important");else{var r=yo(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},vo=["Webkit","Moz","ms"],yo=b(function(t){if(ho=ho||document.createElement("div").style,t=S(t),"filter"!==t&&t in ho)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<vo.length;n++){var r=vo[n]+e;if(r in ho)return r}});function _o(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,u=e.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},p=c||l,h=lo(e.data.style)||{};e.data.normalizedStyle=i(h.__ob__)?O({},h):h;var f=po(e,!0);for(s in p)r(f[s])&&mo(u,s,"");for(s in f)a=f[s],a!==p[s]&&mo(u,s,null==a?"":a)}}var xo={create:_o,update:_o},bo=/\s+/;function wo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bo).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function So(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bo).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function To(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&O(e,Po(t.name||"v")),O(e,t),e}return"string"===typeof t?Po(t):void 0}}var Po=b(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Co=K&&!et,Mo="transition",Ao="animation",Fo="transition",ko="transitionend",Oo="animation",Eo="animationend";Co&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Fo="WebkitTransition",ko="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Oo="WebkitAnimation",Eo="webkitAnimationEnd"));var jo=K?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Do(t){jo(function(){jo(t)})}function Io(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),wo(t,e))}function Ro(t,e){t._transitionClasses&&y(t._transitionClasses,e),So(t,e)}function Lo(t,e,n){var r=zo(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Mo?ko:Eo,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}var Uo=/\b(transform|all)(,|$)/;function zo(t,e){var n,r=window.getComputedStyle(t),i=(r[Fo+"Delay"]||"").split(", "),o=(r[Fo+"Duration"]||"").split(", "),a=Go(i,o),s=(r[Oo+"Delay"]||"").split(", "),u=(r[Oo+"Duration"]||"").split(", "),c=Go(s,u),l=0,p=0;e===Mo?a>0&&(n=Mo,l=a,p=o.length):e===Ao?c>0&&(n=Ao,l=c,p=u.length):(l=Math.max(a,c),n=l>0?a>c?Mo:Ao:null,p=n?n===Mo?o.length:u.length:0);var h=n===Mo&&Uo.test(r[Fo+"Property"]);return{type:n,timeout:l,propCount:p,hasTransform:h}}function Go(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return No(e)+No(t[n])}))}function No(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Bo(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=To(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){var a=o.css,s=o.type,c=o.enterClass,l=o.enterToClass,p=o.enterActiveClass,h=o.appearClass,f=o.appearToClass,d=o.appearActiveClass,m=o.beforeEnter,v=o.enter,y=o.afterEnter,_=o.enterCancelled,x=o.beforeAppear,b=o.appear,w=o.afterAppear,S=o.appearCancelled,T=o.duration,P=kn,C=kn.$vnode;while(C&&C.parent)P=C.context,C=C.parent;var M=!P._isMounted||!t.isRootInsert;if(!M||b||""===b){var A=M&&h?h:c,F=M&&d?d:p,k=M&&f?f:l,O=M&&x||m,E=M&&"function"===typeof b?b:v,j=M&&w||y,D=M&&S||_,I=g(u(T)?T.enter:T);0;var R=!1!==a&&!et,L=Vo(E),z=n._enterCb=U(function(){R&&(Ro(n,k),Ro(n,F)),z.cancelled?(R&&Ro(n,A),D&&D(n)):j&&j(n),n._enterCb=null});t.data.show||be(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),E&&E(n,z)}),O&&O(n),R&&(Io(n,A),Io(n,F),Do(function(){Ro(n,A),z.cancelled||(Io(n,k),L||(qo(I)?setTimeout(z,I):Lo(n,s,z)))})),t.data.show&&(e&&e(),E&&E(n,z)),R||L||z()}}}function $o(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=To(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=o.css,s=o.type,c=o.leaveClass,l=o.leaveToClass,p=o.leaveActiveClass,h=o.beforeLeave,f=o.leave,d=o.afterLeave,m=o.leaveCancelled,v=o.delayLeave,y=o.duration,_=!1!==a&&!et,x=Vo(f),b=g(u(y)?y.leave:y);0;var w=n._leaveCb=U(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(Ro(n,l),Ro(n,p)),w.cancelled?(_&&Ro(n,c),m&&m(n)):(e(),d&&d(n)),n._leaveCb=null});v?v(S):S()}function S(){w.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),_&&(Io(n,c),Io(n,p),Do(function(){Ro(n,c),w.cancelled||(Io(n,l),x||(qo(b)?setTimeout(w,b):Lo(n,s,w)))})),f&&f(n,w),_||x||w())}}function qo(t){return"number"===typeof t&&!isNaN(t)}function Vo(t){if(r(t))return!1;var e=t.fns;return i(e)?Vo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Ho(t,e){!0!==e.data.show&&Bo(e)}var Wo=K?{create:Ho,activate:Ho,remove:function(t,e){!0!==t.data.show?$o(t,e):e()}}:{},Xo=[$i,Hi,no,so,xo,Wo],Yo=Xo.concat(zi),Ko=Oi({nodeOps:Si,modules:Yo});et&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&ia(t,"input")});var Jo={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?be(n,"postpatch",function(){Jo.componentUpdated(t,e,n)}):Zo(t,e,n.context),t._vOptions=[].map.call(t.options,ea)):("textarea"===n.tag||ci(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",na),t.addEventListener("compositionend",ra),t.addEventListener("change",ra),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Zo(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,ea);if(i.some(function(t,e){return!R(t,r[e])})){var o=t.multiple?e.value.some(function(t){return ta(t,i)}):e.value!==e.oldValue&&ta(e.value,i);o&&ia(t,"change")}}}};function Zo(t,e,n){Qo(t,e,n),(tt||nt)&&setTimeout(function(){Qo(t,e,n)},0)}function Qo(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=L(r,ea(a))>-1,a.selected!==o&&(a.selected=o);else if(R(ea(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function ta(t,e){return e.every(function(e){return!R(e,t)})}function ea(t){return"_value"in t?t._value:t.value}function na(t){t.target.composing=!0}function ra(t){t.target.composing&&(t.target.composing=!1,ia(t.target,"input"))}function ia(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function oa(t){return!t.componentInstance||t.data&&t.data.transition?t:oa(t.componentInstance._vnode)}var aa={bind:function(t,e,n){var r=e.value;n=oa(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Bo(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=oa(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?Bo(n,function(){t.style.display=t.__vOriginalDisplay}):$o(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},sa={model:Jo,show:aa},ua={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ca(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ca(Sn(e.children)):t}function la(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[S(o)]=i[o];return e}function pa(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ha(t){while(t=t.parent)if(t.data.transition)return!0}function fa(t,e){return e.key===t.key&&e.tag===t.tag}var da=function(t){return t.tag||wn(t)},ga=function(t){return"show"===t.name},ma={name:"transition",props:ua,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(da),n.length)){0;var r=this.mode;0;var i=n[0];if(ha(this.$vnode))return i;var o=ca(i);if(!o)return i;if(this._leaving)return pa(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=la(this),c=this._vnode,l=ca(c);if(o.data.directives&&o.data.directives.some(ga)&&(o.data.show=!0),l&&l.data&&!fa(o,l)&&!wn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var p=l.data.transition=O({},u);if("out-in"===r)return this._leaving=!0,be(p,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),pa(t,i);if("in-out"===r){if(wn(o))return c;var h,f=function(){h()};be(u,"afterEnter",f),be(u,"enterCancelled",f),be(p,"delayLeave",function(t){h=t})}}return i}}},va=O({tag:String,moveClass:String},ua);delete va.mode;var ya={props:va,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=On(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=la(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],p=0;p<r.length;p++){var h=r[p];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):l.push(h)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(_a),t.forEach(xa),t.forEach(ba),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Io(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ko,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ko,t),n._moveCb=null,Ro(n,e))})}}))},methods:{hasMove:function(t,e){if(!Co)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){So(n,t)}),wo(n,e),n.style.display="none",this.$el.appendChild(n);var r=zo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function _a(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function xa(t){t.data.newPos=t.elm.getBoundingClientRect()}function ba(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var wa={Transition:ma,TransitionGroup:ya};Sr.config.mustUseProp=Gr,Sr.config.isReservedTag=oi,Sr.config.isReservedAttr=Ur,Sr.config.getTagNamespace=ai,Sr.config.isUnknownElement=ui,O(Sr.options.directives,sa),O(Sr.options.components,wa),Sr.prototype.__patch__=K?Ko:j,Sr.prototype.$mount=function(t,e){return t=t&&K?li(t):void 0,Dn(this,t,e)},K&&setTimeout(function(){B.devtools&&ct&&ct.emit("init",Sr)},0),e["a"]=Sr}).call(this,n("c8ba"))},"2b10":function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;var o=Array(i);while(++r<i)o[r]=t[r+e];return o}t.exports=n},"2b3e":function(t,e,n){var r=n("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,s=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};s.store=r},"2b5c":function(t,e,n){"use strict";function r(){console.error("SYR (symmetric rank 1 operation A := alpha*x*y' + A) not yet implemented")}t.exports=r},"2c28":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Conv1D",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Conv2D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"SeparableConv2D",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Conv2DTranspose",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Conv3D",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Cropping1D",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Cropping2D",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Cropping3D",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"UpSampling1D",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"UpSampling2D",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"UpSampling3D",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"ZeroPadding1D",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"ZeroPadding2D",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"ZeroPadding3D",{enumerable:!0,get:function(){return m.default}});var r=v(n("e025")),i=v(n("5f98")),o=v(n("4a35")),a=v(n("2e12")),s=v(n("dfad")),u=v(n("4ad3")),c=v(n("09d6")),l=v(n("1f7d")),p=v(n("9fe0")),h=v(n("71b6")),f=v(n("a3a3")),d=v(n("65e3")),g=v(n("3725")),m=v(n("d5c0"));function v(t){return t&&t.__esModule?t:{default:t}}},"2caf":function(t,e,n){var r=n("5ca1");r(r.S,"Array",{isArray:n("1169")})},"2d00":function(t,e){t.exports=!1},"2d34":function(t,e,n){var r=n("5ca1"),i=n("38fd"),o=n("cb7c");r(r.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},"2d5c":function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},"2d7c":function(t,e){function n(t,e){var n=-1,r=null==t?0:t.length,i=0,o=[];while(++n<r){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},"2d7c3":function(t,e,n){"use strict";var r=n("db45");function i(t,e,n){var i=r.dot,o=t.shape[1],a=0;if(n)for(a=o-1;a>=0;a--)e.set(a,i(t.pick(a,null).hi(a+1),e.hi(a+1)));else for(a=0;a<o;a++)e.set(a,i(t.pick(a,null).lo(a),e.lo(a)));return!0}t.exports=i},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2e08":function(t,e,n){var r=n("9def"),i=n("9744"),o=n("be13");t.exports=function(t,e,n,a){var s=String(o(t)),u=s.length,c=void 0===n?" ":String(n),l=r(e);if(l<=u||""==c)return s;var p=l-u,h=i.call(c,Math.ceil(p/c.length));return h.length>p&&(h=h.slice(0,p)),a?h+s:s+h}},"2e12":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=d(n("891c")),i=d(n("d3b1")),o=f(n("3e72")),a=n("d966"),s=d(n("c0de")),u=f(n("c022")),c=d(n("d7e6")),l=d(n("62d6")),p=d(n("f93b")),h=f(n("70de"));function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function d(t){return t&&t.__esModule?t:{default:t}}const g="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",m=(0,c.default)({args:[{blockIndices:-1},"scalar","scalar"],body:function(t,e,n){for(let r=0;r<n;r++)if(-1===t[r]){t[r]=e;break}}}),v=(0,c.default)({args:[{blockIndices:-1},"array","scalar"],body:function(t,e,n){for(let r=0;r<n;r++)if(-1===t[r]){t[r]=e;break}}});class y extends r.default{constructor(t={}){super(t),this.layerClass="Conv2DTranspose";const{filters:e=1,kernel_size:n=[3,3],strides:r=[1,1],padding:i="valid",data_format:s="channels_last",activation:u="linear",use_bias:c=!0}=t;Array.isArray(n)?this.kernelShape=[e,...n]:this.kernelShape=[e,n,n],Array.isArray(r)?this.strides=r:this.strides=[r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===s||"channels_first"===s?this.dataFormat=s:this.throwError("Only channels_last and channels_first data formats are allowed."),this.activation=u,this.activationFunc=o[u],this.useBias=c,this.params=this.useBias?["kernel","bias"]:["kernel"],this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.matMulProgram=a.webgl2.compileProgram(g),this.activationProgram=a.webgl2.compileProgram(h[this.activation]))}setWeights(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,1,0)),super.setWeights(t,!1),this._w2row(),this.gpu&&(this.weights["kernel"]=this.wRowsMat,this.weights["kernel"].createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights["bias"].createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.outputPadding)return;const e=t[0],n=t[1],[r,i,o]=this.kernelShape,a="same"===this.padding?e*this.strides[0]:e*this.strides[0]+Math.max(i-this.strides[0],0),s="same"===this.padding?n*this.strides[1]:n*this.strides[1]+Math.max(o-this.strides[1],0),u=r,c="same"===this.padding?Math.max(0,Math.floor((e-1)*this.strides[0]+i-a)):0,l="same"===this.padding?Math.max(0,Math.floor((n-1)*this.strides[1]+o-s)):0,p=Math.floor(c/2),h=c-p,f=Math.floor(l/2),d=l-f;this.outputShape=[a,s,u],this.outputPadding=[p,h,f,d]}_im2col(t){const[e,n,r]=t.tensor.shape;this.imColsMat||(this.imColsMat=new i.default([],[e*n,r]));const o=new i.default([],[e*n]),a=new i.default([],[e,n]);for(let i=0;i<r;i++)l.default.assign(a.tensor,t.tensor.pick(null,null,i)),o.replaceTensorData(a.tensor.data),l.default.assign(this.imColsMat.tensor.pick(null,i),o.tensor);return this.imColsMat}_w2row(){const[t,e,n,r]=this.weights["kernel"].tensor.shape;this.wRowsMat=new i.default([],[r,t*e*n]);const o=new i.default([],[t*e*n]),a=new i.default([],[t,e,n]);for(let i=0;i<r;i++)l.default.assign(a.tensor,this.weights["kernel"].tensor.pick(null,null,null,i)),o.replaceTensorData(a.tensor.data),l.default.assign(this.wRowsMat.tensor.pick(i,null),o.tensor);return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),this._im2col(t);const e=t.tensor.shape[0],n=t.tensor.shape[1],[r,o,a]=this.kernelShape,s=new i.default([],[e*n,o*a*r]);(0,p.default)(s.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1);const[u,c,h,f]=this.outputPadding;this.output=new i.default([],this.outputShape);let d=new i.default([],[this.outputShape[0]+u+c,this.outputShape[1]+h+f,this.outputShape[2]]);const g=[o,a,r];let m=new i.default([],g),v=new i.default([],[o*a*r]),y=0;for(let i=0;i<e;i++)for(let t=0;t<n;t++){l.default.assign(v.tensor,s.tensor.pick(y,null)),m.replaceTensorData(v.tensor.data);const e=i*this.strides[0],n=t*this.strides[1];l.default.addeq(d.tensor.hi(e+o,n+a,this.outputShape[2]).lo(e,n,0),m.tensor),y+=1}if(l.default.assign(this.output.tensor,d.tensor.hi(this.outputShape[0]+u,this.outputShape[1]+h,this.outputShape[2]).lo(u,h,0)),this.useBias)for(let i=0;i<r;i++)l.default.addseq(this.output.tensor.pick(null,null,i),this.weights["bias"].tensor.get(i));this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(){if(this.indexMap)return;const t=this.inputShape[0],e=this.inputShape[1],[n,r,o]=this.kernelShape,[a,s,u,c]=this.outputPadding,p=(r-this.strides[0]+1)*(o-this.strides[1]+1),h=[this.outputShape[0],this.outputShape[1],p],f=[this.outputShape[0]+a+s,this.outputShape[1]+u+c,p],d=new i.default([],h,{type:Int32Array}),g=new i.default([],h,{type:Int32Array}),y=new i.default([],f,{type:Int32Array}),_=new i.default([],f,{type:Int32Array});l.default.assigns(d.tensor,-1),l.default.assigns(g.tensor,-1),l.default.assigns(y.tensor,-1),l.default.assigns(_.tensor,-1);const x=new i.default([],[r,o,n],{type:Int32Array});for(let i=0;i<r*o*n;i++)x.tensor.data[i]=i;for(let i=0;i<t;i++)for(let t=0;t<e;t++){const n=i*e+t,a=i*this.strides[0],s=t*this.strides[1];m(y.tensor.hi(a+r,s+o,p).lo(a,s,0),n,p),v(_.tensor.hi(a+r,s+o,p).lo(a,s,0),x.tensor.pick(null,null,0),p)}l.default.assign(d.tensor,y.tensor.hi(this.outputShape[0]+a,this.outputShape[1]+u,p).lo(a,u,0)),l.default.assign(g.tensor,_.tensor.hi(this.outputShape[0]+a,this.outputShape[1]+u,p).lo(a,u,0));const b=[this.outputShape[0]*this.outputShape[1],p];this.indexMap=new i.default([],b,{type:Int32Array});const w=new i.default([],[p],{type:Int32Array});for(let i=0;i<this.outputShape[0];i++)for(let t=0;t<this.outputShape[1];t++){for(let e=0;e<p;e++){const n=d.tensor.get(i,t,e),r=g.tensor.get(i,t,e);-1!==n&&-1!==r?w.tensor.set(e,n*this.weights["kernel"].glTextureShape[1]+r):w.tensor.set(e,-1)}l.default.assign(this.indexMap.tensor.pick(i*this.outputShape[1]+t,null),w.tensor)}this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape)):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),this._im2col(t),this.imColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}));const e=t.is2DReshaped||t.is2DSquareReshaped?t:this.imColsMat;if(!this.matMulResult){const t=[e.glTextureShape[0],this.weights["kernel"].glTextureShape[1]];this.matMulResult=new i.default([],t),this.matMulResult.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})}if("linear"!==this.activation&&!this.outputPreactiv){const t=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]];this.outputPreactiv=new i.default([],t),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)}if(!this.output){const t=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]];this.output=new i.default([],t),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)}a.webgl2.runProgram({program:this.matMulProgram,output:this.matMulResult,inputs:[{input:e,name:"A"},{input:this.weights["kernel"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}],supportsTextureFragments:!0}),this._createIndexMap();const n=Boolean(this.matMulResult.glTextureFragments);if(n&&this.matMulResult.convert2DRowFragmentedGLTextureToColStack(),!this.convTransposeProgram){const t=(0,s.default)("conv2dTranspose",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,this.matMulResult.glTextureFragmentShape?this.matMulResult.glTextureFragmentShape:this.matMulResult.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,n);this.convTransposeProgram=a.webgl2.compileProgram(t)}a.webgl2.runProgram({program:this.convTransposeProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:this.matMulResult,name:"matMulResult"},{input:this.indexMap,name:"indexMap"},...this.useBias?[{input:this.weights["bias"],name:"bias"}]:[]],supportsTextureFragments:!0}),n&&this.matMulResult.removeGLTextureFragmentsAsColStack(),"linear"!==this.activation&&a.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}e.default=y},"2e37":function(t,e,n){var r=n("5ca1");r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},"2f78":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{isubh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},"2fc6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"2fcc":function(t,e){function n(t){var e=this.__data__,n=e["delete"](t);return this.size=e.size,n}t.exports=n},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"305b":function(t,e,n){"use strict";function r(t,e){var n=new Array(arguments.length-1),r=0,i=2,o=!0;while(i<arguments.length)n[r++]=arguments[i++];return new Promise(function(i,a){n[r]=function(t){if(o)if(o=!1,t)a(t);else{var e=new Array(arguments.length-1),n=0;while(n<e.length)e[n++]=arguments[n];i.apply(null,e)}};try{t.apply(e||null,n)}catch(s){o&&(o=!1,a(s))}})}t.exports=r},3089:function(t,e,n){"use strict";function r(t,e,n,r,i){const o=r?"sum += texelFetch(bias, ivec2(out_x, 0), 0).r;":"",a=i?`int fragmentIndex = int(floor(float(rowIndex) / float(${e[0]})));\n      rowIndex = int(mod(float(rowIndex), float(${e[0]})));\n      colIndex += fragmentIndex * ${e[1]};`:"",s=`#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform sampler2D kernel;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  float sum = 0.;\n  for (int i = 0; i < ${n[1]}; ++i) {\n    int index = texelFetch(indexMap, ivec2(i, out_y), 0).r;    \n    if (index != -1) {\n      int rowIndex = int(floor(float(index) / float(${e[1]})));\n      int colIndex = int(mod(float(index), float(${e[1]})));\n      ${a}\n      sum += texelFetch(x, ivec2(colIndex, rowIndex), 0).r * texelFetch(kernel, ivec2(out_x, i), 0).r;\n    }\n  }\n\n  ${o}\n  outColor = vec4(sum);\n}   \n`;return s}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"30c9":function(t,e,n){var r=n("9520"),i=n("b218");function o(t){return null!=t&&i(t.length)&&!r(t)}t.exports=o},3103:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(n("d7e6"));function i(t){return t&&t.__esModule?t:{default:t}}const o=(0,r.default)({args:["array"],body:function(t){t=1/(1+Math.exp(-t))}});function a(t){o(t.tensor)}},"31f4":function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32b3":function(t,e,n){var r=n("872a"),i=n("9638"),o=Object.prototype,a=o.hasOwnProperty;function s(t,e,n){var o=t[e];a.call(t,e)&&i(o,n)&&(void 0!==n||e in t)||r(t,e,n)}t.exports=s},"32d7":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"32f4":function(t,e,n){var r=n("2d7c"),i=n("d327"),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return a.call(t,e)}))}:i;t.exports=u},3320:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=_(n("ec69")),i=_(n("63ea")),o=_(n("dd61")),a=_(n("2657")),s=_(n("2769")),u=_(n("2593")),c=_(n("f684")),l=_(n("57c3")),p=_(n("6d08")),h=n("ba10"),f=y(n("3777")),d=y(n("54a9")),g=_(n("d3b1")),m=n("d966"),v=_(n("08f5"));function y(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}const x=l.default.CancelToken.source();class b{constructor(t={}){const{filepath:e=null,headers:n={},filesystem:r=!1,gpu:i=!1,transferLayerOutputs:o=!1,pauseAfterLayerCalls:a=!1,visualizations:s=[]}=t;if(!e)throw new Error("[Model] path to protobuf-serialized model definition file is missing.");this.filepath=e,this.headers=n,this.filesystem="undefined"===typeof window&&r,this.events=new h.EventEmitter,this.id=null,this.name=null,this.kerasVersion=null,this.backend=null,this.modelConfig={},this.modelWeights=[],this.gpu=!("undefined"===typeof window||!m.webgl2.isSupported)&&i,this.transferLayerOutputs=o,this.pauseAfterLayerCalls=a,this.modelLayersInfo=[],this.modelLayersMap=new Map,this.inputTensorsMap=new Map,this.inputLayerNames=[],this.outputLayerNames=[],this.finishedLayerNames=[],this.isRunning=!1,this.runningProgress=0,this.predictStats={},this.visMap=new Map,s.forEach(t=>{if(t in d){const e=new d[t]({modelLayersMap:this.modelLayersMap,gpu:this.gpu});this.visMap.set(t,e)}}),this._ready=this._initialize()}checkGPUSupport(){return m.webgl2.isSupported}ready(){return this._ready}_interrupt(){x.cancel()}async _initialize(){this.events.emit("loadingProgress",0);try{const t=this.filesystem?this._dataRequestFS():this._dataRequestHTTP(this.headers);await t}catch(e){console.log(e),this._interrupt()}this.events.emit("loadingProgress",100),this._buildDAG(),this.inputLayerNames.forEach(t=>{const e=this.modelLayersMap.get(t);e.call(this.inputTensorsMap.get(t)),e.hasOutput=!0,e.visited=!0});const t=this.pauseAfterLayerCalls;return this.pauseAfterLayerCalls=!0,this.runningProgress=0,this.events.emit("initProgress",0),await this._traverseDAG(this.inputLayerNames,"initProgress"),this.pauseAfterLayerCalls=t,this.finishedLayerNames=[],this.modelLayersMap.forEach(t=>{t.hasOutput=!1,t.visited=!1}),this.visMap.forEach(t=>{t.initialize()}),this.events.emit("initProgress",100),!0}async _dataRequestHTTP(t={}){try{const n=await l.default.get(this.filepath,{responseType:"arraybuffer",headers:t,onDownloadProgress:t=>{if(t.lengthComputable){const e=Math.round(100*t.loaded/t.total);this.events.emit("loadingProgress",e)}},cancelToken:x.token});this._decodeProtobuf(new Uint8Array(n.data))}catch(e){if(!l.default.isCancel(e))throw e;console.log("[Model] Data request canceled",e.message)}}async _dataRequestFS(){const t=c.default.promisify(n("3e8f").readFile);try{const n=await t(this.filepath);this._decodeProtobuf(n)}catch(e){throw e}}_decodeProtobuf(t){const e=v.default.Model.verify(t);if(e)throw new Error("[Model] Invalid model - check protobuf serialization: {err}");const n=v.default.Model.decode(t);this.id=n.id,this.name=n.name,this.kerasVersion=n.kerasVersion,this.backend=n.backend,this.modelConfig=JSON.parse(n.modelConfig),this.modelWeights=n.modelWeights}toggleGPU(t){this.gpu="undefined"===typeof t?!this.gpu:t,this.modelLayersMap.forEach(t=>{t.toggleGPU(this.gpu)}),this.visMap.forEach(t=>{t.gpu=this.gpu}),this.resetInputTensors()}resetInputTensors(){this.inputLayerNames.forEach(t=>{const e=this.modelLayersMap.get(t);this.inputTensorsMap.set(t,new g.default([],e.shape))})}_buildDAG(){const t=this.modelConfig.class_name;let e=[];if("Sequential"===t?e=this.modelConfig.config:"Model"===t&&(e=this.modelConfig.config.layers),!Array.isArray(e)||!e.length)throw new Error("[Model] Model configuration does not contain any layers.");e.forEach((n,r)=>{const i=n.class_name,o=n.config;if("Model"===t&&"Sequential"===i)o.forEach((t,e)=>{const r=t.class_name,i=t.config,a=0===e?n.inbound_nodes[0].map(t=>t[0]):[o[e-1].config.name];this._createLayer(r,i,a)});else{if(!(i in f))throw new Error(`[Model] Layer ${i} specified in model configuration is not implemented!`);{if("Sequential"===t&&0===r){const t="input",e=o.batch_input_shape.slice(1),n=new f.InputLayer({name:t,shape:e,gpu:this.gpu});this.modelLayersMap.set(t,n),this.inputTensorsMap.set(t,new g.default([],e)),this.inputLayerNames.push(t)}else if("Model"===t&&"InputLayer"===i){const t=o.batch_input_shape.slice(1);this.inputTensorsMap.set(o.name,new g.default([],t)),this.inputLayerNames.push(o.name)}let a=[];if("Sequential"===t)a=0===r?["input"]:[e[r-1].config.name];else if("Model"===t){const t=n.inbound_nodes;t&&t.length&&(a=t[0].map(t=>t[0]))}this._createLayer(i,o,a)}}}),this.modelLayersMap.forEach(t=>{this.modelLayersInfo.push((0,u.default)(t,["name","description","layerClass","inbound","outbound"])),0===t.outbound.length&&this.outputLayerNames.push(t.name)}),this.inputLayerNames.sort(),this.outputLayerNames.sort()}_createLayer(t,e,n){const r=new f[t](Object.assign({},e,{gpu:this.gpu}));let i=[];if("Bidirectional"===t){const t=r.forwardLayer.params.map(t=>`${e.name}/forward_${e.layer.config.name}/${t}`),n=r.backwardLayer.params.map(t=>`${e.name}/backward_${e.layer.config.name}/${t}`);i=t.concat(n)}else i="TimeDistributed"===t?r.layer.params.map(t=>`${e.name}/${t}`):r.params.map(t=>`${e.name}/${t}`);if(i&&i.length){const t=i.map(t=>{const e=(0,s.default)(this.modelWeights,e=>{const n=new RegExp(`^.*${t}`);return n.test(e.weightName)});if(!e)throw new Error("[Model] error loading weights.");const{data:n,shape:r,type:i}=e,o=new ArrayBuffer(n.byteLength),a=new Uint8Array(o);if(a.set(new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),"uint8"===i){const{quantizeMin:t,quantizeMax:n}=e,i=new Float32Array(a);for(let e=0,r=i.length;e<r;e++)i[e]*=(n-t)/255,i[e]+=t;return new g.default(i,r)}return new g.default(new Float32Array(o),r)});r.setWeights(t)}this.modelLayersMap.set(e.name,r),n.forEach(t=>{this.modelLayersMap.get(e.name).inbound.push(t),this.modelLayersMap.get(t).outbound.push(e.name)})}async _traverseDAG(t,e){if(0===t.length)return this.runningProgress=100,this.events.emit(e,100),!0;if(1===t.length){const n=t[0],r=this.modelLayersMap.get(n);if("InputLayer"===r.layerClass)this.finishedLayerNames.push(this.modelLayersMap.get(n).name);else{const t=this.modelLayersMap.get(n);if(t.visited)return!1;const e=t.inbound.map(t=>this.modelLayersMap.get(t));if(!(0,a.default)((0,o.default)(e,"hasOutput")))return!1;t.isMergeLayer?t.call((0,o.default)(e,"output")):t.call(e[0].output),t.hasOutput=!0,t.visited=!0,this.finishedLayerNames.push(t.name),this.pauseAfterLayerCalls&&await c.default.delay(0)}this.runningProgress+=100/this.modelLayersMap.size,this.events.emit(e,this.runningProgress),await this._traverseDAG(r.outbound,e)}else await c.default.all(t.map(t=>this._traverseDAG([t],e)))}_maybeTransferIntermediateOutputs(){this.gpu&&this.transferLayerOutputs&&this.modelLayersMap.forEach(t=>{t.output&&t.output.glTexture&&(m.webgl2.bindOutputTexture(t.output.glTexture,t.output.glTextureShape),t.output.transferFromGLTexture(),t.output.is2DReshaped&&t.output.reshapeFrom2D())})}loadData(t){this.inputLayerNames.forEach(e=>{const n=this.modelLayersMap.get(e);this.inputTensorsMap.get(e).replaceTensorData(t[e]),n.call(this.inputTensorsMap.get(e)),n.hasOutput=!0,n.visited=!0})}async predict(t){if(this.isRunning=!0,this.runningProgress=0,this.events.emit("predictProgress",0),!(0,i.default)((0,r.default)(t).sort(),this.inputLayerNames))throw this.isRunning=!1,new Error("[Model] predict() must take an object where the keys are the named inputs of the model: "+JSON.stringify(this.inputLayerNames));if(!(0,a.default)(this.inputLayerNames,e=>t[e]instanceof Float32Array))throw this.isRunning=!1,new Error("[Model] predict() must take an object where the values are the flattened data as Float32Array.");this.finishedLayerNames=[],this.modelLayersMap.forEach(t=>{t.hasOutput=!1,t.visited=!1});let e=(0,p.default)();this.loadData(t),this.predictStats.loadData=(0,p.default)()-e,e=(0,p.default)(),await this._traverseDAG(this.inputLayerNames,"predictProgress"),this.predictStats.forwardPass=(0,p.default)()-e,this._maybeTransferIntermediateOutputs();const n=this.modelConfig.class_name,o={};if("Sequential"===n){const t=this.modelLayersMap.get(this.outputLayerNames[0]);o["output"]=t.output.tensor.data}else"Model"===n&&this.outputLayerNames.forEach(t=>{const e=this.modelLayersMap.get(t);o[t]=e.output.tensor.data});return e=(0,p.default)(),this.visMap.forEach(t=>{t.update()}),this.predictStats.visualizations=(0,p.default)()-e,this.isRunning=!1,this.events.emit("predictProgress",100),o}layerCall(t,e){if(!this.modelLayersMap.has(t))return;let n;n=e instanceof g.default?e:new g.default(e.data,e.shape);const r=this.modelLayersMap.get(t);return r.call(n)}cleanup(){m.webgl2.clearRefs(),this.modelLayersMap.clear(),this.inputTensorsMap.clear(),this.visMap.clear(),delete this.modelWeights}}e.default=b},"33a4":function(t,e,n){var r=n("84f2"),i=n("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},"345d":function(t,e,n){"use strict";function r(){console.error("GER (rank 1 operation A := alpha*x*y' + A) not yet implemented")}t.exports=r},"34ac":function(t,e,n){var r=n("9520"),i=n("1368"),o=n("1a8c"),a=n("dc57"),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,p=c.toString,h=l.hasOwnProperty,f=RegExp("^"+p.call(h).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(t){if(!o(t)||i(t))return!1;var e=r(t)?f:u;return e.test(a(t))}t.exports=d},"34ef":function(t,e,n){n("ec30")("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},3535:function(t,e,n){"use strict";var r=n("5ca1"),i=n("02f4")(!0);r(r.P,"String",{at:function(t){return i(this,t)}})},"35f0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(n("4416")),i=l(n("5a3a")),o=l(n("63ea")),a=l(n("891c")),s=l(n("d3b1")),u=n("d966"),c=l(n("62d6"));function l(t){return t&&t.__esModule?t:{default:t}}const p="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class h extends a.default{constructor(t={}){super(t),this.layerClass="Permute";const{dims:e=[]}=t;this.description=`${JSON.stringify(e)}`,this.dims=e.map(t=>t-1),this.gpu&&(this.mapInputProgram=u.webgl2.compileProgram(p))}call(t){return t.tensor.shape.length<=1||(0,o.default)((0,i.default)(t.tensor.shape.length),this.dims)?(this.output=t,this.output):(this.gpu?this._callGPU(t):this._callCPU(t),this.output)}_callCPU(t){this.dims.length!==t.tensor.shape.length&&this.throwError("The specified dims permutation must match the number of dimensions.");const e=this.dims.map(e=>t.tensor.shape[e]);this.output=new s.default([],e),c.default.assign(this.output.tensor,t.tensor.transpose(...this.dims))}_createIndexMap(){if(this.indexMap)return;const t=new s.default([],this.inputShape,{type:Int32Array}),e=new s.default([],this.inputShape,{type:Int32Array}),n=new s.default([],this.inputShape,{type:Int32Array});if(2===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)c.default.assigns(e.tensor.pick(r,null),r);else if(3===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)c.default.assigns(e.tensor.pick(r,t,null),r*this.inputShape[1]+t);else if(4===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)for(let n=0;n<this.inputShape[2];n++)c.default.assigns(e.tensor.pick(r,t,n,null),r*this.inputShape[1]*this.inputShape[2]+t*this.inputShape[2]+n);for(let o=0;o<(0,r.default)(this.inputShape);o++)c.default.assigns(n.tensor.pick(...Array(this.inputShape.length-1).fill(null),o),o);c.default.muls(t.tensor,e.tensor,(0,r.default)(this.inputShape)),c.default.addeq(t.tensor,n.tensor);const i=this.dims.map(t=>this.inputShape[t]);this.indexMap=new s.default([],i,{type:Int32Array}),c.default.assign(this.indexMap.tensor,t.tensor.transpose(...this.dims)),i.length>2&&this.indexMap.reshapeTo2D(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){if(t.glTexture?t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape:(this.inputShape=t.tensor.shape,t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this._createIndexMap(),!this.output){const t=this.dims.map(t=>this.inputShape[t]);this.output=new s.default([],t),t.length>2&&this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"})}u.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=h},3698:function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},"36bd":function(t,e,n){"use strict";var r=n("4bf8"),i=n("77f1"),o=n("9def");t.exports=function(t){var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);while(c>s)e[s++]=t;return e}},"36ff":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("d7e6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float theta;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = v * float(greaterThan(v, vec4(theta)));\n}\n";class c extends r.default{constructor(t={}){super(t),l.call(this),this.layerClass="ThresholdedReLU";const{theta:e=1}=t;this.description=`theta: ${e}`,this.theta=e,this.gpu&&(this.program=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,this._compute(this.output.tensor,this.theta)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.theta,type:"float",name:"theta"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=c;var l=function(){Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:(0,a.default)({args:["array","scalar"],body:function(t,e){t*=Number(t>e)}})})}},3725:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="ZeroPadding2D";const{padding:e=[[1,1],[1,1]],data_format:n="channels_last"}=t;Array.isArray(e)?Array.isArray(e[0])?this.padding=e:this.padding=[[e[0],e[0]],[e[1],e[1]]]:this.padding=[[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.padding)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]],this.output=new i.default([],this.outputShape),a.default.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]).lo(this.padding[0][0],this.padding[1][0],0),t.tensor),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.padding[0][0],this.padding[1][0]]:[this.padding[0][0],this.padding[1][0],0],o="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0],this.inputShape[2]+this.padding[1][0]]:[this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]];a.default.assigns(this.indexMap.tensor,-1),a.default.assign(this.indexMap.tensor.hi(...o).lo(...r),n.tensor),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0]+this.padding[0][1],this.inputShape[2]+this.padding[1][0]+this.padding[1][1]]:[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}e.default=c},3729:function(t,e,n){var r=n("9e69"),i=n("00fd"),o=n("29f3"),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;function c(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}t.exports=c},"373f":function(t,e,n){"use strict";var r=n("5ca1"),i=n("6821"),o=[].join;r(r.P+r.F*(n("626a")!=Object||!n("2f21")(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},3777:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={InputLayer:!0};Object.defineProperty(e,"InputLayer",{enumerable:!0,get:function(){return i.default}});var i=g(n("bd50")),o=n("f6c5");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))});var a=n("2c28");Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))});var s=n("5f2c");Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))});var u=n("db4e");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))});var c=n("522b");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))});var l=n("3fc4");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))});var p=n("c92f");Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))});var h=n("f2d6");Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}}))});var f=n("069c");Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))});var d=n("c5a0");function g(t){return t&&t.__esModule?t:{default:t}}Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))})},"37a7":function(t,e,n){var r=n("f400"),i=n("5ca1"),o=n("5537")("metadata"),a=o.store||(o.store=new(n("10ad"))),s=function(t,e,n){var i=a.get(t);if(!i){if(!n)return;a.set(t,i=new r)}var o=i.get(e);if(!o){if(!n)return;i.set(e,o=new r)}return o},u=function(t,e,n){var r=s(e,n,!1);return void 0!==r&&r.has(t)},c=function(t,e,n){var r=s(e,n,!1);return void 0===r?void 0:r.get(t)},l=function(t,e,n,r){s(n,r,!0).set(t,e)},p=function(t,e){var n=s(t,e,!1),r=[];return n&&n.forEach(function(t,e){r.push(e)}),r},h=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},f=function(t){i(i.S,"Reflect",t)};t.exports={store:a,map:s,has:u,get:c,set:l,keys:p,key:h,exp:f}},"37b5":function(t,e,n){"use strict";var r=n("5ca1"),i=n("7726"),o=n("8378"),a=n("8079")(),s=n("2b4c")("observable"),u=n("d8e8"),c=n("cb7c"),l=n("f605"),p=n("dcbc"),h=n("32e9"),f=n("4a59"),d=f.RETURN,g=function(t){return null==t?void 0:u(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,m(t))},_=function(t,e){c(t),this._c=void 0,this._o=t,t=new x(this);try{var n=e(t),r=n;null!=n&&("function"===typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(i){return void t.error(i)}v(this)&&m(this)};_.prototype=p({},{unsubscribe:function(){y(this)}});var x=function(t){this._s=t};x.prototype=p({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var r=g(n.next);if(r)return r.call(n,t)}catch(i){try{y(e)}finally{throw i}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var r=g(n.error);if(!r)throw t;t=r.call(n,t)}catch(i){try{m(e)}finally{throw i}}return m(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var r=g(n.complete);t=r?r.call(n,t):void 0}catch(i){try{m(e)}finally{throw i}}return m(e),t}}});var b=function(t){l(this,b,"Observable","_f")._f=u(t)};p(b.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||i.Promise)(function(n,r){u(t);var i=e.subscribe({next:function(e){try{return t(e)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n})})}}),p(b,{from:function(t){var e="function"===typeof this?this:b,n=g(c(t)[s]);if(n){var r=c(n.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var n=!1;return a(function(){if(!n){try{if(f(t,!1,function(t){if(e.next(t),n)return d})===d)return}catch(r){if(n)throw r;return void e.error(r)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"===typeof this?this:b)(function(t){var e=!1;return a(function(){if(!e){for(var r=0;r<n.length;++r)if(t.next(n[r]),e)return;t.complete()}}),function(){e=!0}})}}),h(b.prototype,s,function(){return this}),r(r.G,{Observable:b}),n("7a56")("Observable")},"37c8":function(t,e,n){e.f=n("2b4c")},"37d8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("4416")),i=u(n("891c")),o=u(n("d3b1")),a=n("d966"),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}const c="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class l extends i.default{constructor(t={}){super(t),this.layerClass="Reshape";const{target_shape:e=[]}=t;this.targetShape=e,this.description=`target shape: ${JSON.stringify(this.targetShape)}`,this.gpu&&(this.mapInputProgram=a.webgl2.compileProgram(c))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.targetShape.reduce((t,e)=>t*e,1)!==t.tensor.size&&this.throwError("The total size of new array must be unchanged in reshape layer."),this.output=new o.default([],this.targetShape),this.output.replaceTensorData(t.tensor.data)}_createIndexMap(){if(this.indexMap)return;const t=new o.default([],this.inputShape,{type:Int32Array}),e=new o.default([],this.inputShape,{type:Int32Array}),n=new o.default([],this.inputShape,{type:Int32Array});if(2===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)s.default.assigns(e.tensor.pick(r,null),r);else if(3===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)s.default.assigns(e.tensor.pick(r,t,null),r*this.inputShape[1]+t);else if(4===this.inputShape.length)for(let r=0;r<this.inputShape[0];r++)for(let t=0;t<this.inputShape[1];t++)for(let n=0;n<this.inputShape[2];n++)s.default.assigns(e.tensor.pick(r,t,n,null),r*this.inputShape[1]*this.inputShape[2]+t*this.inputShape[2]+n);for(let i=0;i<(0,r.default)(this.inputShape);i++)s.default.assigns(n.tensor.pick(...Array(this.inputShape.length-1).fill(null),i),i);s.default.muls(t.tensor,e.tensor,(0,r.default)(this.inputShape)),s.default.addeq(t.tensor,n.tensor),this.indexMap=new o.default([],this.targetShape,{type:Int32Array}),this.indexMap.replaceTensorData(new Int32Array(t.tensor.data)),this.targetShape.length>2&&this.indexMap.reshapeTo2D(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture?t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape:(this.inputShape=t.tensor.shape,t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this._createIndexMap(),this.output||(this.output=new o.default([],this.targetShape),this.targetShape.length>2&&this.output.reshapeTo2D(),this.output.createGLTexture({type:"2d",format:"float"})),a.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=l},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"386b":function(t,e,n){var r=n("5ca1"),i=n("79e5"),o=n("be13"),a=/"/g,s=function(t,e,n,r){var i=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},"386d":function(t,e,n){"use strict";var r=n("cb7c"),i=n("83a1"),o=n("5f1b");n("214f")("search",1,function(t,e,n,a){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=r(t),u=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var l=o(s,u);return i(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]})},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"39ff":function(t,e,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"WeakMap");t.exports=o},"3a72":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("2d00"),a=n("37c8"),s=n("86cc").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},"3a9c":function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=n("d8e8"),a=r.key,s=r.set;r.exp({metadata:function(t,e){return function(n,r){s(t,e,(void 0!==r?i:o)(n),a(r))}}})},"3ac4":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"3b2b":function(t,e,n){var r=n("7726"),i=n("5dbc"),o=n("86cc").f,a=n("9093").f,s=n("aae3"),u=n("0bfb"),c=r.RegExp,l=c,p=c.prototype,h=/a/g,f=/a/g,d=new c(h)!==h;if(n("9e1e")&&(!d||n("79e5")(function(){return f[n("2b4c")("match")]=!1,c(h)!=h||c(f)==f||"/a/i"!=c(h,"i")}))){c=function(t,e){var n=this instanceof c,r=s(t),o=void 0===e;return!n&&r&&t.constructor===c&&o?t:i(d?new l(r&&!o?t.source:t,e):l((r=t instanceof c)?t.source:t,r&&o?u.call(t):e),n?this:p,c)};for(var g=function(t){t in c||o(c,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},m=a(l),v=0;m.length>v;)g(m[v++]);p.constructor=c,c.prototype=p,n("2aba")(r,"RegExp",c)}n("7a56")("RegExp")},"3b33":function(t,e,n){"use strict";var r=n("58c9"),i=n("044b"),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return"[object ArrayBuffer]"===o.call(t)}function u(t){return"undefined"!==typeof FormData&&t instanceof FormData}function c(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function l(t){return"string"===typeof t}function p(t){return"number"===typeof t}function h(t){return"undefined"===typeof t}function f(t){return null!==t&&"object"===typeof t}function d(t){return"[object Date]"===o.call(t)}function g(t){return"[object File]"===o.call(t)}function m(t){return"[object Blob]"===o.call(t)}function v(t){return"[object Function]"===o.call(t)}function y(t){return f(t)&&v(t.pipe)}function _(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function x(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function b(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function w(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function S(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=S(t[n],e):t[n]=e}for(var n=0,r=arguments.length;n<r;n++)w(arguments[n],e);return t}function T(t,e,n){return w(e,function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e}),t}t.exports={isArray:a,isArrayBuffer:s,isBuffer:i,isFormData:u,isArrayBufferView:c,isString:l,isNumber:p,isObject:f,isUndefined:h,isDate:d,isFile:g,isBlob:m,isFunction:v,isStream:y,isURLSearchParams:_,isStandardBrowserEnv:b,forEach:w,merge:S,extend:T,trim:x}},"3b4a":function(t,e,n){var r=n("0b07"),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},"3bb4":function(t,e,n){var r=n("08cc"),i=n("ec69");function o(t){var e=i(t),n=e.length;while(n--){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}t.exports=o},"3c3b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("e7fa")),i=u(n("d3b1")),o=n("d966"),a=u(n("c0de")),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}class c extends r.default{constructor(t={}){super(t),this.layerClass="Maximum",this.mode="max"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e),s.default.assign(this.output.tensor,t[0].tensor);for(let n=1;n<t.length;n++)s.default.maxeq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,n=(0,a.default)("maximum",t.length,e);this.mergeProgram=o.webgl2.compileProgram(n)}super._callGPU(t)}}e.default=c},"3ca5":function(t,e,n){var r=n("7726").parseInt,i=n("aa77").trim,o=n("fdef"),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},"3e72":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"softmax",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"elu",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"selu",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"softplus",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"softsign",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"relu",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"tanh",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"sigmoid",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"hard_sigmoid",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"linear",{enumerable:!0,get:function(){return h.default}});var r=f(n("5c88")),i=f(n("d2a1")),o=f(n("a19b")),a=f(n("623a")),s=f(n("4710")),u=f(n("0886")),c=f(n("01a8")),l=f(n("3103")),p=f(n("847c")),h=f(n("6197"));function f(t){return t&&t.__esModule?t:{default:t}}},"3e8f":function(t,e){},"3fc4":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"GaussianDropout",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"GaussianNoise",{enumerable:!0,get:function(){return i.default}});var r=o(n("baea")),i=o(n("b5bd"));function o(t){return t&&t.__esModule?t:{default:t}}},"405d":function(t,e,n){"use strict";var r=function(t,e){if(0===t&&0===e)return 0;var n=Math.abs(t),r=Math.abs(e),i=Math.min(n,r),o=Math.max(n,r);return i/=o,o*Math.sqrt(1+i*i)};t.exports=function(t){var e,n,i=t.data,o=t.stride[0],a=t.offset,s=0;for(e=t.shape[0]-1;e>=0;e--,a+=o)n=i[a],s=r(s,n);return s}},"40ce":function(t,e,n){"use strict";var r=n("d37d");function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function o(t){var e=new i;e.pre=t.pre,e.body=t.body,e.post=t.post;var n=t.args.slice(0);e.argTypes=n;for(var o=0;o<n.length;++o){var a=n[o];if("array"===a||"object"===typeof a&&a.blockIndices){if(e.argTypes[o]="array",e.arrayArgs.push(o),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(o),e.shimArgs.push("scalar"+o);else if("index"===a){if(e.indexArgs.push(o),o<e.pre.args.length&&e.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<e.post.args.length&&e.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(o),o<e.pre.args.length&&e.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<e.body.args.length&&e.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<e.post.args.length&&e.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);e.argTypes[o]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(o)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,r(e)}t.exports=o},"416c":function(t,e,n){n("28e4")("Map")},4192:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("7821"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GlobalMaxPooling1D",this.poolingFunc="max"}}e.default=o},"41a0":function(t,e,n){"use strict";var r=n("2aeb"),i=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},4245:function(t,e,n){var r=n("1290");function i(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}t.exports=i},4276:function(t,e,n){var r=n("5ca1"),i=n("2d95");r(r.S,"Error",{isError:function(t){return"Error"===i(t)}})},4284:function(t,e){function n(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(e(t[n],n,t))return!0;return!1}t.exports=n},"42a2":function(t,e,n){var r=n("b5a7"),i=n("79bc"),o=n("1cec"),a=n("c869"),s=n("39ff"),u=n("3729"),c=n("dc57"),l="[object Map]",p="[object Object]",h="[object Promise]",f="[object Set]",d="[object WeakMap]",g="[object DataView]",m=c(r),v=c(i),y=c(o),_=c(a),x=c(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=g||i&&b(new i)!=l||o&&b(o.resolve())!=h||a&&b(new a)!=f||s&&b(new s)!=d)&&(b=function(t){var e=u(t),n=e==p?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return g;case v:return l;case y:return h;case _:return f;case x:return d}return e}),t.exports=b},4379:function(t,e,n){var r=n("4a59");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},4416:function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},"44b8":function(t,e,n){var r=n("23c6"),i=n("4379");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},4504:function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("d8e8"),a=n("86cc");n("9e1e")&&r(r.P+n("c5b4"),"Object",{__defineGetter__:function(t,e){a.f(i(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",function(){return function(t){return i(r(t))}})},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},4704:function(t,e,n){var r=n("5ca1");r(r.P+r.R,"Map",{toJSON:n("44b8")("Map")})},4710:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(n("d7e6"));function i(t){return t&&t.__esModule?t:{default:t}}const o=(0,r.default)({args:["array"],body:function(t){t/=1+Math.abs(t)}});function a(t){o(t.tensor)}},4795:function(t,e,n){var r=n("7726"),i=n("5ca1"),o=n("a25f"),a=[].slice,s=/MSIE .\./.test(o),u=function(t){return function(e,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},4796:function(t,e){var n=Math.ceil,r=Math.max;function i(t,e,i,o){var a=-1,s=r(n((e-t)/(i||1)),0),u=Array(s);while(s--)u[o?s:++a]=t,t+=i;return u}t.exports=i},"483b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=i(n("5a3a"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){const n=`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n  \n  outColor = vec4(${(0,r.default)(t).map(t=>`texelFetch(inputs[${t}], ivec2(out_x, out_y), 0).r`).join(" + ")});\n}\n`;return n}},"48a0":function(t,e,n){var r=n("242e"),i=n("950a"),o=i(r);t.exports=o},"48c0":function(t,e,n){"use strict";n("386b")("bold",function(t){return function(){return t(this,"b","","")}})},"48f8":function(t,e,n){"use strict";var r=n("5ca1"),i=n("7b23");r(r.P+r.F*!n("2f21")([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},4917:function(t,e,n){"use strict";var r=n("cb7c"),i=n("9def"),o=n("0390"),a=n("5f1b");n("214f")("match",1,function(t,e,n,s){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=r(t),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;var p,h=[],f=0;while(null!==(p=a(u,c))){var d=String(p[0]);h[f]=d,""===d&&(u.lastIndex=o(c,i(u.lastIndex),l)),f++}return 0===f?null:h}]})},"49f4":function(t,e,n){var r=n("6044");function i(){this.__data__=r?r(null):{},this.size=0}t.exports=i},"4a04":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D embeddings;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 x_size = textureSize(x, 0);\n  ivec2 embeddings_size = textureSize(embeddings, 0);\n  int out_x = int(float(embeddings_size[0]) * outTex.x);\n  int out_y = int(float(x_size[0]) * outTex.y);\n\n  int index = int(texelFetch(x, ivec2(out_y, 0), 0).r);\n  outColor = texelFetch(embeddings, ivec2(out_x, index), 0);\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="Embedding";const{input_dim:e=1,output_dim:n=1,input_length:r=0,mask_zero:i=!1}=t;this.description=`output dimensions: ${n}`,this.inputDim=e,this.outputDim=n,this.inputLength=r,this.maskZero=i,this.params=["embeddings"],this.gpu&&(this.program=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=new i.default([],[t.tensor.shape[0],this.weights["embeddings"].tensor.shape[1]]);for(let e=0,n=t.tensor.shape[0];e<n;e++)a.default.assign(this.output.tensor.pick(e,null),this.weights["embeddings"].tensor.pick(t.tensor.get(e),null))}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.output||(this.output=new i.default([],[t.glTextureShape[1],this.weights["embeddings"].glTextureShape[1]]),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"},{input:this.weights["embeddings"],name:"embeddings"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},"4a35":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=f(n("891c")),i=f(n("d3b1")),o=h(n("3e72")),a=n("d966"),s=h(n("c022")),u=f(n("62d6")),c=f(n("f93b")),l=f(n("5f98")),p=h(n("70de"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}class d extends l.default{constructor(t={}){super(t)}_calcOutputShape(t){super._calcOutputShape(t);const e=this.kernelShape[0],n=t[2];this.outputShape[2]=e*n}_im2col(t){const[e,n,r]=t.tensor.shape,o=this.kernelShape[1],a=this.kernelShape[2],s=this.outputShape[0],c=this.outputShape[1],l=s*c,p=o*a;this.imColsMat||(this.imColsMat=new i.default([],[l*r,p]));let h=new i.default([],[o,a,1]),f=0;for(let i=0;i<r;i++)for(let r=0,s=e-o;r<=s;r+=this.strides[0])for(let e=0,c=n-a;e<=c;e+=this.strides[1])u.default.assign(h.tensor,t.tensor.hi(r+o,e+a,i+1).lo(r,e,i)),this.imColsMat.tensor.data.set(h.tensor.data,f),f+=p;return this.imColsMat}_w2row(){const t=this.weights["kernel"].tensor.shape[2],[e,n,r]=this.kernelShape,o=n*r;this.wRowsMat=new i.default([],[o,e*t]);let a=new i.default([],[n,r]),s=new i.default([],[o]),c=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)u.default.assign(a.tensor,this.weights["kernel"].tensor.pick(null,null,i,t)),s.replaceTensorData(a.tensor.data),u.default.assign(this.wRowsMat.tensor.pick(null,c),s.tensor),c+=1;return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t);const e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],o=n*r,a=this.inputShape[2],s=new i.default([],[o*a,e*a]);(0,c.default)(s.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new i.default([],this.outputShape);const u=n*r*e*a;let l=new Float32Array(u);for(let i=0;i<a;i++)for(let t=i*u+i*e;t<(i+1)*u;t+=e*a)for(let n=0;n<e;n++)l[t+n-i*u]=s.tensor.data[t+n];this.output.replaceTensorData(l)}_createIndexMap(t){if(this.indexMap)return;let[e,n,r]=this.inputShape,o=new i.default(t.data,t.shape,{type:Int32Array});if("same"===this.padding){const[t,r,i,a]=this.inputPadding;e=e+t+r,n=n+i+a;const s=-1;o=this._padInput(o,s)}const a=this.kernelShape[1],s=this.kernelShape[2],c=this.outputShape[0],l=this.outputShape[1],p=c*l,h=a*s;this.indexMap=new i.default([],[p*r,h],{type:Int32Array});const f=new i.default([],[a,s,1]);let d=0;for(let i=0;i<r;i++)for(let t=0,r=e-a;t<=r;t+=this.strides[0])for(let e=0,c=n-s;e<=c;e+=this.strides[1])u.default.assign(f.tensor,o.tensor.hi(t+a,e+s,i+1).lo(t,e,i)),this.indexMap.tensor.data.set(f.tensor.data,d),d+=h;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_createOutputReshapeIndexMap(){if(this.reshapeIndexMap)return;const t=this.kernelShape[0],e=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]],n=new i.default([],e,{type:Int32Array}),r=new i.default([],e,{type:Int32Array});this.reshapeIndexMap=new i.default([],e,{type:Int32Array});for(let i=0;i<e[1];i++)for(let r=0;r<e[0];r++)u.default.assigns(n.tensor.pick(r,i),r+Math.floor(i/t)*e[0]);for(let i=0;i<e[1];i++)u.default.assigns(r.tensor.pick(null,i),i);u.default.muls(this.reshapeIndexMap.tensor,n.tensor,e[1]),u.default.addeq(this.reshapeIndexMap.tensor,r.tensor),this.reshapeIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){if(super._callGPU(t),this._createOutputReshapeIndexMap(),!this.outputReshaped){const t=[this.outputShape[0]*this.outputShape[1],this.outputShape[2]];this.outputReshaped=new i.default([],t),this.outputReshaped.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputReshaped.is2DReshaped=!0,this.outputReshaped.originalShape=this.outputShape,this.outputReshaped.indicesForReshaped=s.createIndicesFor2DReshaped(this.outputShape,!1,-1)}this.output.glTextureFragments&&this.output.convert2DRowFragmentedGLTextureToColStack(),a.webgl2.runProgram({program:this.output.glTextureFragments?this.mapInputFragmentsProgram:this.mapInputProgram,output:this.outputReshaped,inputs:[{input:this.output,name:"x"},{input:this.reshapeIndexMap,name:"indexMap"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),this.output.glTextureFragments&&this.output.removeGLTextureFragmentsAsColStack()}}class g extends r.default{constructor(t={}){super(t),this.layerClass="SeparableConv2D";const{filters:e=1,kernel_size:n=[1,1],strides:r=[1,1],padding:i="valid",data_format:s="channels_last",depth_multiplier:u=1,activation:c="linear",use_bias:l=!0}=t;Array.isArray(n)?this.kernelShape=[e,...n]:this.kernelShape=[e,n,n],Array.isArray(r)?this.strides=r:this.strides=[r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===s||"channels_first"===s?this.dataFormat=s:this.throwError("Only channels_last and channels_first data formats are allowed."),this.activation=c,this.activationFunc=o[c],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),this.useBias=l,this.params=this.useBias?["depthwise_kernel","pointwise_kernel","bias"]:["depthwise_kernel","pointwise_kernel"],this.depthwiseConvAttrs={filters:u,kernel_size:[this.kernelShape[1],this.kernelShape[2]],strides:this.strides,padding:i,data_format:s,activation:"linear",use_bias:!1,gpu:t.gpu},this.pointwiseConvAttrs={filters:e,kernel_size:[1,1],strides:[1,1],padding:i,data_format:s,activation:"linear",use_bias:l,gpu:t.gpu},this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+=u>1?`, depth multiplier: ${u}`:"",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.activationProgram=a.webgl2.compileProgram(p[this.activation]))}setWeights(t){this._depthwiseConv=new d(this.depthwiseConvAttrs),this._depthwiseConv.setWeights(t.slice(0,1)),this._pointwiseConv=new l.default(this.pointwiseConvAttrs),this._pointwiseConv.setWeights(t.slice(1,3))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this._depthwiseConv._callCPU(t),this._pointwiseConv._callCPU(this._depthwiseConv.output),this.output=this._pointwiseConv.output,this.activationFunc(this.output)}_callGPU(t){this._depthwiseConv.outbound=[null],this._pointwiseConv.outbound=[null],this._depthwiseConv._callGPU(t),this._pointwiseConv._callGPU(this._depthwiseConv.outputReshaped),"linear"===this.activation?this.output=this._pointwiseConv.output:(this.output||(this.output=new i.default([],this._pointwiseConv.output.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this._pointwiseConv.output.originalShape,this.output.indicesForReshaped=s.createIndicesFor2DReshaped(this._pointwiseConv.output.originalShape,!1,-1)),this.outputPreactiv=this._pointwiseConv.output,a.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0})),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}e.default=g},"4a3a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("e7fa")),i=u(n("d3b1")),o=n("d966"),a=u(n("c0de")),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}class c extends r.default{constructor(t={}){super(t),this.layerClass="Subtract",this.mode="diff"}_callCPU(t){2!==t.length&&this.throwError("Inputs should be an array of 2 Tensors.");const e=t[0].tensor.shape.slice();this.output=new i.default([],e),s.default.sub(this.output.tensor,t[0].tensor,t[1].tensor)}_callGPU(t){if(!this.mergeProgram){const e=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,n=(0,a.default)("subtract",t.length,e);this.mergeProgram=o.webgl2.compileProgram(n)}super._callGPU(t)}}e.default=c},"4a59":function(t,e,n){var r=n("9b43"),i=n("1fa8"),o=n("33a4"),a=n("cb7c"),s=n("9def"),u=n("27ee"),c={},l={};e=t.exports=function(t,e,n,p,h){var f,d,g,m,v=h?function(){return t}:u(t),y=r(n,p,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(f=s(t.length);f>_;_++)if(m=e?y(a(d=t[_])[0],d[1]):y(t[_]),m===c||m===l)return m}else for(g=v.call(t);!(d=g.next()).done;)if(m=i(g,y,d.value,e),m===c||m===l)return m};e.BREAK=c,e.RETURN=l},"4ad3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="Cropping1D";const{cropping:e=[0,0]}=t;Array.isArray(e)?this.cropping=e:this.cropping=[e,e],this.description=`${JSON.stringify(this.cropping)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0]-this.cropping[1],this.inputShape[1]],this.output=new i.default([],this.outputShape),a.default.assign(this.output.tensor,t.tensor.hi(this.inputShape[0]-this.cropping[1],this.inputShape[2]).lo(this.cropping[0],0))}_createIndexMap(){if(this.indexMap)return;const t=new i.default([],this.inputShape,{type:Int32Array}),e=new i.default([],this.inputShape,{type:Int32Array}),n=new i.default([],this.inputShape,{type:Int32Array});for(let i=0;i<this.inputShape[0];i++)a.default.assigns(e.tensor.pick(i,null),i);for(let i=0;i<this.inputShape[1];i++)a.default.assigns(n.tensor.pick(null,i),i);a.default.muls(t.tensor,e.tensor,this.inputShape[1]),a.default.addeq(t.tensor,n.tensor),this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r=[this.cropping[0],0],o=[this.inputShape[0]-this.cropping[1],this.inputShape[2]];a.default.assign(this.indexMap.tensor,t.tensor.hi(...o).lo(...r)),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]-this.cropping[0]-this.cropping[1],this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},"4b17":function(t,e,n){var r=n("6428");function i(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}t.exports=i},"4b31":function(t,e,n){"use strict";var r=n("84af"),i=n("d7e6"),o=i({args:["array","scalar","index"],body:function(t,e,n){var r,i=e;for(r=0;r<n.length-1;++r)i=i[n[r]];i[n[n.length-1]]=t}});t.exports=function(t){var e=r(t.shape);return o(t,e),e}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4c18":function(t,e,n){"use strict";var r=n("175e");function i(t,e,n){var r,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],c=[],l=0,p=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)p=l,l=t[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",l].join("")):c.push(["d",i,"s",r,"=(t",i,"p",l,"-s",p,"*t",i,"p",p,")"].join(""));for(c.length>0&&u.push("var "+c.join(",")),r=o-1;r>=0;--r)l=t[r],u.push(["for(i",r,"=0;i",r,"<s",l,";++i",r,"){"].join(""));for(u.push(n),r=0;r<o;++r){for(p=l,l=t[r],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&u.push(["index[",p,"]-=s",p].join("")),u.push(["++index[",l,"]"].join(""))),u.push("}")}return u.join("\n")}function o(t,e,n,r){for(var o=e.length,a=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,c=[],l=0;l<a;++l)c.push(["var offset",l,"=p",l].join(""));for(l=t;l<o;++l)c.push(["for(var j"+l+"=SS[",e[l],"]|0;j",l,">0;){"].join("")),c.push(["if(j",l,"<",s,"){"].join("")),c.push(["s",e[l],"=j",l].join("")),c.push(["j",l,"=0"].join("")),c.push(["}else{s",e[l],"=",s].join("")),c.push(["j",l,"-=",s,"}"].join("")),u&&c.push(["index[",e[l],"]=j",l].join(""));for(l=0;l<a;++l){for(var p=["offset"+l],h=t;h<o;++h)p.push(["j",h,"*t",l,"p",e[h]].join(""));c.push(["p",l,"=(",p.join("+"),")"].join(""))}c.push(i(e,n,r));for(l=t;l<o;++l)c.push("}");return c.join("\n")}function a(t){var e=0,n=t[0].length;while(e<n){for(var r=1;r<t.length;++r)if(t[r][e]!==t[0][e])return e;++e}return e}function s(t,e,n){for(var r=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),c="",l=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var p=e.offsetArgIndex.indexOf(a),h=e.offsetArgs[p];l=h.array,c="+q"+p;case"array":c="p"+l+c;var f="l"+a,d="a"+l;if(0===e.arrayBlockIndices[l])1===s.count?"generic"===n[l]?s.lvalue?(i.push(["var ",f,"=",d,".get(",c,")"].join("")),r=r.replace(u,f),o.push([d,".set(",c,",",f,")"].join(""))):r=r.replace(u,[d,".get(",c,")"].join("")):r=r.replace(u,[d,"[",c,"]"].join("")):"generic"===n[l]?(i.push(["var ",f,"=",d,".get(",c,")"].join("")),r=r.replace(u,f),s.lvalue&&o.push([d,".set(",c,",",f,")"].join(""))):(i.push(["var ",f,"=",d,"[",c,"]"].join("")),r=r.replace(u,f),s.lvalue&&o.push([d,"[",c,"]=",f].join("")));else{for(var g=[s.name],m=[c],v=0;v<Math.abs(e.arrayBlockIndices[l]);v++)g.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(v+1)+"*t"+l+"b"+v);if(u=new RegExp(g.join(""),"g"),c=m.join("+"),"generic"===n[l])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(u,[d,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(u,"index");break;case"shape":r=r.replace(u,"shape");break}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function u(t){for(var e=new Array(t.length),n=!0,r=0;r<t.length;++r){var i=t[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[r]="u"+i.charAt(1)+o:e[r]=i.charAt(0)+o,r>0&&(n=n&&e[r]===e[r-1])}return n?e[0]:e.join("")}function c(t,e){for(var n=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,c=new Array(t.arrayArgs.length),l=new Array(t.arrayArgs.length),p=0;p<t.arrayArgs.length;++p)l[p]=e[2*p],c[p]=e[2*p+1];var h=[],f=[],d=[],g=[],m=[];for(p=0;p<t.arrayArgs.length;++p){t.arrayBlockIndices[p]<0?(d.push(0),g.push(n),h.push(n),f.push(n+t.arrayBlockIndices[p])):(d.push(t.arrayBlockIndices[p]),g.push(t.arrayBlockIndices[p]+n),h.push(0),f.push(t.arrayBlockIndices[p]));for(var v=[],y=0;y<c[p].length;y++)d[p]<=c[p][y]&&c[p][y]<g[p]&&v.push(c[p][y]-d[p]);m.push(v)}var _=["SS"],x=["'use strict'"],b=[];for(y=0;y<n;++y)b.push(["s",y,"=SS[",y,"]"].join(""));for(p=0;p<t.arrayArgs.length;++p){_.push("a"+p),_.push("t"+p),_.push("p"+p);for(y=0;y<n;++y)b.push(["t",p,"p",y,"=t",p,"[",d[p]+y,"]"].join(""));for(y=0;y<Math.abs(t.arrayBlockIndices[p]);++y)b.push(["t",p,"b",y,"=t",p,"[",h[p]+y,"]"].join(""))}for(p=0;p<t.scalarArgs.length;++p)_.push("Y"+p);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){var w=new Array(n);for(p=0;p<n;++p)w[p]="0";b.push(["index=[",w.join(","),"]"].join(""))}for(p=0;p<t.offsetArgs.length;++p){var S=t.offsetArgs[p],T=[];for(y=0;y<S.offset.length;++y)0!==S.offset[y]&&(1===S.offset[y]?T.push(["t",S.array,"p",y].join("")):T.push([S.offset[y],"*t",S.array,"p",y].join("")));0===T.length?b.push("q"+p+"=0"):b.push(["q",p,"=",T.join("+")].join(""))}var P=r([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));b=b.concat(P),b.length>0&&x.push("var "+b.join(","));for(p=0;p<t.arrayArgs.length;++p)x.push("p"+p+"|=0");t.pre.body.length>3&&x.push(s(t.pre,t,l));var C=s(t.body,t,l),M=a(m);M<n?x.push(o(M,m[0],t,C)):x.push(i(m[0],t,C)),t.post.body.length>3&&x.push(s(t.post,t,l)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+x.join("\n")+"\n----------");var A=[t.funcName||"unnamed","_cwise_loop_",c[0].join("s"),"m",M,u(l)].join(""),F=new Function(["function ",A,"(",_.join(","),"){",x.join("\n"),"} return ",A].join(""));return F()}t.exports=c},"4d2a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("7821"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GlobalAveragePooling1D",this.poolingFunc="average"}}e.default=o},"4d46":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("28e5"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="AveragePooling2D",this.poolingFunc="average"}}e.default=o},"4d8c":function(t,e,n){var r=n("5c69");function i(t){var e=null==t?0:t.length;return e?r(t,1):[]}t.exports=i},"4dda":function(t,e,n){n("ec30")("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},"4f37":function(t,e,n){"use strict";n("aa77")("trim",function(t){return function(){return t(this,3)}})},"4f7f":function(t,e,n){"use strict";var r=n("c26b"),i=n("b39a"),o="Set";t.exports=n("e0b8")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,o),t=0===t?0:t,t)}},r)},"504c":function(t,e,n){var r=n("9e1e"),i=n("0d58"),o=n("6821"),a=n("52a7").f;t.exports=function(t){return function(e){var n,s=o(e),u=i(s),c=u.length,l=0,p=[];while(c>l)n=u[l++],r&&!a.call(s,n)||p.push(t?[n,s[n]]:s[n]);return p}}},5066:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"50d8":function(t,e){function n(t,e){var n=-1,r=Array(t);while(++n<t)r[n]=e(n);return r}t.exports=n},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},"51f5":function(t,e,n){var r=n("2b03"),i=n("badf"),o=n("4b17"),a=Math.max;function s(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(t,i(e,3),u)}t.exports=s},"520a":function(t,e,n){"use strict";var r=n("0bfb"),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s="lastIndex",u=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t[s]||0!==e[s]}(),c=void 0!==/()??/.exec("")[1],l=u||c;l&&(a=function(t){var e,n,a,l,p=this;return c&&(n=new RegExp("^"+p.source+"$(?!\\s)",r.call(p))),u&&(e=p[s]),a=i.call(p,t),u&&a&&(p[s]=p.global?a.index+a[0].length:e),c&&a&&a.length>1&&o.call(a[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),a}),t.exports=a},"522b":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Add",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Subtract",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Multiply",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Average",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Maximum",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"Minimum",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Concatenate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Dot",{enumerable:!0,get:function(){return l.default}});var r=p(n("98ba")),i=p(n("4a3a")),o=p(n("0edf")),a=p(n("ea2d")),s=p(n("3c3b")),u=p(n("b095")),c=p(n("b8c7")),l=p(n("570a"));function p(t){return t&&t.__esModule?t:{default:t}}},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"536b":function(t,e,n){var r=n("5ca1"),i=Math.asinh;function o(t){return isFinite(t=+t)&&0!=t?t<0?-o(-t):Math.log(t+Math.sqrt(t*t+1)):t}r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:o})},"543b":function(t,e,n){"use strict";t.exports=n("6c30")},"54a8":function(t,e,n){"use strict";var r=n("5ca1"),i=n("79e5"),o=n("bef9"),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},"54a9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CAM",{enumerable:!0,get:function(){return r.default}});var r=i(n("2405"));function i(t){return t&&t.__esModule?t:{default:t}}},"54f6":function(t,e,n){"use strict";t.exports=s;var r=n("5c8f"),i=n("62d6"),o=n("f962"),a={dtype:"double"};function s(){var t,e,n,s,u,c,l,p,h,f;if(s=r({},a),0===arguments.length)throw new Error("Array of ndarrays to concatenate must not be empty");if(Array.isArray(arguments[0])?(n=arguments[0],r(s,arguments[1]||{})):2===arguments.length&&(n=arguments[1],t=arguments[0],r(s,arguments[2]||{})),0===n.length)throw new Error("Array of ndarrays to concatenate must not be empty");for(u=0;u<n.length;u++)if(l){if(n[u].dimension!==l.length)throw new Error("all arrays must have the same dimensionality");for(c=1;c<n[u].shape.length;c++)if(n[u].shape[c]!==l[c])throw new Error("last n-1 dimensions of concatenated rows must have the same size");l[0]+=n[u].shape[0]}else l=n[u].shape.slice(0);if(t){if(l[0]!==t.shape[0])throw new Error("first dimension of output array must match the total number of concatenated rows")}else t=o.zeros(l,s.dtype);for(c=0,p=0;c<n.length;c++)e=n[c],h=e.shape[0],f=t.lo(p).hi(h),i.assign(f,e),p+=h;return t}},"551c":function(t,e,n){"use strict";var r,i,o,a,s=n("2d00"),u=n("7726"),c=n("9b43"),l=n("23c6"),p=n("5ca1"),h=n("d3f4"),f=n("d8e8"),d=n("f605"),g=n("4a59"),m=n("ebd6"),v=n("1991").set,y=n("8079")(),_=n("a5b8"),x=n("9c80"),b=n("a25f"),w=n("bcaa"),S="Promise",T=u.TypeError,P=u.process,C=P&&P.versions,M=C&&C.v8||"",A=u[S],F="process"==l(P),k=function(){},O=i=_.f,E=!!function(){try{var t=A.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(k,k)};return(F||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e&&0!==M.indexOf("6.6")&&-1===b.indexOf("Chrome/66")}catch(r){}}(),j=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;y(function(){var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a,s=i?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(i||(2==t._h&&L(t),t._h=1),!0===s?n=r:(l&&l.enter(),n=s(r),l&&(l.exit(),a=!0)),n===e.promise?c(T("Promise-chain cycle")):(o=j(n))?o.call(n,u,c):u(n)):c(r)}catch(p){l&&!a&&l.exit(),c(p)}};while(n.length>o)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&I(t)})}},I=function(t){v.call(u,function(){var e,n,r,i=t._v,o=R(t);if(o&&(e=x(function(){F?P.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),t._h=F||R(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},L=function(t){v.call(u,function(){var e;F?P.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},U=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},z=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw T("Promise can't be resolved itself");(e=j(t))?y(function(){var r={_w:n,_d:!1};try{e.call(t,c(z,r,1),c(U,r,1))}catch(i){U.call(r,i)}}):(n._v=t,n._s=1,D(n,!1))}catch(r){U.call({_w:n,_d:!1},r)}}};E||(A=function(t){d(this,A,S,"_h"),f(t),r.call(this);try{t(c(z,this,1),c(U,this,1))}catch(e){U.call(this,e)}},r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("dcbc")(A.prototype,{then:function(t,e){var n=O(m(this,A));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=F?P.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=c(z,t,1),this.reject=c(U,t,1)},_.f=O=function(t){return t===A||t===a?new o(t):i(t)}),p(p.G+p.W+p.F*!E,{Promise:A}),n("7f20")(A,S),n("7a56")(S),a=n("8378")[S],p(p.S+p.F*!E,S,{reject:function(t){var e=O(this),n=e.reject;return n(t),e.promise}}),p(p.S+p.F*(s||!E),S,{resolve:function(t){return w(s&&this===a?A:this,t)}}),p(p.S+p.F*!(E&&n("5cc5")(function(t){A.all(t)["catch"](k)})),S,{all:function(t){var e=this,n=O(e),r=n.resolve,i=n.reject,o=x(function(){var n=[],o=0,a=1;g(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=O(e),r=n.reject,i=x(function(){g(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"55a3":function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},"55dd":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d8e8"),o=n("4bf8"),a=n("79e5"),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n("2f21")(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),i(t))}})},5695:function(t,e,n){var r=n("5ca1"),i=n("77f1"),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){var e,n=[],r=arguments.length,a=0;while(r>a){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},"570a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("e7fa")),i=u(n("d3b1")),o=n("d966"),a=u(n("f93b")),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}const c="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D input1;\nuniform sampler2D input2;\nuniform int rows;\nuniform int cols;\nuniform int dotAxis1;\nuniform int dotAxis2;\nuniform int commonDim;\nuniform bool normalize;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(cols) * outTex.x);\n  int out_y = int(float(rows) * outTex.y);\n\n  float sum = 0.;\n  float a = 0.;\n  float b = 0.;\n  float norm1 = 0.;\n  float norm2 = 0.;\n\n  for (int i = 0; i < commonDim; ++i) {\n    if (dotAxis1 == 0 && dotAxis2 == 0) {\n      a = texelFetch(input1, ivec2(out_y, i), 0).r;\n      b = texelFetch(input2, ivec2(out_x, i), 0).r;\n    } else if (dotAxis1 == 1 && dotAxis2 == 1) {\n      a = texelFetch(input1, ivec2(i, out_y), 0).r;\n      b = texelFetch(input2, ivec2(i, out_x), 0).r;\n    }\n\n    sum += a * b;\n\n    if (normalize) {\n      norm1 += a * a;\n      norm2 += b * b;\n    }\n  }\n\n  if (normalize) {\n    sum /= sqrt(norm1) * sqrt(norm2);\n  }\n\n  outColor = vec4(sum);\n}\n";class l extends r.default{constructor(t={}){super(t),this.layerClass="Dot",this.mode="dot";const{axes:e=-1,normalize:n=!1}=t;Array.isArray(e)?this.dotAxes=[e[0]<=0?e[0]:e[0]-1,e[1]<=0?e[1]:e[1]-1]:this.dotAxes=[e<=0?e:e-1,e<=0?e:e-1],this.normalize=n,this.gpu&&(this.mergeProgram=o.webgl2.compileProgram(c))}_calcOutputShape(t){let e=t[0].slice(),n=t[1].slice();e.splice(this.dotAxes[0],1),n.splice(this.dotAxes[1],1),this.outputShape=e.concat(n),1===this.outputShape.length&&this.outputShape.push(1)}_callCPU(t){if(this._calcOutputShape([t[0].tensor.shape,t[1].tensor.shape]),this.output=new i.default([],this.outputShape),2===t[0].tensor.shape.length&&2===t[1].tensor.shape.length){if(0===this.dotAxes[0]&&0===this.dotAxes[1]){if(this.normalize){for(let e=0;e<t[0].tensor.shape[1];e++)s.default.divseq(t[0].tensor.pick(null,e),s.default.norm2(t[0].tensor.pick(null,e)));for(let e=0;e<t[1].tensor.shape[1];e++)s.default.divseq(t[1].tensor.pick(null,e),s.default.norm2(t[1].tensor.pick(null,e)))}(0,a.default)(this.output.tensor,t[0].tensor.transpose(1,0),t[1].tensor)}else if(1===this.dotAxes[0]&&1===this.dotAxes[1]){if(this.normalize){for(let e=0;e<t[0].tensor.shape[0];e++)s.default.divseq(t[0].tensor.pick(e,null),s.default.norm2(t[0].tensor.pick(e,null)));for(let e=0;e<t[1].tensor.shape[0];e++)s.default.divseq(t[1].tensor.pick(e,null),s.default.norm2(t[1].tensor.pick(e,null)))}(0,a.default)(this.output.tensor,t[0].tensor,t[1].tensor.transpose(1,0))}}else this.throwError("dot mode for 3+ dim tensors not yet implemented.")}_callGPU(t){t.forEach(t=>{t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float"})}),this._calcOutputShape([t[0].glTextureShape,t[1].glTextureShape]),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"}));const e=t[0].glTextureShape[this.dotAxes[0]];o.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:[{input:t[0],name:"input1"},{input:t[1],name:"input2"}],uniforms:[{value:this.output.glTextureShape[0],type:"int",name:"rows"},{value:this.output.glTextureShape[1],type:"int",name:"cols"},{value:this.dotAxes[0],type:"int",name:"dotAxis1"},{value:this.dotAxes[1],type:"int",name:"dotAxis2"},{value:e,type:"int",name:"commonDim"},{value:+this.normalize,type:"bool",name:"normalize"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=l},"57a5":function(t,e,n){var r=n("91e9"),i=r(Object.keys,Object);t.exports=i},"57c3":function(t,e,n){t.exports=n("a5ac")},"57e7":function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n("2f21")(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},"57f0":function(t,e,n){var r=n("d3f4");n("5eda")("isSealed",function(t){return function(e){return!r(e)||!!t&&t(e)}})},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},"585c":function(t,e,n){"use strict";var r=n("3b33");function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},"58b2":function(t,e,n){var r=n("5ca1");r(r.S+r.F*!n("9e1e"),"Object",{defineProperties:n("1495")})},"58c9":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},"5a3a":function(t,e,n){var r=n("1cba"),i=r();t.exports=i},"5c69":function(t,e,n){var r=n("087d"),i=n("0621");function o(t,e,n,a,s){var u=-1,c=t.length;n||(n=i),s||(s=[]);while(++u<c){var l=t[u];e>0&&n(l)?e>1?o(l,e-1,n,a,s):r(s,l):a||(s[s.length]=l)}return s}t.exports=o},"5c88":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=i(n("62d6"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t){if(1===t.tensor.shape.length){const e=r.default.sup(t.tensor);r.default.subseq(t.tensor,e),r.default.expeq(t.tensor);const n=r.default.sum(t.tensor);r.default.divseq(t.tensor,n)}else{if(2!==t.tensor.shape.length)throw new Error(`[activations.softmax] tensor shape ${t.tensor.shape} not supported.`);for(let e=0;e<t.tensor.shape[0];e++){const n=r.default.sup(t.tensor.pick(e,null));r.default.subseq(t.tensor.pick(e,null),n),r.default.expeq(t.tensor.pick(e,null));const i=r.default.sum(t.tensor.pick(e,null));r.default.divseq(t.tensor.pick(e,null),i)}}}},"5c8f":function(t,e){function n(t,e){if(!e||"object"!==typeof e)return t;var n=Object.keys(e),r=n.length;while(r--)t[n[r]]=e[n[r]];return t}t.exports=n},"5ca0":function(t,e,n){var r=n("badf"),i=n("30c9"),o=n("ec69");function a(t){return function(e,n,a){var s=Object(e);if(!i(e)){var u=r(n,3);e=o(e),n=function(t){return u(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[u?e[c]:c]:void 0}}t.exports=a},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),s=n("9b43"),u="prototype",c=function(t,e,n){var l,p,h,f,d=t&c.F,g=t&c.G,m=t&c.S,v=t&c.P,y=t&c.B,_=g?r:m?r[e]||(r[e]={}):(r[e]||{})[u],x=g?i:i[e]||(i[e]={}),b=x[u]||(x[u]={});for(l in g&&(n=e),n)p=!d&&_&&void 0!==_[l],h=(p?_:n)[l],f=y&&p?s(h,r):v&&"function"==typeof h?s(Function.call,h):h,_&&a(_,l,h,t&c.U),x[l]!=h&&o(x,l,f),v&&b[l]!=h&&(b[l]=h)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5cc5":function(t,e,n){var r=n("2b4c")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(a){}return n}},"5d40":function(t,e,n){n("28e4")("WeakMap")},"5d90":function(t,e,n){n("28e4")("WeakSet")},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"5df2":function(t,e,n){var r=n("5ca1"),i=n("d752");r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},"5df3":function(t,e,n){"use strict";var r=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},"5e2e":function(t,e,n){var r=n("28c9"),i=n("69d5"),o=n("b4c0"),a=n("fba5"),s=n("67ca");function u(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"5e9e":function(t,e,n){var r=n("2b10"),i=n("4b17");function o(t,e,n){return t&&t.length?(e=n||void 0===e?1:i(e),r(t,0,e<0?0:e)):[]}t.exports=o},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"5f2c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Dense",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Activation",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"Dropout",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"SpatialDropout1D",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"SpatialDropout2D",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"SpatialDropout3D",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"Flatten",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Reshape",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Permute",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"RepeatVector",{enumerable:!0,get:function(){return h.default}});var r=f(n("ccee")),i=f(n("1e06")),o=f(n("6377")),a=f(n("d2cf")),s=f(n("fcbe")),u=f(n("ebfb")),c=f(n("5fbe")),l=f(n("37d8")),p=f(n("35f0")),h=f(n("c445"));function f(t){return t&&t.__esModule?t:{default:t}}},"5f98":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=f(n("891c")),i=f(n("d3b1")),o=h(n("3e72")),a=n("d966"),s=f(n("c0de")),u=h(n("c022")),c=f(n("62d6")),l=f(n("f93b")),p=h(n("70de"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}const d="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",g="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(indexMap, 0);\n  int out_x = int(float(outputSize[0]) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    int fragmentIndex = int(floor(float(rowIndex) / float(inputSize[1])));\n    rowIndex = int(mod(float(rowIndex), float(inputSize[1])));\n    colIndex = fragmentIndex * inputCols + colIndex;\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",m="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n";class v extends r.default{constructor(t={}){super(t),this.layerClass="Conv2D";const{filters:e=1,kernel_size:n=[3,3],strides:r=[1,1],padding:i="valid",data_format:s="channels_last",dilation_rate:u=[1,1],activation:c="linear",use_bias:l=!0}=t;Array.isArray(n)?this.kernelShape=[e,...n]:this.kernelShape=[e,n,n],Array.isArray(r)?this.strides=r:this.strides=[r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===s||"channels_first"===s?this.dataFormat=s:this.throwError("Only channels_last and channels_first data formats are allowed."),Array.isArray(u)?this.dilationRate=u:this.dilationRate=[u,u],1===this.dilationRate[0]&&1===this.dilationRate[1]||1===this.strides[0]&&1===this.strides[1]||this.throwError("Incompatible combination of dilation_rate with strides."),this.activation=c,this.activationFunc=o[c],this.useBias=l,this.params=this.useBias?["kernel","bias"]:["kernel"],this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+=this.dilationRate.some(t=>t>1)?`, ${this.dilationRate.join("x")} dilation`:"",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.mapInputProgram=a.webgl2.compileProgram(d),this.mapInputFragmentsProgram=a.webgl2.compileProgram(g),this.matMulProgram=a.webgl2.compileProgram(m),this.activationProgram=a.webgl2.compileProgram(p[this.activation]))}setWeights(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,1,0)),super.setWeights(t,!1),this._w2row(),this.gpu&&(this.weights["kernel"]=this.wRowsMat,this.weights["kernel"].createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights["bias"].createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const e=t[0],n=t[1],[r,i,o]=this.kernelShape,a=i+(i-1)*(this.dilationRate[0]-1),s=o+(o-1)*(this.dilationRate[1]-1),u="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-a+this.strides[0])/this.strides[0]),c="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-s+this.strides[1])/this.strides[1]),l=r,p="same"===this.padding?Math.max(0,Math.floor((u-1)*this.strides[0]+a-e)):0,h="same"===this.padding?Math.max(0,Math.floor((c-1)*this.strides[1]+s-n)):0,f=Math.floor(p/2),d=p-f,g=Math.floor(h/2),m=h-g;this.outputShape=[u,c,l],this.inputPadding=[f,d,g,m]}_padInput(t,e=0){if("same"===this.padding){const[n,r,o]=t.tensor.shape,[a,s,u,l]=this.inputPadding,p=n+a+s,h=r+u+l,f=new i.default([],[p,h,o]);return 0!==e&&c.default.assigns(f.tensor,e),c.default.assign(f.tensor.hi(n+a,r+u,o).lo(a,u,0),t.tensor),f}return t}_im2col(t){const[e,n,r]=t.tensor.shape,o=this.kernelShape[1],a=this.kernelShape[2],s=this.outputShape[0],u=this.outputShape[1],l=s*u,p=o*a*r,h=o+(o-1)*(this.dilationRate[0]-1),f=a+(a-1)*(this.dilationRate[1]-1);if(this.imColsMat||(this.imColsMat=new i.default([],[l,p])),1===h&&1===f&&1===this.strides[0]&&1===this.strides[1])return this.imColsMat.replaceTensorData(t.tensor.data),this.imColsMat;const d=new i.default([],[o,a,r]);let g=0;for(let i=0,m=e-h;i<=m;i+=this.strides[0])for(let e=0,o=n-f;e<=o;e+=this.strides[1])c.default.assign(d.tensor,t.tensor.hi(i+h,e+f,r).lo(i,e,0).step(this.dilationRate[0],this.dilationRate[1],1)),this.imColsMat.tensor.data.set(d.tensor.data,g),g+=p;return this.imColsMat}_w2row(){const t=this.weights["kernel"].tensor.shape[2],[e,n,r]=this.kernelShape,o=n*r*t;this.wRowsMat=new i.default([],[o,e]);const a=new i.default([],[n,r,t]),s=new i.default([],[o]);for(let i=0;i<e;i++)c.default.assign(a.tensor,this.weights["kernel"].tensor.pick(null,null,null,i)),s.replaceTensorData(a.tensor.data),c.default.assign(this.wRowsMat.tensor.pick(null,i),s.tensor);return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t);const e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],o=n*r,a=new i.default([],[o,e]);if(this.useBias)for(let i=0;i<e;i++)c.default.assigns(a.tensor.pick(null,i),this.weights["bias"].tensor.get(i));(0,l.default)(a.tensor,this.imColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new i.default([],this.outputShape);let s=new i.default([],[n*r]),u=new i.default([],[n,r]);for(let i=0;i<e;i++)c.default.assign(s.tensor,a.tensor.pick(null,i)),u.replaceTensorData(s.tensor.data),c.default.assign(this.output.tensor.pick(null,null,i),u.tensor);this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t){if(this.indexMap)return;let[e,n,r]=this.inputShape,o=new i.default(t.data,t.shape,{type:Int32Array});if("same"===this.padding){const[t,r,i,a]=this.inputPadding;e=e+t+r,n=n+i+a;const s=-1;o=this._padInput(o,s)}const a=this.kernelShape[1],s=this.kernelShape[2],u=this.outputShape[0],l=this.outputShape[1],p=u*l,h=a*s*r,f=a+(a-1)*(this.dilationRate[0]-1),d=s+(s-1)*(this.dilationRate[1]-1);this.indexMap=new i.default([],[p,h],{type:Int32Array});const g=new i.default([],[a,s,r]);let m=0;for(let i=0,v=e-f;i<=v;i+=this.strides[0])for(let t=0,e=n-d;t<=e;t+=this.strides[1])c.default.assign(g.tensor,o.tensor.hi(i+f,t+d,r).lo(i,t,0).step(this.dilationRate[0],this.dilationRate[1],1)),this.indexMap.tensor.data.set(g.tensor.data,m),m+=h;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){let e;if(t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape),this._createIndexMap(t.indicesForReshaped),e=[this.indexMap.glTextureShape[0],this.weights["kernel"].glTextureShape[1]]):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._im2col(t),this.imColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),e=[this.imColsMat.glTextureShape[0],this.weights["kernel"].glTextureShape[1]]),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new i.default([],e),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),this.output||(this.output=new i.default([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),t.is2DReshaped||t.is2DSquareReshaped){const e=Boolean(t.glTextureFragments);if(e&&t.convert2DRowFragmentedGLTextureToColStack(),!this.convProgram){const n=(0,s.default)("conv2d",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,t.glTextureFragmentShape?t.glTextureFragmentShape:t.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,e);this.convProgram=a.webgl2.compileProgram(n)}a.webgl2.runProgram({program:this.convProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"},{input:this.weights["kernel"],name:"kernel"},...this.useBias?[{input:this.weights["bias"],name:"bias"}]:[]],supportsTextureFragments:!0}),e&&t.removeGLTextureFragmentsAsColStack()}else{const t=[{input:this.imColsMat,name:"A"},{input:this.weights["kernel"],name:"B"}];this.useBias&&t.push({input:this.weights["bias"],name:"C"}),a.webgl2.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:t,uniforms:[{value:this.useBias?1:0,type:"bool",name:"addC"}],supportsTextureFragments:!0})}"linear"!==this.activation&&a.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(2,0,1)))}}e.default=v},"5fbe":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("891c")),i=a(n("d3b1")),o=n("d966");function a(t){return t&&t.__esModule?t:{default:t}}const s="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int outputSize;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(outputSize) * outTex.x);\n  int out_y = 0;\n\n  int i = int(floor(float(out_x) / float(inputCols)));\n  int j = int(mod(float(out_x), float(inputCols)));\n  outColor = vec4(texelFetch(x, ivec2(j, i), 0).r);\n}\n",u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int outputSize;\nuniform int inputRows;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(outputSize) * outTex.x);\n  int out_y = 0;\n\n  int rowIndex = int(mod(floor(float(out_x) / float(inputCols)), float(inputRows)));\n  int colIndex = int(mod(float(out_x), float(inputCols)));\n  int fragmentIndex = int(floor(float(out_x) / (float(inputRows) * float(inputCols))));\n  colIndex += fragmentIndex * inputCols;\n  outColor = vec4(texelFetch(x, ivec2(colIndex, rowIndex), 0).r);\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="Flatten",this.gpu&&(this.flattenProgram=o.webgl2.compileProgram(s),this.flattenFragmentsProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){t.tensor.shape.length<=1?this.output=t:(this.output=new i.default([],[t.tensor.shape.reduce((t,e)=>t*e,1)]),this.output.replaceTensorData(t.tensor.data))}_callGPU(t){t.glTexture||t.glTextureFragments||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"}))),this.output||(this.output=new i.default([],[t.glTextureShape.reduce((t,e)=>t*e,1)]),this.output.createGLTexture({type:"2d",format:"float"})),t.glTextureFragments?(t.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.flattenFragmentsProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"outputSize"},{value:t.glTextureShape[0],type:"int",name:"inputRows"},{value:t.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),t.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.flattenProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.output.glTextureShape[1],type:"int",name:"outputSize"},{value:t.glTextureShape[1],type:"int",name:"inputCols"}],supportsTextureFragments:!0}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},6044:function(t,e,n){var r=n("0b07"),i=r(Object,"create");t.exports=i},6095:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(4);r(r.P+r.F*!n("2f21")([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},6197:function(t,e,n){"use strict";function r(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"623a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(n("d7e6"));function i(t){return t&&t.__esModule?t:{default:t}}const o=(0,r.default)({args:["array"],body:function(t){t=Math.log(Math.exp(t)+1)}});function a(t){o(t.tensor)}},6266:function(t,e,n){"use strict";function r(){console.error("SBMV (symmetric banded matrix vector multiply) not yet implemented")}t.exports=r},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62d6":function(t,e,n){"use strict";var r=n("40ce"),i={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return i;for(var e=0;e<t.args.length;++e){var n=t.args[e];t.args[e]=0===e?{name:n,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){return r({args:t.args,pre:o(t.pre),body:o(t.body),post:o(t.proc),funcName:t.funcName})}function s(t){for(var e=[],n=0;n<t.args.length;++n)e.push("a"+n);var r=new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""));return r(a(t))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var t in u){var n=u[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:t+"seq"})}})();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var t in c){var n=c[t];e[t]=s({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:t}),e[t+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:t+"eq"})}})();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var t in l){var n=l[t];e[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:t}),e[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:t+"s"}),e[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:t+"seq"})}})();var p=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var t=0;t<p.length;++t){var n=p[t];e[n]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),e[n+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}})();var h=["max","min","atan2","pow"];(function(){for(var t=0;t<h.length;++t){var n=h[t];e[n]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),e[n+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),e[n+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}})();var f=["atan2","pow"];(function(){for(var t=0;t<f.length;++t){var n=f[t];e[n+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),e[n+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),e[n+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),e[n+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}})(),e.any=r({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6377:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("891c"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="Dropout";const{rate:e=.5}=t;this.description=`${e}`,this.rate=Math.min(Math.max(0,e),1)}call(t){return this.output=t,this.output}}e.default=o},"63a6":function(t,e,n){"use strict";function r(t,e,n){let r;return r=n?`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D featureMaps;\nuniform sampler2D weights;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  int featureMapsRow = out_x + ${t[0]} * out_y;\n\n  float sum = 0.;\n  for (int k = 0; k < ${e}; ++k) {\n    float f = texelFetch(featureMaps, ivec2(k, featureMapsRow), 0).r;\n    float w = texelFetch(weights, ivec2(k, 0), 0).r;\n    sum += f * w;\n  }\n\n  outColor = vec4(max(sum, 0.0));\n}  \n`:`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D featureMaps;\nuniform sampler2D weights;\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${t[0]}) * outTex.y);\n  int out_x = int(float(${t[1]}) * outTex.x);\n\n  float sum = 0.;\n  for (int k = 0; k < ${e}; ++k) {\n    float f = texelFetch(featureMaps, ivec2(k, out_y), 0).r;\n    float w = texelFetch(weights, ivec2(out_x, k), 0).r;\n    sum += f * w;\n  }\n\n  outColor = vec4(max(sum, 0.0));\n}  \n`,r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"63d9":function(t,e,n){n("ec30")("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},"63ea":function(t,e,n){var r=n("c05f");function i(t,e){return r(t,e)}t.exports=i},6428:function(t,e,n){var r=n("b4b0"),i=1/0,o=1.7976931348623157e308;function a(t){if(!t)return 0===t?t:0;if(t=r(t),t===i||t===-i){var e=t<0?-1:1;return e*o}return t===t?t:0}t.exports=a},"642a":function(t,e,n){var r=n("966f"),i=n("3bb4"),o=n("20ec");function a(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}t.exports=a},"643e":function(t,e,n){"use strict";var r=n("dcbc"),i=n("67ab").getWeak,o=n("cb7c"),a=n("d3f4"),s=n("f605"),u=n("4a59"),c=n("0a49"),l=n("69a8"),p=n("b39a"),h=c(5),f=c(6),d=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return h(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,o){var c=t(function(t,r){s(t,c,e,"_i"),t._t=e,t._i=d++,t._l=void 0,void 0!=r&&u(r,n,t[o],t)});return r(c.prototype,{delete:function(t){if(!a(t))return!1;var n=i(t);return!0===n?g(p(this,e))["delete"](t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=i(t);return!0===n?g(p(this,e)).has(t):n&&l(n,this._i)}}),c},def:function(t,e,n){var r=i(o(e),!0);return!0===r?g(t).set(e,n):r[t._i]=n,t},ufstore:g}},"64d5":function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("6a99"),a=n("38fd"),s=n("11e9").f;n("9e1e")&&r(r.P+n("c5b4"),"Object",{__lookupSetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.set}while(n=a(n))}})},"64db":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var r=i(n("5a3a"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){const n=`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n  \n  outColor = vec4((${(0,r.default)(t).map(t=>`texelFetch(inputs[${t}], ivec2(out_x, out_y), 0).r`).join(" + ")}) / float(${t}));\n}\n`;return n}},"656b":function(t,e,n){var r=n("e2e4"),i=n("f4d6");function o(t,e){e=r(e,t);var n=0,o=e.length;while(null!=t&&n<o)t=t[i(e[n++])];return n&&n==o?t:void 0}t.exports=o},"65e3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="ZeroPadding1D";const{padding:e=[1,1]}=t;Array.isArray(e)?this.padding=e:this.padding=[e,e],this.description=`${JSON.stringify(this.padding)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0]+this.padding[1],this.inputShape[1]],this.output=new i.default([],this.outputShape),a.default.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0],this.inputShape[1]).lo(this.padding[0],0),t.tensor)}_createIndexMap(){if(this.indexMap)return;const t=new i.default([],this.inputShape,{type:Int32Array}),e=new i.default([],this.inputShape,{type:Int32Array}),n=new i.default([],this.inputShape,{type:Int32Array});for(let i=0;i<this.inputShape[0];i++)a.default.assigns(e.tensor.pick(i,null),i);for(let i=0;i<this.inputShape[1];i++)a.default.assigns(n.tensor.pick(null,i),i);a.default.muls(t.tensor,e.tensor,this.inputShape[1]),a.default.addeq(t.tensor,n.tensor),this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r=[this.padding[0],0],o=[this.inputShape[0]+this.padding[0],this.inputShape[1]];a.default.assigns(this.indexMap.tensor,-1),a.default.assign(this.indexMap.tensor.hi(...o).lo(...r),t.tensor),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0]+this.padding[1],this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},"662a":function(t,e){function n(t,e){var n=-1,r=null==t?0:t.length;while(++n<r)if(!e(t[n],n,t))return!1;return!0}t.exports=n},"66c8":function(t,e,n){var r=n("d3f4");n("5eda")("isFrozen",function(t){return function(e){return!r(e)||!!t&&t(e)}})},"66f9":function(t,e,n){n("8a81"),n("8478"),n("1c01"),n("58b2"),n("9986"),n("e4f7"),n("456d"),n("25db"),n("0d6d"),n("cf6a"),n("9aea"),n("66c8"),n("57f0"),n("165b"),n("f751"),n("db97"),n("fd24"),n("06db"),n("d92a"),n("7f7f"),n("217b"),n("18d0"),n("b72c"),n("c5f6"),n("036c"),n("54a8"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("7872"),n("049f"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("5695"),n("788d"),n("4f37"),n("5df3"),n("a032"),n("aef6"),n("2fdb"),n("14b9"),n("f559"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("d263"),n("6c37"),n("9ec8"),n("d0b0"),n("b54a"),n("f386"),n("1448"),n("673e"),n("242a"),n("78ce"),n("0298"),n("8ea5"),n("87b3"),n("c8ce"),n("2caf"),n("1c4c"),n("e804"),n("373f"),n("23bf"),n("55dd"),n("f3e2"),n("6d67"),n("d25f"),n("759f"),n("6095"),n("0cd8"),n("48f8"),n("57e7"),n("9865"),n("744f"),n("6c7b"),n("7514"),n("20d6"),n("d04f"),n("cadf"),n("3b2b"),n("b0c5"),n("6b54"),n("3846"),n("4917"),n("a481"),n("386d"),n("28a5"),n("551c"),n("f400"),n("4f7f"),n("10ad"),n("c02b"),n("c66f"),n("262f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("7ff6"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("6762"),n("e956"),n("71f1"),n("3535"),n("f576"),n("ed50"),n("23be"),n("7c0e"),n("988d"),n("ac4d"),n("c7ca"),n("8e6e"),n("8615"),n("ffc1"),n("4504"),n("fee7"),n("b9a1"),n("64d5"),n("4704"),n("db9a"),n("729b"),n("99c5"),n("764f"),n("bdd1"),n("416c"),n("dd8a"),n("5d40"),n("5d90"),n("0c36"),n("a234"),n("4276"),n("09e0"),n("0c00"),n("2748"),n("1f91"),n("9c00"),n("2f78"),n("b4c2"),n("1f18"),n("692b"),n("c775"),n("8a5c"),n("ed7e"),n("097d"),n("a9cc"),n("e3d0"),n("ceaf"),n("e394"),n("b80b"),n("06a7"),n("7cdff"),n("896f"),n("ec39"),n("3a9c"),n("0d25"),n("37b5"),n("4795"),n("130f"),n("ac6a"),t.exports=n("8378")},"673e":function(t,e,n){"use strict";n("386b")("sub",function(t){return function(){return t(this,"sub","","")}})},6747:function(t,e){var n=Array.isArray;t.exports=n},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"67ab":function(t,e,n){var r=n("ca5a")("meta"),i=n("d3f4"),o=n("69a8"),a=n("86cc").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("79e5")(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},p=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},f=function(t){return c&&d.NEED&&u(t)&&!o(t,r)&&l(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:p,getWeak:h,onFreeze:f}},"67ca":function(t,e,n){var r=n("cb5a");function i(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}t.exports=i},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},6897:function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},"692b":function(t,e,n){var r=n("5ca1"),i=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*i}})},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"69d5":function(t,e,n){var r=n("cb5a"),i=Array.prototype,o=i.splice;function a(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():o.call(e,n,1),--this.size,!0}t.exports=a},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6aa2":function(t,e,n){n("ec30")("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),a="toString",s=/./[a],u=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):s.name!=a&&u(function(){return s.call(this)})},"6c1a":function(t,e,n){var r=n("5ca1"),i=n("2d5c"),o=Math.exp;r(r.S+r.F*n("79e5")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},"6c30":function(t,e,n){"use strict";var r=e;function i(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=n("0c83"),r.BufferWriter=n("dc6f"),r.Reader=n("2110"),r.BufferReader=n("9564"),r.util=n("e938"),r.rpc=n("01b1"),r.roots=n("064a"),r.configure=i,r.Writer._configure(r.BufferWriter),i()},"6c37":function(t,e,n){"use strict";n("386b")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},"6c7b":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{fill:n("36bd")}),n("9c6c")("fill")},"6c92":function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.data,o=e.data,a=t.stride[0],s=e.stride[0],u=t.offset,c=e.offset;for(n=t.shape[0]-1;n>=0;n--,u+=a,c+=s)r=i[u],i[u]=o[c],o[c]=r}},"6d08":function(t,e,n){(function(e){(function(){var n,r,i,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},r=e.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},o=n(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-i},i=Date.now()):(t.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n("f28c"))},"6d67":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(1);r(r.P+r.F*!n("2f21")([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},"6e75":function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;var n=0;while(--e%4>1&&"="===t.charAt(e))++n;return Math.ceil(3*t.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(t,e,n){var r,o=null,a=[],s=0,u=0;while(e<n){var c=t[e++];switch(u){case 0:a[s++]=i[c>>2],r=(3&c)<<4,u=1;break;case 1:a[s++]=i[r|c>>4],r=(15&c)<<2,u=2;break;case 2:a[s++]=i[r|c>>6],a[s++]=i[63&c],u=0;break}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=i[r],a[s++]=61,1===u&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var s="invalid encoding";r.decode=function(t,e,n){for(var r,i=n,a=0,u=0;u<t.length;){var c=t.charCodeAt(u++);if(61===c&&a>1)break;if(void 0===(c=o[c]))throw Error(s);switch(a){case 0:r=c,a=1;break;case 1:e[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:e[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:e[n++]=(3&r)<<6|c,a=0;break}}if(1===a)throw Error(s);return n-i},r.test=function(t){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(t)}},"6fcd":function(t,e,n){var r=n("50d8"),i=n("d370"),o=n("6747"),a=n("0d24"),s=n("c098"),u=n("73ac"),c=Object.prototype,l=c.hasOwnProperty;function p(t,e){var n=o(t),c=!n&&i(t),p=!n&&!c&&a(t),h=!n&&!c&&!p&&u(t),f=n||c||p||h,d=f?r(t.length,String):[],g=d.length;for(var m in t)!e&&!l.call(t,m)||f&&("length"==m||p&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||d.push(m);return d}t.exports=p},"70de":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linear=e.hard_sigmoid=e.sigmoid=e.tanh=e.relu=e.softsign=e.softplus=e.selu=e.elu=e.softmax=void 0;const r="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float maxval = 0.0;\n  for (int i = 0; i < int(size[0]); ++i) {\n    float val = texelFetch(x, ivec2(i, out_y), 0).r;\n    if (i == 0 || val > maxval) {\n      maxval = val;\n    }\n  }\n\n  float sum = 0.0;\n  for (int i = 0; i < int(size[0]); ++i) {\n    float val = texelFetch(x, ivec2(i, out_y), 0).r;\n    sum += exp(val - maxval);\n  }\n\n  outColor = exp(texture(x, vec2(outTex.x, outTex.y)) - maxval) / sum;\n}\n";e.softmax=r;const i="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  float alpha = 1.0;\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0);\n}\n";e.elu=i;const o="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  float alpha = 1.6732632423543772848170429916717;\n  float scale = 1.0507009873554804934193349852946;\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = scale * (max(v, 0.0) + alpha * (exp(min(v, 0.0)) - 1.0));\n}\n";e.selu=o;const a="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = log(1.0 + exp(texture(x, vec2(outTex.x, outTex.y))));\n}\n";e.softplus=a;const s="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  v /= 1.0 + abs(v);\n  outColor = v;\n}\n";e.softsign=s;const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0);\n}\n";e.relu=u;const c="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = tanh(v);\n}\n";e.tanh=c;const l="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = 1.0 / (1.0 + exp(-1.0 * texture(x, vec2(outTex.x, outTex.y))));\n}\n";e.sigmoid=l;const p="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  v = v * 0.2 + 0.5;\n  v = max(v, 0.0);\n  v = min(v, 1.0);\n  outColor = v;\n}\n";e.hard_sigmoid=p;const h="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(x, vec2(outTex.x, outTex.y));\n}\n";e.linear=h},"71b6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="UpSampling2D";const{size:e=[2,2],data_format:n="channels_last"}=t;Array.isArray(e)?this.size=e:this.size=[e,e],this.dataFormat=n,this.description=`size ${this.size.join("x")}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]],this.output=new i.default([],this.outputShape);for(let e=0;e<this.size[0];e++)for(let n=0;n<this.size[1];n++)a.default.assign(this.output.tensor.lo(e,n,0).step(this.size[0],this.size[1],1),t.tensor);"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(2,0,1),this.output.tensor=this.output.tensor.transpose(2,0,1))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});for(let r=0;r<this.size[0];r++)for(let t=0;t<this.size[1];t++){const e="channels_first"===this.dataFormat?[0,r,t]:[r,t,0],i="channels_first"===this.dataFormat?[1,this.size[0],this.size[1]]:[this.size[0],this.size[1],1];a.default.assign(this.indexMap.tensor.lo(...e).step(...i),n.tensor)}e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]*this.size[0],this.inputShape[2]*this.size[1]]:[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}e.default=c},"71f1":function(t,e,n){"use strict";var r=n("5ca1"),i=n("c45f"),o=n("4bf8"),a=n("9def"),s=n("4588"),u=n("cd1c");r(r.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),r=u(e,0);return i(r,e,e,n,0,void 0===t?1:s(t)),r}}),n("9c6c")("flatten")},"729b":function(t,e,n){n("c6a1")("Map")},"72af":function(t,e,n){var r=n("99cd"),i=r();t.exports=i},"72f0":function(t,e){function n(t){return function(){return t}}t.exports=n},7333:function(t,e,n){"use strict";var r=n("9e1e"),i=n("0d58"),o=n("2621"),a=n("52a7"),s=n("4bf8"),u=n("626a"),c=Object.assign;t.exports=!c||n("79e5")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){var n=s(t),c=arguments.length,l=1,p=o.f,h=a.f;while(c>l){var f,d=u(arguments[l++]),g=p?i(d).concat(p(d)):i(d),m=g.length,v=0;while(m>v)f=g[v++],r&&!h.call(d,f)||(n[f]=d[f])}return n}:c},"73ac":function(t,e,n){var r=n("743f"),i=n("b047"),o=n("99d3"),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},"743f":function(t,e,n){var r=n("3729"),i=n("b218"),o=n("1310"),a="[object Arguments]",s="[object Array]",u="[object Boolean]",c="[object Date]",l="[object Error]",p="[object Function]",h="[object Map]",f="[object Number]",d="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",x="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",T="[object Int16Array]",P="[object Int32Array]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",A="[object Uint16Array]",F="[object Uint32Array]",k={};function O(t){return o(t)&&i(t.length)&&!!k[r(t)]}k[b]=k[w]=k[S]=k[T]=k[P]=k[C]=k[M]=k[A]=k[F]=!0,k[a]=k[s]=k[_]=k[u]=k[x]=k[c]=k[l]=k[p]=k[h]=k[f]=k[d]=k[g]=k[m]=k[v]=k[y]=!1,t.exports=O},"744f":function(t,e,n){var r=n("5ca1");r(r.P,"Array",{copyWithin:n("ba92")}),n("9c6c")("copyWithin")},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"759f":function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(3);r(r.P+r.F*!n("2f21")([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},"764f":function(t,e,n){n("c6a1")("WeakMap")},"76dd":function(t,e,n){var r=n("ce86");function i(t){return null==t?"":r(t)}t.exports=i},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77b3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("891c")),i=c(n("d3b1")),o=n("d966"),a=c(n("62d6")),s=u(n("3777"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}const l="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",p="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",h="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int t;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, t), 0).r);\n}\n",f="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D outputCopy;\nuniform sampler2D sliceOutput;\nuniform int t;\nuniform int timesteps;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(sliceOutput, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(timesteps) * outTex.y);\n\n  if (t == out_y) {\n    outColor = vec4(texelFetch(sliceOutput, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = texelFetch(outputCopy, ivec2(out_x, out_y), 0);\n  }\n}\n",d="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D outputCopy;\nuniform sampler2D sliceOutput;\nuniform isampler2D indexMap;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(outputCopy, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(textureSize(sliceOutput, 0)[0])));\n    int colIndex = int(mod(float(index), float(textureSize(sliceOutput, 0)[0])));\n    float val = texelFetch(sliceOutput, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = texelFetch(outputCopy, ivec2(out_x, out_y), 0);\n  }\n}\n";class g extends r.default{constructor(t={}){super(t),this.layerClass="TimeDistributed";const{layer:e}=t;e||this.throwError("wrapped layer is undefined.");const n=Object.assign({},e.config,{gpu:t.gpu});this.wrappedLayer=new s[e.class_name](n),this.wrappedLayer.outbound=[null],this.gpu&&(this.copyTextureProgram=o.webgl2.compileProgram(l),this.mapInputProgram=o.webgl2.compileProgram(p),this.selectSliceProgram=o.webgl2.compileProgram(h),this.copySliceOutputProgram=o.webgl2.compileProgram(f),this.mapSliceOutputProgram=o.webgl2.compileProgram(d))}setWeights(t){this.wrappedLayer.setWeights(t)}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=[...t.tensor.shape.slice(1)],n=new i.default([],e);a.default.assign(n.tensor,t.tensor.pick(0,...Array(e.length).fill(null)));let r=this.wrappedLayer.call(n);const o=r.tensor.shape.slice();this.output=new i.default([],[t.tensor.shape[0],...o]),a.default.assign(this.output.tensor.pick(0,...Array(o.length).fill(null)),r.tensor);for(let i=1,s=t.tensor.shape[0];i<s;i++)a.default.assign(n.tensor,t.tensor.pick(i,...Array(e.length).fill(null))),r=this.wrappedLayer.call(n),a.default.assign(this.output.tensor.pick(i,...Array(o.length).fill(null)),r.tensor)}_createIndexMap(t){if(this.indexMaps)return;const e=new i.default(t.data,t.shape,{type:Int32Array});this.indexMaps=[];const n=this.inputShape[0],r=this.inputShape.slice(1);for(let o=0;o<n;o++){const t=new i.default([],r,{type:Int32Array});a.default.assign(t.tensor,e.tensor.pick(o,...Array(r.length).fill(null))),t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"int"}),this.indexMaps.push(t)}}_createOutputIndexMap(t){if(this.outputIndexMaps)return;const e=new i.default(t.data,t.shape,{type:Int32Array});this.outputIndexMaps=[];const n=this.outputShape[0],r=this.outputShape.slice(1);for(let o=0;o<n;o++){const t=new i.default([],this.outputShape,{type:Int32Array});a.default.assigns(t.tensor,-1),a.default.assign(t.tensor.pick(o,...Array(r.length).fill(null)),e.tensor),t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"int"}),this.outputIndexMaps.push(t)}}_callGPU(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape,t.glTexture||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float"}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"}))),this.inputShape.length>2&&this._createIndexMap(t.indicesForReshaped);const e=this.inputShape[0],n=this.inputShape.slice(1);this.slice||(this.slice=new i.default([],n),n.length<=2?this.slice.createGLTexture({type:"2d",format:"float"}):(this.slice.reshapeTo2DSquare(),this.slice.createGLTexture({type:"2d",format:"float"}))),this.inputShape.length<=2?o.webgl2.runProgram({program:this.selectSliceProgram,output:this.slice,inputs:[{input:t,name:"x"}],uniforms:[{value:0,type:"int",name:"t"}]}):o.webgl2.runProgram({program:this.mapInputProgram,output:this.slice,inputs:[{input:t,name:"x"},{input:this.indexMaps[0],name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),this.wrappedLayer._callGPU(this.slice),this.sliceOutput=this.wrappedLayer.output,this.output||(this.inputShape.length<=2?(this.outputShape=[e,this.sliceOutput.glTextureShape[1]],this.output=new i.default([],this.outputShape),this.outputCopy=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"}),this.outputCopy.createGLTexture({type:"2d",format:"float"})):(this.outputShape=[e,...this.sliceOutput.originalShape],this.output=new i.default([],this.outputShape),this.outputCopy=new i.default([],this.outputShape),this.output.reshapeTo2DSquare(),this.outputCopy.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"}),this.outputCopy.createGLTexture({type:"2d",format:"float"}),this._createOutputIndexMap(this.sliceOutput.indicesForReshaped))),o.webgl2.runProgram({program:this.copyTextureProgram,output:this.outputCopy,inputs:[{input:this.output,name:"source"}]}),this.inputShape.length<=2?o.webgl2.runProgram({program:this.copySliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"}],uniforms:[{value:0,type:"int",name:"t"},{value:e,type:"int",name:"timesteps"}]}):o.webgl2.runProgram({program:this.mapSliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"},{input:this.outputIndexMaps[0],name:"indexMap"}]});for(let r=1;r<e;r++)this.inputShape.length<=2?o.webgl2.runProgram({program:this.selectSliceProgram,output:this.slice,inputs:[{input:t,name:"x"}],uniforms:[{value:r,type:"int",name:"t"}]}):o.webgl2.runProgram({program:this.mapInputProgram,output:this.slice,inputs:[{input:t,name:"x"},{input:this.indexMaps[r],name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),this.wrappedLayer._callGPU(this.slice),this.sliceOutput=this.wrappedLayer.output,o.webgl2.runProgram({program:this.copyTextureProgram,output:this.outputCopy,inputs:[{input:this.output,name:"source"}]}),this.inputShape.length<=2?o.webgl2.runProgram({program:this.copySliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"}],uniforms:[{value:r,type:"int",name:"t"},{value:e,type:"int",name:"timesteps"}]}):o.webgl2.runProgram({program:this.mapSliceOutputProgram,output:this.output,inputs:[{input:this.outputCopy,name:"outputCopy"},{input:this.sliceOutput,name:"sliceOutput"},{input:this.outputIndexMaps[r],name:"indexMap"}]});0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=g},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},7821:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="_GlobalPooling1D";const{data_format:e="channels_last"}=t;this.dataFormat=e,this.poolingFunc="max",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const[e,n]=t.tensor.shape;this.output=new i.default([],[n]);for(let r=0,i=n;r<i;r++)"max"===this.poolingFunc?this.output.tensor.set(r,a.default.sup(t.tensor.pick(null,r))):"average"===this.poolingFunc&&this.output.tensor.set(r,a.default.sum(t.tensor.pick(null,r))/e)}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.output||(this.output=new i.default([],[this.inputShape[1]]),this.output.createGLTexture({type:"2d",format:"float"}));const e="max"===this.poolingFunc;o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0],type:"int",name:"channelDataSize"},{value:+e,type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},7872:function(t,e,n){var r=n("5ca1");r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},"788d":function(t,e,n){var r=n("5ca1"),i=n("6821"),o=n("9def");r(r.S,"String",{raw:function(t){var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;while(n>s)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},"78ce":function(t,e,n){var r=n("5ca1");r(r.S,"Date",{now:function(){return(new Date).getTime()}})},7948:function(t,e){function n(t,e){var n=-1,r=null==t?0:t.length,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}t.exports=n},"79bc":function(t,e,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"Map");t.exports=o},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a48":function(t,e,n){var r=n("6044"),i=Object.prototype,o=i.hasOwnProperty;function a(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}t.exports=a},"7a56":function(t,e,n){"use strict";var r=n("7726"),i=n("86cc"),o=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},"7abf":function(t,e,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}function o(t){for(var e,n,o=String(t),a="",s=0,u=r;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if(n=o.charCodeAt(s+=.75),n>255)throw new i;e=e<<8|n}return a}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=o},"7b23":function(t,e,n){var r=n("d8e8"),i=n("4bf8"),o=n("626a"),a=n("9def");t.exports=function(t,e,n,s,u){r(e);var c=i(t),l=o(c),p=a(c.length),h=u?p-1:0,f=u?-1:1;if(n<2)for(;;){if(h in l){s=l[h],h+=f;break}if(h+=f,u?h<0:p<=h)throw TypeError("Reduce of empty array with no initial value")}for(;u?h>=0:p>h;h+=f)h in l&&(s=e(s,l[h],h,c));return s}},"7b83":function(t,e,n){var r=n("7c64"),i=n("93ed"),o=n("2478"),a=n("a524"),s=n("1fc8");function u(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},"7b97":function(t,e,n){var r=n("7e64"),i=n("a2be"),o=n("1c3c"),a=n("b1e5"),s=n("42a2"),u=n("6747"),c=n("0d24"),l=n("73ac"),p=1,h="[object Arguments]",f="[object Array]",d="[object Object]",g=Object.prototype,m=g.hasOwnProperty;function v(t,e,n,g,v,y){var _=u(t),x=u(e),b=_?f:s(t),w=x?f:s(e);b=b==h?d:b,w=w==h?d:w;var S=b==d,T=w==d,P=b==w;if(P&&c(t)){if(!c(e))return!1;_=!0,S=!1}if(P&&!S)return y||(y=new r),_||l(t)?i(t,e,n,g,v,y):o(t,e,b,n,g,v,y);if(!(n&p)){var C=S&&m.call(t,"__wrapped__"),M=T&&m.call(e,"__wrapped__");if(C||M){var A=C?t.value():t,F=M?e.value():e;return y||(y=new r),v(A,F,n,g,y)}}return!!P&&(y||(y=new r),a(t,e,n,g,v,y))}t.exports=v},"7bbc":function(t,e,n){var r=n("6821"),i=n("9093").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):i(r(t))}},"7c0e":function(t,e,n){"use strict";n("aa77")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},"7c64":function(t,e,n){var r=n("e24b"),i=n("5e2e"),o=n("79bc");function a(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}t.exports=a},"7cdf":function(t,e,n){var r=n("5ca1");r(r.S,"Number",{isInteger:n("9c12")})},"7cdff":function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(t){return o(i(t),arguments.length<2?void 0:a(arguments[1]))}})},"7d1f":function(t,e,n){var r=n("087d"),i=n("6747");function o(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}t.exports=o},"7e64":function(t,e,n){var r=n("5e2e"),i=n("efb6"),o=n("2fcc"),a=n("802a"),s=n("55a3"),u=n("d02c");function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype["delete"]=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},"7ed2":function(t,e){var n="__lodash_hash_undefined__";function r(t){return this.__data__.set(t,n),this}t.exports=r},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},"7f25":function(t,e,n){var r=n("5ca1"),i=n("d6c6"),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},"7ff6":function(t,e,n){"use strict";var r=n("5ca1"),i=n("cb7c"),o=function(t){this._t=i(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n("41a0")(o,"Object",function(){var t,e=this,n=e._k;do{if(e._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[e._i++])in e._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new o(t)}})},"802a":function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},8079:function(t,e,n){var r=n("7726"),i=n("1991").set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n("2d95")(a);t.exports=function(){var t,e,n,c=function(){var r,i;u&&(r=a.domain)&&r.exit();while(t){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){i.call(r,c)};else{var p=!0,h=document.createTextNode("");new o(c).observe(h,{characterData:!0}),n=function(){h.data=p=!p}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},"807e":function(t,e,n){"use strict";t.exports=i;var r=n("e938");function i(t,e,n){if("function"!==typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function t(e,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)})}catch(u){return s.emit("error",u,e),void setTimeout(function(){a(u)},0)}else setTimeout(function(){a(Error("already ended"))},0)},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},"829a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Model",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Tensor",{enumerable:!0,get:function(){return i.default}}),e.testUtils=e.layers=e.activations=e.default=e.GPU_SUPPORT=void 0,n("e792");var r=l(n("3320")),i=l(n("d3b1")),o=n("d966"),a=c(n("3e72"));e.activations=a;var s=c(n("3777"));e.layers=s;var u=c(n("0333"));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}e.testUtils=u;const p=o.webgl2.isSupported;e.GPU_SUPPORT=p;const h={Model:r.default,Tensor:i.default,GPU_SUPPORT:p,activations:a,layers:s,testUtils:u};e.default=h},8378:function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},8381:function(t,e,n){"use strict";var r=n("cb7c"),i=n("6a99"),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),t!=o)}},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},8449:function(t,e,n){"use strict";n("386b")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},8478:function(t,e,n){var r=n("5ca1");r(r.S,"Object",{create:n("2aeb")})},"847c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(n("d7e6"));function i(t){return t&&t.__esModule?t:{default:t}}const o=(0,r.default)({args:["array"],body:function(t){t=.2*t+.5,t<=0?t=0:t>=1&&(t=1)}});function a(t){o(t.tensor)}},"84af":function(t,e,n){"use strict";function r(t,e,n){var i=0|t[n];if(i<=0)return[];var o,a=new Array(i);if(n===t.length-1)for(o=0;o<i;++o)a[o]=e;else for(o=0;o<i;++o)a[o]=r(t,e,n+1);return a}function i(t,e){var n,r;for(n=new Array(t),r=0;r<t;++r)n[r]=e;return n}function o(t,e){switch("undefined"===typeof e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"===typeof t.length)return r(t,e,0);break}return[]}t.exports=o},"84b4":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},"84f2":function(t,e){t.exports={}},"85e3":function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},8604:function(t,e,n){var r=n("26e8"),i=n("e2c0");function o(t,e){return null!=t&&i(t,e,r)}t.exports=o},8615:function(t,e,n){var r=n("5ca1"),i=n("504c")(!1);r(r.S,"Object",{values:function(t){return i(t)}})},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"872a":function(t,e,n){var r=n("3b4a");function i(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}t.exports=i},"87b3":function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n("2aba")(r,o,function(){var t=s.call(this);return t===t?a.call(this):i})},"87f3":function(t,e,n){var r=n("5ca1");r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},"88ca":function(t,e,n){var r=n("86cc"),i=n("5ca1"),o=n("cb7c"),a=n("6a99");i(i.S+i.F*n("79e5")(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return r.f(t,e,n),!0}catch(i){return!1}}})},"891c":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("d966");class i{constructor(t={}){this.layerClass="Layer",this.name=t.name,this.description="",this.gpu=r.webgl2.isSupported&&t.gpu,this.params=[],this.weights={},this.inbound=[],this.outbound=[]}throwError(t){throw new Error(`[${this.layerClass} layer: ${this.name||""}] ${t}`)}toggleGPU(t){const e="undefined"===typeof t?!this.gpu:t;r.webgl2.isSupported&&e?this.gpu=!0:this.gpu=!1}setWeights(t,e=!0){this.params.forEach((n,r)=>{this.weights[n]=t[r],this.gpu&&e&&this.weights[n].createGLTexture({type:"2d",format:"float"})})}call(t){return this.output=t,this.output}}e.default=i},"896d":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int channelDataSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (isMaxPooling) {\n    // GlobalMaxPooling\n    float maxval = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      if (j == 0 || val > maxval) {\n        maxval = val;\n      }\n    }\n    outColor = vec4(maxval);\n  } else {\n    // GlobalAveragePooling\n    float sum = 0.0;\n    for (int j = 0; j < size[1]; ++j) {\n      float val = texelFetch(x, ivec2(out_x, j), 0).r;\n      sum += val;\n    }\n    outColor = vec4(sum / float(channelDataSize));\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="_GlobalPooling2D";const{data_format:e="channels_last"}=t;this.dataFormat=e,this.poolingFunc="max",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0));const[e,n,r]=t.tensor.shape;this.output=new i.default([],[r]);for(let i=0,o=r;i<o;i++)"max"===this.poolingFunc?this.output.tensor.set(i,a.default.sup(t.tensor.pick(null,null,i))):"average"===this.poolingFunc&&this.output.tensor.set(i,a.default.sum(t.tensor.pick(null,null,i))/(e*n))}_callGPU(t){t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,0)),this.inputShape=t.tensor.shape,t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new i.default([],[this.inputShape[2]]),this.output.createGLTexture({type:"2d",format:"float"}));const e="max"===this.poolingFunc;o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.inputShape[0]*this.inputShape[1],type:"int",name:"channelDataSize"},{value:+e,type:"bool",name:"isMaxPooling"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},"896f":function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=n("38fd"),a=r.has,s=r.key,u=function(t,e,n){var r=a(t,e,n);if(r)return!0;var i=o(e);return null!==i&&u(t,i,n)};r.exp({hasMetadata:function(t,e){return u(t,i(e),arguments.length<3?void 0:s(arguments[2]))}})},"89d9":function(t,e,n){var r=n("656b"),i=n("159a"),o=n("e2e4");function a(t,e,n){var a=-1,s=e.length,u={};while(++a<s){var c=e[a],l=r(t,c);n(l,c)&&i(u,o(c,t),l)}return u}t.exports=a},"8a32":function(t,e,n){"use strict";function r(t,e){const n=`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[${t}];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n\n  float val = texelFetch(inputs[0], ivec2(out_x, out_y), 0).r;\n  for (int i = 1; i < ${t}; i++) {\n    val = min(val, texelFetch(inputs[i], ivec2(out_x, out_y), 0).r);\n  }\n\n  outColor = vec4(val);\n}\n`;return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},"8a5c":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{umulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>>16,u=i>>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>>16)+((o*u>>>0)+(c&n)>>>16)}})},"8a81":function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("9e1e"),a=n("5ca1"),s=n("2aba"),u=n("67ab").KEY,c=n("79e5"),l=n("5537"),p=n("7f20"),h=n("ca5a"),f=n("2b4c"),d=n("37c8"),g=n("3a72"),m=n("d4c0"),v=n("1169"),y=n("cb7c"),_=n("d3f4"),x=n("4bf8"),b=n("6821"),w=n("6a99"),S=n("4630"),T=n("2aeb"),P=n("7bbc"),C=n("11e9"),M=n("2621"),A=n("86cc"),F=n("0d58"),k=C.f,O=A.f,E=P.f,j=r.Symbol,D=r.JSON,I=D&&D.stringify,R="prototype",L=f("_hidden"),U=f("toPrimitive"),z={}.propertyIsEnumerable,G=l("symbol-registry"),N=l("symbols"),B=l("op-symbols"),$=Object[R],q="function"==typeof j&&!!M.f,V=r.QObject,H=!V||!V[R]||!V[R].findChild,W=o&&c(function(){return 7!=T(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=k($,e);r&&delete $[e],O(t,e,n),r&&t!==$&&O($,e,r)}:O,X=function(t){var e=N[t]=T(j[R]);return e._k=t,e},Y=q&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},K=function(t,e,n){return t===$&&K(B,e,n),y(t),e=w(e,!0),y(n),i(N,e)?(n.enumerable?(i(t,L)&&t[L][e]&&(t[L][e]=!1),n=T(n,{enumerable:S(0,!1)})):(i(t,L)||O(t,L,S(1,{})),t[L][e]=!0),W(t,e,n)):O(t,e,n)},J=function(t,e){y(t);var n,r=m(e=b(e)),i=0,o=r.length;while(o>i)K(t,n=r[i++],e[n]);return t},Z=function(t,e){return void 0===e?T(t):J(T(t),e)},Q=function(t){var e=z.call(this,t=w(t,!0));return!(this===$&&i(N,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(N,t)||i(this,L)&&this[L][t])||e)},tt=function(t,e){if(t=b(t),e=w(e,!0),t!==$||!i(N,e)||i(B,e)){var n=k(t,e);return!n||!i(N,e)||i(t,L)&&t[L][e]||(n.enumerable=!0),n}},et=function(t){var e,n=E(b(t)),r=[],o=0;while(n.length>o)i(N,e=n[o++])||e==L||e==u||r.push(e);return r},nt=function(t){var e,n=t===$,r=E(n?B:b(t)),o=[],a=0;while(r.length>a)!i(N,e=r[a++])||n&&!i($,e)||o.push(N[e]);return o};q||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===$&&e.call(B,n),i(this,L)&&i(this[L],t)&&(this[L][t]=!1),W(this,t,S(1,n))};return o&&H&&W($,t,{configurable:!0,set:e}),X(t)},s(j[R],"toString",function(){return this._k}),C.f=tt,A.f=K,n("9093").f=P.f=et,n("52a7").f=Q,M.f=nt,o&&!n("2d00")&&s($,"propertyIsEnumerable",Q,!0),d.f=function(t){return X(f(t))}),a(a.G+a.W+a.F*!q,{Symbol:j});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;rt.length>it;)f(rt[it++]);for(var ot=F(f.store),at=0;ot.length>at;)g(ot[at++]);a(a.S+a.F*!q,"Symbol",{for:function(t){return i(G,t+="")?G[t]:G[t]=j(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in G)if(G[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!q,"Object",{create:Z,defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var st=c(function(){M.f(1)});a(a.S+a.F*st,"Object",{getOwnPropertySymbols:function(t){return M.f(x(t))}}),D&&a(a.S+a.F*(!q||c(function(){var t=j();return"[null]"!=I([t])||"{}"!=I({a:t})||"{}"!=I(Object(t))})),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(_(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,I.apply(D,r)}}),j[R][U]||n("32e9")(j[R],U,j[R].valueOf),p(j,"Symbol"),p(Math,"Math",!0),p(r.JSON,"JSON",!0)},"8b24":function(t,e,n){"use strict";var r=n("3b33");function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},"8c5d":function(t,e,n){"use strict";(function(e){var r=n("2adf"),i=n("175e"),o=0;function a(t,e,n){this.name=t,this.lvalue=e,this.rvalue=n,this.count=0}function s(t,e,n,r){this.body=t,this.args=e,this.thisVars=n,this.localVars=r}function u(t){if("eval"===t)throw new Error("cwise-parser: eval() not allowed");return"undefined"!==typeof window?t in window:"undefined"!==typeof e?t in e:"undefined"!==typeof self&&t in self}function c(t){for(var e=t.body[0].expression.callee.params,n=new Array(e.length),r=0;r<e.length;++r)n[r]=e[r].name;return n}function l(t){for(var e=["(",t,")()"].join(""),n=r.parse(e,{range:!0}),l="_inline_"+o+++"_",p=c(n),h=new Array(p.length),f=0;f<p.length;++f)h[f]=new a([l,"arg",f,"_"].join(""),!1,!1);for(var d=new Array(e.length),g=(f=0,e.length);f<g;++f)d[f]=e.charAt(f);var m=[],v=[];function y(t){var e=l+t.replace(/\_/g,"__");return m.push(e),e}function _(t){var e="this_"+t.replace(/\_/g,"__");return v.push(e),e}function x(t,e){for(var n=t.range[0],r=t.range[1],i=n+1;i<r;++i)d[i]="";d[n]=e}function b(t){return"'"+t.replace(/\_/g,"\\_").replace(/\'/g,"'")+"'"}function w(t){return d.slice(t.range[0],t.range[1]).join("")}var S=1,T=2;function P(t){return"AssignmentExpression"===t.parent.type&&t.parent.left===t?"="===t.parent.operator?S:S|T:"UpdateExpression"===t.parent.type?S|T:T}(function t(e,n){if(e.parent=n,"MemberExpression"===e.type)e.computed?(t(e.object,e),t(e.property,e)):"ThisExpression"===e.object.type?x(e,_(e.property.name)):t(e.object,e);else{if("ThisExpression"===e.type)throw new Error("cwise-parser: Computed this is not allowed");if("Identifier"===e.type){var r=e.name,i=p.indexOf(r);if(i>=0){var o=h[i],a=P(e);a&S&&(o.lvalue=!0),a&T&&(o.rvalue=!0),++o.count,x(e,o.name)}else u(r)||x(e,y(r))}else if("Literal"===e.type)"string"===typeof e.value&&x(e,b(e.value));else{if("WithStatement"===e.type)throw new Error("cwise-parser: with() statements not allowed");for(var s=Object.keys(e),c=0,l=s.length;c<l;++c)if("parent"!==s[c]){var f=e[s[c]];if(f)if(f instanceof Array)for(var d=0;d<f.length;++d)f[d]&&"string"===typeof f[d].type&&t(f[d],e);else"string"===typeof f.type&&t(f,e)}}}})(n.body[0].expression.callee.body,void 0),i(m),i(v);var C=new s(w(n.body[0].expression.callee.body),h,v,m);return C}t.exports=l}).call(this,n("c8ba"))},"8e6e":function(t,e,n){var r=n("5ca1"),i=n("990b"),o=n("6821"),a=n("11e9"),s=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),u=a.f,c=i(r),l={},p=0;while(c.length>p)n=u(r,e=c[p++]),void 0!==n&&s(l,e,n);return l}})},"8ea5":function(t,e,n){var r=n("5ca1"),i=n("8ed0");r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},"8ed0":function(t,e,n){"use strict";var r=n("79e5"),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),r=e<0?"-":e>9999?"+":"";return r+("00000"+Math.abs(e)).slice(r?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},"8fdb":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("896d"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GlobalMaxPooling2D",this.poolingFunc="max"}}e.default=o},"900e":function(t,e,n){"use strict";var r=n("b5bb");function i(t,e){var n,i=[],o=[];if(void 0!==e&&!Array.isArray(e))throw new Error("axes must be an Array list of dimensions to squeeze");for(n=0;n<t.shape.length;n++)(1!==t.shape[n]||void 0!==e&&-1===e.indexOf(n))&&(i.push(t.shape[n]),o.push(t.stride[n]));return r(t.data,i,o,t.offset)}t.exports=i},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},9152:function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,p=n?i-1:0,h=n?-1:1,f=t[e+p];for(p+=h,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+t[e+p],p+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+p],p+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,p=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+p>=1?h/u:h*Math.pow(2,1-p),e*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(e*u-1)*Math.pow(2,i),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;t[n+f]=255&s,f+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+f]=255&a,f+=d,a/=256,c-=8);t[n+f-d]|=128*g}},"91ca":function(t,e,n){var r=n("96fb"),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),c=function(t){return t+1/o-1/o};t.exports=Math.fround||function(t){var e,n,i=Math.abs(t),l=r(t);return i<u?l*c(i/u/a)*u*a:(e=(1+a/o)*i,n=e-(e-i),n>s||n!=n?l*(1/0):l*n)}},"91e9":function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},9253:function(t,e,n){var r=n("86cc"),i=n("11e9"),o=n("38fd"),a=n("69a8"),s=n("5ca1"),u=n("4630"),c=n("cb7c"),l=n("d3f4");function p(t,e,n){var s,h,f=arguments.length<4?t:arguments[3],d=i.f(c(t),e);if(!d){if(l(h=o(t)))return p(h,e,n,f);d=u(0)}if(a(d,"value")){if(!1===d.writable||!l(f))return!1;if(s=i.f(f,e)){if(s.get||s.set||!1===s.writable)return!1;s.value=n,r.f(f,e,s)}else r.f(f,e,u(0,n));return!0}return void 0!==d.set&&(d.set.call(f,n),!0)}s(s.S,"Reflect",{set:p})},9275:function(t,e,n){var r=n("5ca1"),i=n("8b97");i&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){i.check(t,e);try{return i.set(t,e),!0}catch(n){return!1}}})},9278:function(t,e,n){var r=n("5ca1");r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},9389:function(t,e,n){"use strict";var r=n("f962"),i=n("62d6");function o(){var t,e,n,o;if(2===arguments.length?(e=arguments[0],o=arguments[1]):3===arguments.length&&(n=arguments[0],e=arguments[1],o=arguments[2]),!Array.isArray(o))throw new Error("second argument of tile must be an array of repetition counts for each dimension");var a=e.shape.slice(0),s=a.slice(0),u=Math.max(s.length,o.length);for(t=0;t<u;t++)if(a[t]=void 0===a[t]?1:a[t],o[t]=void 0===o[t]?1:o[t],s[t]=(void 0===s[t]?1:s[t])*o[t],0===s[t])throw new Error("Number of tiles must be greater than zero");n||(n=r.zeros(s,e.dtype));var c=1;for(t=0;t<o.length;t++)c*=o[t];var l=new Array(o.length);for(t=0;t<o.length;t++)l[t]=0;var p=s.slice(0);for(f=0;f<s.length;f++)p[f]=f<e.dimension?null:0;for(t=0;t<c;t++){for(f=e.dimension;f<s.length;f++)p[f]=l[f];var h=n.pick.apply(n,p);if(h=h.lo.apply(h,l),h=h.hi.apply(h,e.shape),i.assign(h,e),t===c-1)break;var f=u-1;while(f>=0){if(l[f]+=a[f],l[f]!==s[f])break;l[f]=0,f--}}return n}t.exports=o},"938b":function(t,e,n){"use strict";function r(){console.error("SPR (symmetric packed rank 1 operation A := alpha*x*y' + A) not yet implemented")}t.exports=r},"93ed":function(t,e,n){var r=n("4245");function i(t){var e=r(this,t)["delete"](t);return this.size-=e?1:0,e}t.exports=i},9452:function(t,e,n){var r=n("2b3e"),i=r.isFinite;function o(t){return"number"==typeof t&&i(t)}t.exports=o},"950a":function(t,e,n){var r=n("30c9");function i(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);var o=n.length,a=e?o:-1,s=Object(n);while(e?a--:++a<o)if(!1===i(s[a],a,s))break;return n}}t.exports=i},9520:function(t,e,n){var r=n("3729"),i=n("1a8c"),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function c(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}t.exports=c},9564:function(t,e,n){"use strict";t.exports=o;var r=n("2110");(o.prototype=Object.create(r.prototype)).constructor=o;var i=n("e938");function o(t){r.call(this,t)}i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice),o.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},9618:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("896d"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GlobalAveragePooling2D",this.poolingFunc="average"}}e.default=o},9638:function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},"966f":function(t,e,n){var r=n("7e64"),i=n("c05f"),o=1,a=2;function s(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;t=Object(t);while(u--){var p=n[u];if(l&&p[2]?p[1]!==t[p[0]]:!(p[0]in t))return!1}while(++u<c){p=n[u];var h=p[0],f=t[h],d=p[1];if(l&&p[2]){if(void 0===f&&!(h in t))return!1}else{var g=new r;if(s)var m=s(f,d,h,t,e,g);if(!(void 0===m?i(d,f,o|a,s,g):m))return!1}}return!0}t.exports=s},9689:function(t,e,n){"use strict";var r=n("3b33"),i=n("a809"),o=n("ba6e"),a=n("fae5"),s=n("3ac4"),u=n("5066");function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var e=t.adapter||a.adapter;return e(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},"96cf":function(t,e){!function(e){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"===typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{l=e.regeneratorRuntime=c?t.exports:{},l.wrap=x;var p="suspendedStart",h="suspendedYield",f="executing",d="completed",g={},m={};m[a]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==r&&i.call(y,a)&&(m=y);var _=T.prototype=w.prototype=Object.create(m);S.prototype=_.constructor=T,T.constructor=S,T[u]=S.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,T):(t.__proto__=T,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(_),t},l.awrap=function(t){return{__await:t}},P(C.prototype),C.prototype[s]=function(){return this},l.AsyncIterator=C,l.async=function(t,e,n,r){var i=new C(x(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},P(_),_[u]="Generator",_[a]=function(){return this},_.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=E,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function x(t,e,n,r){var i=e&&e.prototype instanceof w?e:w,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=M(t,n,a),o}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function w(){}function S(){}function T(){}function P(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function C(t){function e(n,r,o,a){var s=b(t[n],t,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}var n;function r(t,r){function i(){return new Promise(function(n,i){e(t,r,n,i)})}return n=n?n.then(i,i):i()}this._invoke=r}function M(t,e,n){var r=p;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return j()}n.method=i,n.arg=o;while(1){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var u=b(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function A(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,A(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=b(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function F(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(F,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){while(++r<t.length)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},"96fb":function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},9744:function(t,e,n){"use strict";var r=n("4588"),i=n("be13");t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},"97d3":function(t,e,n){var r=n("48a0"),i=n("30c9");function o(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}t.exports=o},9865:function(t,e,n){"use strict";var r=n("5ca1"),i=n("6821"),o=n("4588"),a=n("9def"),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n("2f21")(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=i(this),n=a(e.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in e&&e[r]===t)return r||0;return-1}})},"988d":function(t,e,n){"use strict";var r=n("5ca1"),i=n("be13"),o=n("9def"),a=n("aae3"),s=n("0bfb"),u=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n("41a0")(c,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(i(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in u?String(t.flags):s.call(t),r=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(t.lastIndex),new c(r,e)}})},"98ba":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("e7fa")),i=u(n("d3b1")),o=n("d966"),a=u(n("c0de")),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}class c extends r.default{constructor(t={}){super(t),this.layerClass="Add",this.mode="sum"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e);for(let n=0;n<t.length;n++)s.default.addeq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,n=(0,a.default)("add",t.length,e);this.mergeProgram=o.webgl2.compileProgram(n)}super._callGPU(t)}}e.default=c},"990b":function(t,e,n){var r=n("9093"),i=n("2621"),o=n("cb7c"),a=n("7726").Reflect;t.exports=a&&a.ownKeys||function(t){var e=r.f(o(t)),n=i.f;return n?e.concat(n(t)):e}},"991b":function(t,e,n){var r=n("5c69"),i=1/0;function o(t){var e=null==t?0:t.length;return e?r(t,i):[]}t.exports=o},9986:function(t,e,n){var r=n("6821"),i=n("11e9").f;n("5eda")("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},"99c5":function(t,e,n){n("c6a1")("Set")},"99cd":function(t,e){function n(t){return function(e,n,r){var i=-1,o=Object(e),a=r(e),s=a.length;while(s--){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}t.exports=n},"99d3":function(t,e,n){(function(t){var r=n("585a"),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=u}).call(this,n("62e4")(t))},"9a50":function(t,e,n){"use strict";var r=n("3b33"),i=n("f771"),o=n("585c"),a=n("fe8e"),s=n("fe0b"),u=n("e45a"),c="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n("7abf");t.exports=function(t){return new Promise(function(e,l){var p=t.data,h=t.headers;r.isFormData(p)&&delete h["Content-Type"];var f=new XMLHttpRequest,d="onreadystatechange",g=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in f||s(t.url)||(f=new window.XDomainRequest,d="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),t.auth){var m=t.auth.username||"",v=t.auth.password||"";h.Authorization="Basic "+c(m+":"+v)}if(f.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f[d]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,r=t.responseType&&"text"!==t.responseType?f.response:f.responseText,o={data:r,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:t,request:f};i(e,l,o),f=null}},f.onerror=function(){l(u("Network Error",t,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var y=n("cb13"),_=(t.withCredentials||s(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;_&&(h[t.xsrfHeaderName]=_)}if("setRequestHeader"in f&&r.forEach(h,function(t,e){"undefined"===typeof p&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)}),t.withCredentials&&(f.withCredentials=!0),t.responseType)try{f.responseType=t.responseType}catch(x){if("json"!==t.responseType)throw x}"function"===typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){f&&(f.abort(),l(t),f=null)}),void 0===p&&(p=null),f.send(p)})}},"9aea":function(t,e,n){var r=n("d3f4"),i=n("67ab").onFreeze;n("5eda")("preventExtensions",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},"9aff":function(t,e,n){var r=n("9638"),i=n("30c9"),o=n("c098"),a=n("1a8c");function s(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}t.exports=s},"9b02":function(t,e,n){var r=n("656b");function i(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}t.exports=i},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c00":function(t,e,n){var r=n("5ca1");r(r.S,"Math",{iaddh:function(t,e,n,r){var i=t>>>0,o=e>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},"9c12":function(t,e,n){var r=n("d3f4"),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},"9c29":function(t,e,n){n("ec30")("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9c86":function(t,e,n){"use strict";n("386b")("big",function(t){return function(){return t(this,"big","","")}})},"9de3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("2743"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GlobalAveragePooling3D",this.poolingFunc="average"}}e.default=o},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9e69":function(t,e,n){var r=n("2b3e"),i=r.Symbol;t.exports=i},"9ec8":function(t,e,n){"use strict";n("386b")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},"9f3c":function(t,e,n){var r=n("5ca1"),i=n("2d5c");r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},"9fe0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="UpSampling1D";const{size:e=2}=t;this.size=e,this.description=`size ${e}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size,this.inputShape[1]],this.output=new i.default([],this.outputShape);for(let e=0;e<this.size;e++)a.default.assign(this.output.tensor.lo(e,0).step(this.size,1),t.tensor)}_createIndexMap(){if(this.indexMap)return;const t=new i.default([],this.inputShape,{type:Int32Array}),e=new i.default([],this.inputShape,{type:Int32Array}),n=new i.default([],this.inputShape,{type:Int32Array});for(let r=0;r<this.inputShape[0];r++)a.default.assigns(e.tensor.pick(r,null),r);for(let r=0;r<this.inputShape[1];r++)a.default.assigns(n.tensor.pick(null,r),r);a.default.muls(t.tensor,e.tensor,this.inputShape[1]),a.default.addeq(t.tensor,n.tensor),this.indexMap=new i.default([],this.outputShape,{type:Int32Array});for(let r=0;r<this.size;r++)a.default.assign(this.indexMap.tensor.lo(r,0).step(this.size,1),t.tensor);this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size,this.inputShape[1]],this._createIndexMap(),this.output||(this.output=new i.default([],this.outputShape),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=c},a032:function(t,e,n){"use strict";var r=n("5ca1"),i=n("02f4")(!1);r(r.P,"String",{codePointAt:function(t){return i(this,t)}})},a19b:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(n("d7e6"));function i(t){return t&&t.__esModule?t:{default:t}}const o=(0,r.default)({args:["array","scalar"],body:function(t){const e=1.6732632423543772,n=1.0507009873554805;t=n*(Math.max(t,0)+e*(Math.exp(Math.min(t,0))-1))}});function a(t){o(t.tensor)}},a19f:function(t,e,n){var r=n("5ca1"),i=n("cb7c"),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(e){return!1}}})},a1b0:function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=e.data,o=n.data,a=e.stride[0],s=n.stride[0],u=e.offset,c=n.offset;for(r=e.shape[0]-1;r>=0;r--,u+=a,c+=s)o[c]+=t*i[u]}},a1ce:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(n("3e72")),i=p(n("d3b1")),o=p(n("891c")),a=n("d966"),s=n("139c"),u=p(n("62d6")),c=p(n("d7e6")),l=h(n("70de"));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}const f="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",d="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",g="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n",m="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(t1, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val * t2_val);\n}\n",v="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n",y="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n",_="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D h;\nuniform sampler2D htm1;\nuniform sampler2D z;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(h, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float h_val = texelFetch(h, ivec2(out_x, out_y), 0).r;\n  float htm1_val = texelFetch(htm1, ivec2(out_x, out_y), 0).r;\n  float z_val = texelFetch(z, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(h_val * (float(1.0) - z_val) + htm1_val * z_val);\n}\n";class x extends o.default{constructor(t={}){super(t),Object.defineProperty(this,"_combine",{configurable:!0,enumerable:!0,writable:!0,value:(0,c.default)({args:["array","array","array","array"],body:function(t,e,n,r){e+n+r}})}),Object.defineProperty(this,"_update",{configurable:!0,enumerable:!0,writable:!0,value:(0,c.default)({args:["array","array","array"],body:function(t,e,n){t=t*(1-n)+e*n}})}),this.layerClass="GRU";const{units:e=1,activation:n="tanh",use_bias:i=!0,recurrent_activation:o="hard_sigmoid",return_sequences:s=!1,go_backwards:u=!1,stateful:p=!1}=t;this.units=e,this.activation=n,this.recurrentActivation=o,this.activationFunc=r[n],this.recurrentActivationFunc=r[o],this.use_bias=i,this.returnSequences=s,this.goBackwards=u,this.stateful=p,this.params=this.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],this.description=`output dimensions: ${this.units}`,this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.description+="linear"!==this.recurrentActivation?`, ${this.recurrentActivation} recurrent activation`:"",this.description+=this.returnSequences?", return sequences":"",this.description+=this.goBackwards?", backward direction":"",this.description+=this.stateful?", stateful":"",this.gpu&&(this.copyTextureProgram=a.webgl2.compileProgram(f),this.matMulProgram=a.webgl2.compileProgram(d),this.activationProgram=a.webgl2.compileProgram(l[this.activation]),this.recurrentActivationProgram=a.webgl2.compileProgram(l[this.recurrentActivation]),this.gateSummationProgram=a.webgl2.compileProgram(g),this.gateProductProgram=a.webgl2.compileProgram(m),this.timestepReadProgram=a.webgl2.compileProgram(v),this.timestepWriteProgram=a.webgl2.compileProgram(y),this.updateProgram=a.webgl2.compileProgram(_))}setWeights(t){super.setWeights(t);const e=this.weights["kernel"].tensor.shape;this.weights["W_z"]=new i.default([],[e[0],this.units]),this.weights["W_r"]=new i.default([],[e[0],this.units]),this.weights["W_h"]=new i.default([],[e[0],this.units]),u.default.assign(this.weights["W_z"].tensor,this.weights["kernel"].tensor.hi(e[0],this.units).lo(0,0)),u.default.assign(this.weights["W_r"].tensor,this.weights["kernel"].tensor.hi(e[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights["W_h"].tensor,this.weights["kernel"].tensor.hi(e[0],3*this.units).lo(0,2*this.units));const n=this.weights["recurrent_kernel"].tensor.shape;if(this.weights["U_z"]=new i.default([],[n[0],this.units]),this.weights["U_r"]=new i.default([],[n[0],this.units]),this.weights["U_h"]=new i.default([],[n[0],this.units]),u.default.assign(this.weights["U_z"].tensor,this.weights["recurrent_kernel"].tensor.hi(n[0],this.units).lo(0,0)),u.default.assign(this.weights["U_r"].tensor,this.weights["recurrent_kernel"].tensor.hi(n[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights["U_h"].tensor,this.weights["recurrent_kernel"].tensor.hi(n[0],3*this.units).lo(0,2*this.units)),this.weights["b_z"]=new i.default([],[this.units]),this.weights["b_r"]=new i.default([],[this.units]),this.weights["b_h"]=new i.default([],[this.units]),this.use_bias&&(u.default.assign(this.weights["b_z"].tensor,this.weights["bias"].tensor.hi(this.units).lo(0)),u.default.assign(this.weights["b_r"].tensor,this.weights["bias"].tensor.hi(2*this.units).lo(this.units)),u.default.assign(this.weights["b_h"].tensor,this.weights["bias"].tensor.hi(3*this.units).lo(2*this.units))),this.gpu){const t=["W_z","W_r","W_h","U_z","U_r","U_h","b_z","b_r","b_h"];t.forEach(t=>{this.weights[t].createGLTexture({type:"2d",format:"float"})})}}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=this.weights["b_z"].tensor.shape[0],n=this.weights["b_r"].tensor.shape[0],r=this.weights["b_h"].tensor.shape[0],o=new i.default([],[e]),a=new i.default([],[e]),c=new i.default([],[e]),l=new i.default([],[n]),p=new i.default([],[n]),h=new i.default([],[n]),f=this.stateful&&this.currentHiddenState?this.currentHiddenState:new i.default([],[r]),d=new i.default([],[r]),g=new i.default([],[r]),m=new i.default([],[r]);this.hiddenStateSequence=new i.default([],[t.tensor.shape[0],r]);const v=new i.default([],[t.tensor.shape[1]]),y=()=>{u.default.assign(m.tensor,f.tensor),(0,s.gemv)(1,this.weights["W_z"].tensor.transpose(1,0),v.tensor,1,a.tensor),(0,s.gemv)(1,this.weights["U_z"].tensor.transpose(1,0),m.tensor,1,c.tensor),this._combine(o.tensor,a.tensor,c.tensor,this.weights["b_z"].tensor),this.recurrentActivationFunc(o),(0,s.gemv)(1,this.weights["W_r"].tensor.transpose(1,0),v.tensor,1,p.tensor),(0,s.gemv)(1,this.weights["U_r"].tensor.transpose(1,0),m.tensor,1,h.tensor),this._combine(l.tensor,p.tensor,h.tensor,this.weights["b_r"].tensor),this.recurrentActivationFunc(l),u.default.muleq(l.tensor,m.tensor),(0,s.gemv)(1,this.weights["W_h"].tensor.transpose(1,0),v.tensor,1,d.tensor),(0,s.gemv)(1,this.weights["U_h"].tensor.transpose(1,0),l.tensor,1,g.tensor),this._combine(f.tensor,d.tensor,g.tensor,this.weights["b_h"].tensor),this.activationFunc(f),this._update(f.tensor,m.tensor,o.tensor)};for(let i=0,s=t.tensor.shape[0];i<s;i++){const e=this.goBackwards?s-i-1:i;u.default.assign(v.tensor,t.tensor.pick(e,null));const n=[a,c,p,h,d,g];n.forEach(t=>u.default.assigns(t.tensor,0)),y(),this.returnSequences&&u.default.assign(this.hiddenStateSequence.tensor.pick(i,null),f.tensor)}this.returnSequences?this.output=this.hiddenStateSequence:this.output=f,this.stateful&&(this.currentHiddenState=f)}_stepGPU(){a.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXZ,inputs:[{input:this.currentX,name:"A"},{input:this.weights["W_z"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHZ,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights["U_z"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentUpdateGateStatePreactiv,inputs:[{input:this.tempXZ,name:"t1"},{input:this.tempHZ,name:"t2"},{input:this.weights["b_z"],name:"bias"}]}),"linear"!==this.recurrentActivation?a.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentUpdateGateState,inputs:[{input:this.currentUpdateGateStatePreactiv,name:"x"}]}):this.currentUpdateGateState=this.currentUpdateGateStatePreactiv,a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXR,inputs:[{input:this.currentX,name:"A"},{input:this.weights["W_r"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHR,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights["U_r"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentResetGateStatePreactiv,inputs:[{input:this.tempXR,name:"t1"},{input:this.tempHR,name:"t2"},{input:this.weights["b_r"],name:"bias"}]}),"linear"!==this.recurrentActivation?a.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentResetGateState,inputs:[{input:this.currentResetGateStatePreactiv,name:"x"}]}):this.currentResetGateState=this.currentResetGateStatePreactiv,a.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentResetGateStateCopy,inputs:[{input:this.currentResetGateState,name:"source"}]}),a.webgl2.runProgram({program:this.gateProductProgram,output:this.currentResetGateState,inputs:[{input:this.currentResetGateStateCopy,name:"t1"},{input:this.previousHiddenState,name:"t2"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXH,inputs:[{input:this.currentX,name:"A"},{input:this.weights["W_h"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHH,inputs:[{input:this.currentResetGateState,name:"A"},{input:this.weights["U_h"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentHiddenStatePreactiv,inputs:[{input:this.tempXH,name:"t1"},{input:this.tempHH,name:"t2"},{input:this.weights["b_h"],name:"bias"}]}),"linear"!==this.activation?a.webgl2.runProgram({program:this.activationProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStatePreactiv,name:"x"}]}):this.currentHiddenState=this.currentHiddenStatePreactiv,a.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentHiddenStateCopy,inputs:[{input:this.currentHiddenState,name:"source"}]}),a.webgl2.runProgram({program:this.updateProgram,output:this.currentHiddenState,inputs:[{input:this.currentHiddenStateCopy,name:"h"},{input:this.previousHiddenState,name:"htm1"},{input:this.currentUpdateGateState,name:"z"}]})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=this.weights["b_z"].glTextureShape[1],n=this.weights["b_r"].glTextureShape[1],r=this.weights["b_h"].glTextureShape[1];this.currentHiddenState&&this.stateful||(this.currentHiddenState=new i.default([],[r]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStateCopy||(this.currentHiddenStateCopy=new i.default([],[r]),this.currentHiddenStateCopy.createGLTexture({type:"2d",format:"float"})),this.currentHiddenStatePreactiv||(this.currentHiddenStatePreactiv=new i.default([],[r]),this.currentHiddenStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.currentUpdateGateState||(this.currentUpdateGateState=new i.default([],[e]),this.currentUpdateGateState.createGLTexture({type:"2d",format:"float"})),this.currentUpdateGateStatePreactiv||(this.currentUpdateGateStatePreactiv=new i.default([],[e]),this.currentUpdateGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXZ||(this.tempXZ=new i.default([],[e]),this.tempXZ.createGLTexture({type:"2d",format:"float"})),this.tempHZ||(this.tempHZ=new i.default([],[e]),this.tempHZ.createGLTexture({type:"2d",format:"float"})),this.currentResetGateState||(this.currentResetGateState=new i.default([],[n]),this.currentResetGateState.createGLTexture({type:"2d",format:"float"})),this.currentResetGateStateCopy||(this.currentResetGateStateCopy=new i.default([],[n]),this.currentResetGateStateCopy.createGLTexture({type:"2d",format:"float"})),this.currentResetGateStatePreactiv||(this.currentResetGateStatePreactiv=new i.default([],[n]),this.currentResetGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXR||(this.tempXR=new i.default([],[n]),this.tempXR.createGLTexture({type:"2d",format:"float"})),this.tempHR||(this.tempHR=new i.default([],[n]),this.tempHR.createGLTexture({type:"2d",format:"float"})),this.tempXH||(this.tempXH=new i.default([],[r]),this.tempXH.createGLTexture({type:"2d",format:"float"})),this.tempHH||(this.tempHH=new i.default([],[r]),this.tempHH.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new i.default([],[r]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new i.default([],[t.glTextureShape[0],r]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new i.default([],[t.glTextureShape[0],r]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new i.default([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(let i=0,o=t.glTextureShape[0];i<o;i++){const e=this.goBackwards?o-i-1:i;a.webgl2.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:e,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&(a.webgl2.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),a.webgl2.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:i,type:"int",name:"index"}]}))}this.returnSequences?this.output=this.hiddenStateSequence:this.output=this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=x},a234:function(t,e,n){var r=n("5ca1");r(r.S,"System",{global:n("7726")})},a25f:function(t,e,n){var r=n("7726"),i=r.navigator;t.exports=i&&i.userAgent||""},a29c:function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i=e.data,o=n.data,a=e.stride[0],s=n.stride[0],u=e.offset,c=n.offset;for(r=e.shape[0]-1;r>=0;r--,u+=a,c+=s)o[c]=t*i[u]}},a2be:function(t,e,n){var r=n("d612"),i=n("4284"),o=n("c584"),a=1,s=2;function u(t,e,n,u,c,l){var p=n&a,h=t.length,f=e.length;if(h!=f&&!(p&&f>h))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var g=-1,m=!0,v=n&s?new r:void 0;l.set(t,e),l.set(e,t);while(++g<h){var y=t[g],_=e[g];if(u)var x=p?u(_,y,g,e,t,l):u(y,_,g,t,e,l);if(void 0!==x){if(x)continue;m=!1;break}if(v){if(!i(e,function(t,e){if(!o(v,e)&&(y===t||c(y,t,n,u,l)))return v.push(e)})){m=!1;break}}else if(y!==_&&!c(y,_,n,u,l)){m=!1;break}}return l["delete"](t),l["delete"](e),m}t.exports=u},a384:function(t,e,n){"use strict";t.exports=i;var r=n("e938");function i(t,e){this.lo=t>>>0,this.hi=e>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return o;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(t){if("number"===typeof t)return i.fromNumber(t);if(r.isString(t)){if(!r.Long)return i.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new i(t.low>>>0,t.high>>>0):o},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;i.fromHash=function(t){return t===a?o:new i((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},a3a3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="UpSampling3D";const{size:e=[2,2,2],data_format:n="channels_last"}=t;Array.isArray(e)?this.size=e:this.size=[e,e,e],this.dataFormat=n,this.description=`size ${this.size.join("x")}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]*this.size[2],this.inputShape[3]],this.output=new i.default([],this.outputShape);for(let e=0;e<this.size[0];e++)for(let n=0;n<this.size[1];n++)for(let r=0;r<this.size[2];r++)a.default.assign(this.output.tensor.lo(e,n,r,0).step(this.size[0],this.size[1],this.size[2],1),t.tensor);"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});for(let r=0;r<this.size[0];r++)for(let t=0;t<this.size[1];t++)for(let e=0;e<this.size[2];e++){const i="channels_first"===this.dataFormat?[0,r,t,e]:[r,t,e,0],o="channels_first"===this.dataFormat?[1,this.size[0],this.size[1],this.size[2]]:[this.size[0],this.size[1],this.size[2],1];a.default.assign(this.indexMap.tensor.lo(...i).step(...o),n.tensor)}e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]*this.size[0],this.inputShape[2]*this.size[1],this.inputShape[3]*this.size[2]]:[this.inputShape[0]*this.size[0],this.inputShape[1]*this.size[1],this.inputShape[2]*this.size[2],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}e.default=c},a454:function(t,e,n){var r=n("72f0"),i=n("3b4a"),o=n("cd9d"),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},a481:function(t,e,n){"use strict";var r=n("cb7c"),i=n("4bf8"),o=n("9def"),a=n("4588"),s=n("0390"),u=n("5f1b"),c=Math.max,l=Math.min,p=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g,d=function(t){return void 0===t?t:String(t)};n("214f")("replace",2,function(t,e,n,g){return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=g(n,t,this,e);if(i.done)return i.value;var p=r(t),h=String(this),f="function"===typeof e;f||(e=String(e));var v=p.global;if(v){var y=p.unicode;p.lastIndex=0}var _=[];while(1){var x=u(p,h);if(null===x)break;if(_.push(x),!v)break;var b=String(x[0]);""===b&&(p.lastIndex=s(h,o(p.lastIndex),y))}for(var w="",S=0,T=0;T<_.length;T++){x=_[T];for(var P=String(x[0]),C=c(l(a(x.index),h.length),0),M=[],A=1;A<x.length;A++)M.push(d(x[A]));var F=x.groups;if(f){var k=[P].concat(M,C,h);void 0!==F&&k.push(F);var O=String(e.apply(void 0,k))}else O=m(P,h,C,M,F,e);C>=S&&(w+=h.slice(S,C)+O,S=C+P.length)}return w+h.slice(S)}];function m(t,e,r,o,a,s){var u=r+t.length,c=o.length,l=f;return void 0!==a&&(a=i(a),l=h),n.call(s,l,function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(u);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return n;if(l>c){var h=p(l/10);return 0===h?n:h<=c?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):n}s=o[l-1]}return void 0===s?"":s})}})},a48a:function(t,e,n){"use strict";var r=32;function i(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=r,e.INT_MAX=2147483647,e.INT_MIN=-1<<r-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>r-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1)&&!!t},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,e|=n,e|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);(function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}})(o),e.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},a524:function(t,e,n){var r=n("4245");function i(t){return r(this,t).has(t)}t.exports=i},a5ac:function(t,e,n){"use strict";var r=n("3b33"),i=n("58c9"),o=n("dd49"),a=n("fae5");function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=o,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n("23c3"),u.CancelToken=n("ac25"),u.isCancel=n("ba6e"),u.all=function(t){return Promise.all(t)},u.spread=n("2fc6"),t.exports=u,t.exports.default=u},a5b8:function(t,e,n){"use strict";var r=n("d8e8");function i(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},a69f:function(t,e,n){var r=n("5ca1");r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},a708:function(t,e,n){"use strict";(function(t){function e(){console.error("TBSV (triangular banded matrix solver) not yet implemented")}t.exporst=e}).call(this,n("62e4")(t))},a809:function(t,e,n){"use strict";var r=n("3b33");t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},a994:function(t,e,n){var r=n("7d1f"),i=n("32f4"),o=n("ec69");function a(t){return r(t,o,i)}t.exports=a},a9cc:function(t,e,n){"use strict";var r=n("5ca1"),i=n("a5b8"),o=n("9c80");r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),a=n("fdef"),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),p=function(t,e,n){var i={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=i[t]=s?e(h):a[t];n&&(i[n]=c),r(r.P+r.F*s,"String",i)},h=p.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=p},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ac25:function(t,e,n){"use strict";var r=n("23c3");function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t,e=new i(function(e){t=e});return{token:e,cancel:t}},t.exports=i},ac41:function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},ac4d:function(t,e,n){n("3a72")("asyncIterator")},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),a=n("7726"),s=n("32e9"),u=n("84f2"),c=n("2b4c"),l=c("iterator"),p=c("toStringTag"),h=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=i(f),g=0;g<d.length;g++){var m,v=d[g],y=f[v],_=a[v],x=_&&_.prototype;if(x&&(x[l]||s(x,l,h),x[p]||s(x,p,v),u[v]=h,y))for(m in r)x[m]||o(x,m,r[m],!0)}},ae33:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){var s=0,u=0,c=0,l=0,p=0,h=t.shape[0],f=t.shape[1],d=Math.min(e,h-1),g=Math.min(n,f-1),m=void 0===o?1:o,v=void 0===a?0:a;while(s<=d){l=0;var y=Math.min(s+g,f-1);for(c=0;c<=y;c++)l+=t.get(s,c)*r.get(c);i.set(s,l*m+v*i.get(s)),s++}if(s<h){u=0;while(s+g<f){for(l=0,c=0;c<=d+g;c++)p=u+c+1,l+=t.get(s,p)*r.get(p);if(i.set(s,l*m+v*i.get(s)),s++,u++,s===h)break}}if(s<h){u++;while(s-d<f){for(l=0,c=u;c<f;c++)l+=t.get(s,c)*r.get(c);if(i.set(s,l*m+v*i.get(s)),s++,u++,s===h)break}}return!0}t.exports=r},aea1:function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},aef6:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),a="endsWith",s=""[a];r(r.P+r.F*n("5147")(a),"String",{endsWith:function(t){var e=o(this,t,a),n=arguments.length>1?arguments[1]:void 0,r=i(e.length),u=void 0===n?r:Math.min(i(n),r),c=String(t);return s?s.call(e,c,u):e.slice(u-c.length,u)===c}})},af45:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("c141"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="MaxPooling3D",this.poolingFunc="max"}}e.default=o},af56:function(t,e,n){n("ec30")("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},b047:function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},b05c:function(t,e,n){n("ec30")("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},b07e:function(t,e,n){"use strict";var r=n("db45");function i(t,e,n,i,o){for(var a=r.dot,s=e.shape[0]-1;s>=0;s--)o.set(s,o.get(s)*i+t*a(e.pick(s,null),n));return!0}t.exports=i},b095:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("e7fa")),i=u(n("d3b1")),o=n("d966"),a=u(n("c0de")),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}class c extends r.default{constructor(t={}){super(t),this.layerClass="Minimum",this.mode="min"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e),s.default.assign(this.output.tensor,t[0].tensor);for(let n=1;n<t.length;n++)s.default.mineq(this.output.tensor,t[n].tensor)}_callGPU(t){if(!this.mergeProgram){const e=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,n=(0,a.default)("minimum",t.length,e);this.mergeProgram=o.webgl2.compileProgram(n)}super._callGPU(t)}}e.default=c},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},b1b1:function(t,e,n){var r=n("5ca1"),i=n("9c12"),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},b1e5:function(t,e,n){var r=n("a994"),i=1,o=Object.prototype,a=o.hasOwnProperty;function s(t,e,n,o,s,u){var c=n&i,l=r(t),p=l.length,h=r(e),f=h.length;if(p!=f&&!c)return!1;var d=p;while(d--){var g=l[d];if(!(c?g in e:a.call(e,g)))return!1}var m=u.get(t);if(m&&u.get(e))return m==e;var v=!0;u.set(t,e),u.set(e,t);var y=c;while(++d<p){g=l[d];var _=t[g],x=e[g];if(o)var b=c?o(x,_,g,e,t,u):o(_,x,g,t,e,u);if(!(void 0===b?_===x||s(_,x,n,o,u):b)){v=!1;break}y||(y="constructor"==g)}if(v&&!y){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S)&&(v=!1)}return u["delete"](t),u["delete"](e),v}t.exports=s},b218:function(t,e){var n=9007199254740991;function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}t.exports=r},b39a:function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b4b0:function(t,e,n){var r=n("1a8c"),i=n("ffd6"),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;function p(t){if("number"==typeof t)return t;if(i(t))return o;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var n=u.test(t);return n||c.test(t)?l(t.slice(2),n?2:8):s.test(t)?o:+t}t.exports=p},b4c0:function(t,e,n){var r=n("cb5a");function i(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}t.exports=i},b4c2:function(t,e,n){var r=n("5ca1");r(r.S,"Math",{imulh:function(t,e){var n=65535,r=+t,i=+e,o=r&n,a=i&n,s=r>>16,u=i>>16,c=(s*a>>>0)+(o*a>>>16);return s*u+(c>>16)+((o*u>>>0)+(c&n)>>16)}})},b54a:function(t,e,n){"use strict";n("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},b5a7:function(t,e,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"DataView");t.exports=o},b5bb:function(t,e,n){var r=n("2031"),i=n("044b"),o="undefined"!==typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,n=new Array(e.length);for(t=0;t<n.length;++t)n[t]=[Math.abs(e[t]),t];n.sort(a);var r=new Array(n.length);for(t=0;t<r.length;++t)r[t]=n[t][1];return r}function u(t,e){var n=["View",e,"d",t].join("");e<0&&(n="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}",a=new Function(o);return a()}if(0===e){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}",a=new Function("TrivialArray",o);return a(l[t][0])}o=["'use strict'"];var u=r(e),c=u.map(function(t){return"i"+t}),p="this.offset+"+u.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),h=u.map(function(t){return"b"+t}).join(","),f=u.map(function(t){return"c"+t}).join(",");o.push("function "+n+"(a,"+h+","+f+",d){this.data=a","this.shape=["+h+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+u.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+n+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+c.join(",")+",v){"),i?o.push("return this.data.set("+p+",v)}"):o.push("return this.data["+p+"]=v}"),o.push("proto.get=function "+n+"_get("+c.join(",")+"){"),i?o.push("return this.data.get("+p+")}"):o.push("return this.data["+p+"]}"),o.push("proto.index=function "+n+"_index(",c.join(),"){return "+p+"}"),o.push("proto.hi=function "+n+"_hi("+c.join(",")+"){return new "+n+"(this.data,"+u.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+u.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=u.map(function(t){return"a"+t+"=this.shape["+t+"]"}),g=u.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+n+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+g.join(","));for(var m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");o.push("return new "+n+"(this.data,"+u.map(function(t){return"a"+t}).join(",")+","+u.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+c.join(",")+"){var "+u.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+u.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");o.push("return new "+n+"(this.data,"+u.map(function(t){return"a"+t}).join(",")+","+u.map(function(t){return"b"+t}).join(",")+",c)}");var v=new Array(e),y=new Array(e);for(m=0;m<e;++m)v[m]="a[i"+m+"]",y[m]="b[i"+m+"]";o.push("proto.transpose=function "+n+"_transpose("+c+"){"+c.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+y.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+c+"){var a=[],b=[],c=this.offset");for(m=0;m<e;++m)o.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+u.map(function(t){return"shape["+t+"]"}).join(",")+","+u.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");a=new Function("CTOR_LIST","ORDER",o.join("\n"));return a(l[t],s)}function c(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};function p(t,e,n,r){if(void 0===t){var i=l.array[0];return i([])}"number"===typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var o=e.length;if(void 0===n){n=new Array(o);for(var a=o-1,s=1;a>=0;--a)n[a]=s,s*=e[a]}if(void 0===r){r=0;for(a=0;a<o;++a)n[a]<0&&(r-=(e[a]-1)*n[a])}var p=c(t),h=l[p];while(h.length<=o+1)h.push(u(p,h.length-1));i=h[o+1];return i(t,e,n,r)}t.exports=p},b5bd:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("891c"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GaussianNoise";const{stddev:e=0}=t;this.stddev=e}call(t){return this.output=t,this.output}}e.default=o},b639:function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n("1fb5"),i=n("9152"),o=n("e3db");function a(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?m(t,e,n,r):"string"===typeof e?d(t,e,n):v(t,e)}function p(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,n,r){return p(e),e<=0?u(t,e):void 0!==n?"string"===typeof r?u(t,e).fill(n,r):u(t,e).fill(n):u(t,e)}function f(t,e){if(p(e),t=u(t,e<0?0:0|y(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|x(e,n);t=u(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function g(t,e){var n=e.length<0?0:0|y(e.length);t=u(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function m(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=g(t,e),t}function v(t,e){if(c.isBuffer(e)){var n=0|y(e.length);return t=u(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?u(t,0):g(t,e);if("Buffer"===e.type&&o(e.data))return g(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function _(t){return+t!=t&&(t=0),c.alloc(+t)}function x(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return K(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(t).length;default:if(r)return K(t).length;e=(""+e).toLowerCase(),r=!0}}function b(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return E(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function S(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:T(t,e,n,r,i);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):T(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function T(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var p=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){p=!1;break}if(p)return o}return-1}function P(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function C(t,e,n,r){return tt(K(e,t.length-n),t,n,r)}function M(t,e,n,r){return tt(J(e),t,n,r)}function A(t,e,n,r){return M(t,e,n,r)}function F(t,e,n,r){return tt(Q(e),t,n,r)}function k(t,e,n,r){return tt(Z(e,t.length-n),t,n,r)}function O(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function E(t,e,n){n=Math.min(t.length,n);var r=[],i=e;while(i<n){var o,a,s,u,c=t[i],l=null,p=c>239?4:c>223?3:c>191?2:1;if(i+p<=n)switch(p){case 1:c<128&&(l=c);break;case 2:o=t[i+1],128===(192&o)&&(u=(31&c)<<6|63&o,u>127&&(l=u));break;case 3:o=t[i+1],a=t[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a,u>2047&&(u<55296||u>57343)&&(l=u));break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s,u>65535&&u<1114112&&(l=u))}null===l?(l=65533,p=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=p}return D(r)}e.Buffer=c,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:a(),e.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return h(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=x,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):b.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,s=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n),p=0;p<s;++p)if(u[p]!==l[p]){o=u[p],a=l[p];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return P(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":return M(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return F(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function D(t){var e=t.length;if(e<=j)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=j));return n}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=Y(t[o]);return i}function U(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function z(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function G(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function $(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(t,e,n,r,o){return o||$(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),i.write(t,e,n,r,23,4),n+4}function V(t,e,n,r,o){return o||$(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||z(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||z(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||z(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||z(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||z(t,e,this.length);var r=e,i=1,o=this[t+--r];while(r>0&&(i*=256))o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||z(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||z(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||z(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||z(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||z(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||z(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||z(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;G(this,t,e,n,i,0)}var o=1,a=0;this[e]=255&t;while(++a<n&&(o*=256))this[e+a]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;G(this,t,e,n,i,0)}var o=n-1,a=1;this[e+o]=255&t;while(--o>=0&&(a*=256))this[e+o]=t/a&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);G(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;this[e]=255&t;while(++o<n&&(a*=256))t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);G(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;this[e+o]=255&t;while(--o>=0&&(a*=256))t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return q(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return q(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return V(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return V(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:K(new c(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function W(t){if(t=X(t).replace(H,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function X(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function K(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if(n=t.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function Z(t,e){for(var n,r,i,o=[],a=0;a<t.length;++a){if((e-=2)<0)break;n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function Q(t){return r.toByteArray(W(t))}function tt(t,e,n,r){for(var i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n("c8ba"))},b69c:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(n("3e72")),i=p(n("d3b1")),o=p(n("891c")),a=n("d966"),s=n("139c"),u=p(n("62d6")),c=p(n("d7e6")),l=h(n("70de"));function p(t){return t&&t.__esModule?t:{default:t}}function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}const f="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D source;\nout vec4 outColor;\n\nvoid main(void) {\n  outColor = texture(source, vec2(outTex.x, outTex.y));\n}\n",d="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n",g="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nuniform sampler2D bias;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(bias, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n  float bias_val = texelFetch(bias, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val + t2_val + bias_val);\n}\n",m="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D t1;\nuniform sampler2D t2;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(t1, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float t1_val = texelFetch(t1, ivec2(out_x, out_y), 0).r;\n  float t2_val = texelFetch(t2, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(t1_val * t2_val);\n}\n",v="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(x, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n\n  outColor = vec4(texelFetch(x, ivec2(out_x, index), 0).r);\n}\n",y="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D y;\nuniform int index;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(y, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  if (out_y == index) {\n    outColor = vec4(texelFetch(x, ivec2(out_x, 0), 0).r);\n  } else {\n    outColor = vec4(texelFetch(y, ivec2(out_x, out_y), 0).r);\n  }\n}\n",_="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D c;\nuniform sampler2D ctm1;\nuniform sampler2D i;\nuniform sampler2D f;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(c, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  float c_val = texelFetch(c, ivec2(out_x, out_y), 0).r;\n  float ctm1_val = texelFetch(ctm1, ivec2(out_x, out_y), 0).r;\n  float i_val = texelFetch(i, ivec2(out_x, out_y), 0).r;\n  float f_val = texelFetch(f, ivec2(out_x, out_y), 0).r;\n\n  outColor = vec4(c_val * i_val + ctm1_val * f_val);\n}\n";class x extends o.default{constructor(t={}){super(t),Object.defineProperty(this,"_combine",{configurable:!0,enumerable:!0,writable:!0,value:(0,c.default)({args:["array","array","array","array"],body:function(t,e,n,r){e+n+r}})}),Object.defineProperty(this,"_update",{configurable:!0,enumerable:!0,writable:!0,value:(0,c.default)({args:["array","array","array","array"],body:function(t,e,n,r){t=t*n+e*r}})}),this.layerClass="LSTM";const{units:e=1,activation:n="tanh",use_bias:i=!0,recurrent_activation:o="hard_sigmoid",return_sequences:s=!1,go_backwards:u=!1,stateful:p=!1}=t;this.units=e,this.activation=n,this.recurrentActivation=o,this.activationFunc=r[n],this.recurrentActivationFunc=r[o],this.use_bias=i,this.returnSequences=s,this.goBackwards=u,this.stateful=p,this.params=this.use_bias?["kernel","recurrent_kernel","bias"]:["kernel","recurrent_kernel"],this.description=`output dimensions: ${this.units}`,this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.description+="linear"!==this.recurrentActivation?`, ${this.recurrentActivation} recurrent activation`:"",this.description+=this.returnSequences?", return sequences":"",this.description+=this.goBackwards?", backward direction":"",this.description+=this.stateful?", stateful":"",this.gpu&&(this.copyTextureProgram=a.webgl2.compileProgram(f),this.matMulProgram=a.webgl2.compileProgram(d),this.activationProgram=a.webgl2.compileProgram(l[this.activation]),this.recurrentActivationProgram=a.webgl2.compileProgram(l[this.recurrentActivation]),this.gateSummationProgram=a.webgl2.compileProgram(g),this.gateProductProgram=a.webgl2.compileProgram(m),this.timestepReadProgram=a.webgl2.compileProgram(v),this.timestepWriteProgram=a.webgl2.compileProgram(y),this.updateProgram=a.webgl2.compileProgram(_))}setWeights(t){super.setWeights(t);const e=this.weights["kernel"].tensor.shape;this.weights["W_i"]=new i.default([],[e[0],this.units]),this.weights["W_f"]=new i.default([],[e[0],this.units]),this.weights["W_c"]=new i.default([],[e[0],this.units]),this.weights["W_o"]=new i.default([],[e[0],this.units]),u.default.assign(this.weights["W_i"].tensor,this.weights["kernel"].tensor.hi(e[0],this.units).lo(0,0)),u.default.assign(this.weights["W_f"].tensor,this.weights["kernel"].tensor.hi(e[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights["W_c"].tensor,this.weights["kernel"].tensor.hi(e[0],3*this.units).lo(0,2*this.units)),u.default.assign(this.weights["W_o"].tensor,this.weights["kernel"].tensor.hi(e[0],4*this.units).lo(0,3*this.units));const n=this.weights["recurrent_kernel"].tensor.shape;if(this.weights["U_i"]=new i.default([],[n[0],this.units]),this.weights["U_f"]=new i.default([],[n[0],this.units]),this.weights["U_c"]=new i.default([],[n[0],this.units]),this.weights["U_o"]=new i.default([],[n[0],this.units]),u.default.assign(this.weights["U_i"].tensor,this.weights["recurrent_kernel"].tensor.hi(n[0],this.units).lo(0,0)),u.default.assign(this.weights["U_f"].tensor,this.weights["recurrent_kernel"].tensor.hi(n[0],2*this.units).lo(0,this.units)),u.default.assign(this.weights["U_c"].tensor,this.weights["recurrent_kernel"].tensor.hi(n[0],3*this.units).lo(0,2*this.units)),u.default.assign(this.weights["U_o"].tensor,this.weights["recurrent_kernel"].tensor.hi(n[0],4*this.units).lo(0,3*this.units)),this.weights["b_i"]=new i.default([],[this.units]),this.weights["b_f"]=new i.default([],[this.units]),this.weights["b_c"]=new i.default([],[this.units]),this.weights["b_o"]=new i.default([],[this.units]),this.use_bias&&(u.default.assign(this.weights["b_i"].tensor,this.weights["bias"].tensor.hi(this.units).lo(0)),u.default.assign(this.weights["b_f"].tensor,this.weights["bias"].tensor.hi(2*this.units).lo(this.units)),u.default.assign(this.weights["b_c"].tensor,this.weights["bias"].tensor.hi(3*this.units).lo(2*this.units)),u.default.assign(this.weights["b_o"].tensor,this.weights["bias"].tensor.hi(4*this.units).lo(3*this.units))),this.gpu){const t=["W_i","W_f","W_c","W_o","U_i","U_f","U_c","U_o","b_i","b_f","b_c","b_o"];t.forEach(t=>{this.weights[t].createGLTexture({type:"2d",format:"float"})})}}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=this.weights["b_i"].tensor.shape[0],n=this.weights["b_c"].tensor.shape[0],r=this.weights["b_f"].tensor.shape[0],o=this.weights["b_o"].tensor.shape[0],a=new i.default([],[e]),c=new i.default([],[e]),l=new i.default([],[e]),p=new i.default([],[r]),h=new i.default([],[r]),f=new i.default([],[r]),d=new i.default([],[o]),g=new i.default([],[o]),m=new i.default([],[o]),v=new i.default([],[n]),y=new i.default([],[n]),_=new i.default([],[n]),x=this.stateful&&this.previousCandidate?this.previousCandidate:new i.default([],[n]),b=this.stateful&&this.currentHiddenState?this.currentHiddenState:new i.default([],[n]),w=new i.default([],[n]);this.hiddenStateSequence=new i.default([],[t.tensor.shape[0],n]);const S=new i.default([],[t.tensor.shape[1]]),T=()=>{u.default.assign(w.tensor,b.tensor),(0,s.gemv)(1,this.weights["W_i"].tensor.transpose(1,0),S.tensor,1,c.tensor),(0,s.gemv)(1,this.weights["U_i"].tensor.transpose(1,0),w.tensor,1,l.tensor),this._combine(a.tensor,c.tensor,l.tensor,this.weights["b_i"].tensor),this.recurrentActivationFunc(a),(0,s.gemv)(1,this.weights["W_f"].tensor.transpose(1,0),S.tensor,1,h.tensor),(0,s.gemv)(1,this.weights["U_f"].tensor.transpose(1,0),w.tensor,1,f.tensor),this._combine(p.tensor,h.tensor,f.tensor,this.weights["b_f"].tensor),this.recurrentActivationFunc(p),(0,s.gemv)(1,this.weights["W_o"].tensor.transpose(1,0),S.tensor,1,g.tensor),(0,s.gemv)(1,this.weights["U_o"].tensor.transpose(1,0),w.tensor,1,m.tensor),this._combine(d.tensor,g.tensor,m.tensor,this.weights["b_o"].tensor),this.recurrentActivationFunc(d),(0,s.gemv)(1,this.weights["W_c"].tensor.transpose(1,0),S.tensor,1,y.tensor),(0,s.gemv)(1,this.weights["U_c"].tensor.transpose(1,0),w.tensor,1,_.tensor),this._combine(v.tensor,y.tensor,_.tensor,this.weights["b_c"].tensor),this.activationFunc(v),this._update(v.tensor,x.tensor,a.tensor,p.tensor),u.default.assign(x.tensor,v.tensor),this.activationFunc(v),u.default.mul(b.tensor,d.tensor,v.tensor)};for(let i=0,s=t.tensor.shape[0];i<s;i++){const e=this.goBackwards?s-i-1:i;u.default.assign(S.tensor,t.tensor.pick(e,null));const n=[c,l,h,f,g,m,y,_];n.forEach(t=>u.default.assigns(t.tensor,0)),T(),u.default.assign(this.hiddenStateSequence.tensor.pick(i,null),b.tensor)}this.returnSequences?this.output=this.hiddenStateSequence:this.output=b,this.stateful&&(this.previousCandidate=x,this.currentHiddenState=b)}_stepGPU(){a.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousHiddenState,inputs:[{input:this.currentHiddenState,name:"source"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXI,inputs:[{input:this.currentX,name:"A"},{input:this.weights["W_i"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHI,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights["U_i"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentInputGateStatePreactiv,inputs:[{input:this.tempXI,name:"t1"},{input:this.tempHI,name:"t2"},{input:this.weights["b_i"],name:"bias"}]}),"linear"!==this.recurrentActivation?a.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentInputGateState,inputs:[{input:this.currentInputGateStatePreactiv,name:"x"}]}):this.currentInputGateState=this.currentInputGateStatePreactiv,a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXF,inputs:[{input:this.currentX,name:"A"},{input:this.weights["W_f"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHF,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights["U_f"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentForgetGateStatePreactiv,inputs:[{input:this.tempXF,name:"t1"},{input:this.tempHF,name:"t2"},{input:this.weights["b_f"],name:"bias"}]}),"linear"!==this.recurrentActivation?a.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentForgetGateState,inputs:[{input:this.currentForgetGateStatePreactiv,name:"x"}]}):this.currentForgetGateState=this.currentForgetGateStatePreactiv,a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXO,inputs:[{input:this.currentX,name:"A"},{input:this.weights["W_o"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHO,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights["U_o"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentOutputGateStatePreactiv,inputs:[{input:this.tempXO,name:"t1"},{input:this.tempHO,name:"t2"},{input:this.weights["b_o"],name:"bias"}]}),"linear"!==this.recurrentActivation?a.webgl2.runProgram({program:this.recurrentActivationProgram,output:this.currentOutputGateState,inputs:[{input:this.currentOutputGateStatePreactiv,name:"x"}]}):this.currentOutputGateState=this.currentOutputGateStatePreactiv,a.webgl2.runProgram({program:this.matMulProgram,output:this.tempXC,inputs:[{input:this.currentX,name:"A"},{input:this.weights["W_c"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.matMulProgram,output:this.tempHC,inputs:[{input:this.previousHiddenState,name:"A"},{input:this.weights["U_c"],name:"B"}],uniforms:[{value:0,type:"bool",name:"addC"}]}),a.webgl2.runProgram({program:this.gateSummationProgram,output:this.currentCandidatePreactiv,inputs:[{input:this.tempXC,name:"t1"},{input:this.tempHC,name:"t2"},{input:this.weights["b_c"],name:"bias"}]}),"linear"!==this.activation?a.webgl2.runProgram({program:this.activationProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidatePreactiv,name:"x"}]}):this.currentCandidate=this.currentCandidatePreactiv,a.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentCandidateCopy,inputs:[{input:this.currentCandidate,name:"source"}]}),a.webgl2.runProgram({program:this.updateProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidateCopy,name:"c"},{input:this.previousCandidate,name:"ctm1"},{input:this.currentInputGateState,name:"i"},{input:this.currentForgetGateState,name:"f"}]}),a.webgl2.runProgram({program:this.copyTextureProgram,output:this.previousCandidate,inputs:[{input:this.currentCandidate,name:"source"}]}),a.webgl2.runProgram({program:this.copyTextureProgram,output:this.currentCandidatePreactiv,inputs:[{input:this.currentCandidate,name:"source"}]}),"linear"!==this.activation?a.webgl2.runProgram({program:this.activationProgram,output:this.currentCandidate,inputs:[{input:this.currentCandidatePreactiv,name:"x"}]}):this.currentCandidate=this.currentCandidatePreactiv,a.webgl2.runProgram({program:this.gateProductProgram,output:this.currentHiddenState,inputs:[{input:this.currentOutputGateState,name:"t1"},{input:this.currentCandidate,name:"t2"}]})}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=this.weights["b_i"].glTextureShape[1],n=this.weights["b_c"].glTextureShape[1],r=this.weights["b_f"].glTextureShape[1],o=this.weights["b_o"].glTextureShape[1];this.currentInputGateState||(this.currentInputGateState=new i.default([],[e]),this.currentInputGateState.createGLTexture({type:"2d",format:"float"})),this.currentInputGateStatePreactiv||(this.currentInputGateStatePreactiv=new i.default([],[e]),this.currentInputGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXI||(this.tempXI=new i.default([],[e]),this.tempXI.createGLTexture({type:"2d",format:"float"})),this.tempHI||(this.tempHI=new i.default([],[e]),this.tempHI.createGLTexture({type:"2d",format:"float"})),this.currentForgetGateState||(this.currentForgetGateState=new i.default([],[r]),this.currentForgetGateState.createGLTexture({type:"2d",format:"float"})),this.currentForgetGateStatePreactiv||(this.currentForgetGateStatePreactiv=new i.default([],[r]),this.currentForgetGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXF||(this.tempXF=new i.default([],[r]),this.tempXF.createGLTexture({type:"2d",format:"float"})),this.tempHF||(this.tempHF=new i.default([],[r]),this.tempHF.createGLTexture({type:"2d",format:"float"})),this.currentOutputGateState||(this.currentOutputGateState=new i.default([],[o]),this.currentOutputGateState.createGLTexture({type:"2d",format:"float"})),this.currentOutputGateStatePreactiv||(this.currentOutputGateStatePreactiv=new i.default([],[o]),this.currentOutputGateStatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXO||(this.tempXO=new i.default([],[o]),this.tempXO.createGLTexture({type:"2d",format:"float"})),this.tempHO||(this.tempHO=new i.default([],[o]),this.tempHO.createGLTexture({type:"2d",format:"float"})),this.currentCandidate||(this.currentCandidate=new i.default([],[n]),this.currentCandidate.createGLTexture({type:"2d",format:"float"})),this.currentCandidateCopy||(this.currentCandidateCopy=new i.default([],[n]),this.currentCandidateCopy.createGLTexture({type:"2d",format:"float"})),this.currentCandidatePreactiv||(this.currentCandidatePreactiv=new i.default([],[n]),this.currentCandidatePreactiv.createGLTexture({type:"2d",format:"float"})),this.tempXC||(this.tempXC=new i.default([],[n]),this.tempXC.createGLTexture({type:"2d",format:"float"})),this.tempHC||(this.tempHC=new i.default([],[n]),this.tempHC.createGLTexture({type:"2d",format:"float"})),this.previousCandidate&&this.stateful||(this.previousCandidate=new i.default([],[n]),this.previousCandidate.createGLTexture({type:"2d",format:"float"})),this.currentHiddenState&&this.stateful||(this.currentHiddenState=new i.default([],[n]),this.currentHiddenState.createGLTexture({type:"2d",format:"float"})),this.previousHiddenState||(this.previousHiddenState=new i.default([],[n]),this.previousHiddenState.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequence||(this.hiddenStateSequence=new i.default([],[t.glTextureShape[0],n]),this.hiddenStateSequence.createGLTexture({type:"2d",format:"float"})),this.hiddenStateSequenceCopy||(this.hiddenStateSequenceCopy=new i.default([],[t.glTextureShape[0],n]),this.hiddenStateSequenceCopy.createGLTexture({type:"2d",format:"float"})),this.currentX||(this.currentX=new i.default([],[t.glTextureShape[1]]),this.currentX.createGLTexture({type:"2d",format:"float"}));for(let i=0,s=t.glTextureShape[0];i<s;i++){const e=this.goBackwards?s-i-1:i;a.webgl2.runProgram({program:this.timestepReadProgram,output:this.currentX,inputs:[{input:t,name:"x"}],uniforms:[{value:e,type:"int",name:"index"}]}),this._stepGPU(),this.returnSequences&&(a.webgl2.runProgram({program:this.copyTextureProgram,output:this.hiddenStateSequenceCopy,inputs:[{input:this.hiddenStateSequence,name:"source"}]}),a.webgl2.runProgram({program:this.timestepWriteProgram,output:this.hiddenStateSequence,inputs:[{input:this.currentHiddenState,name:"x"},{input:this.hiddenStateSequenceCopy,name:"y"}],uniforms:[{value:i,type:"int",name:"index"}]}))}this.returnSequences?this.output=this.hiddenStateSequence:this.output=this.currentHiddenState,0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=x},b6e4:function(t,e,n){n("ec30")("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},b72c:function(t,e,n){var r=n("5ca1"),i=n("d752");r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},b80b:function(t,e,n){var r=n("4f7f"),i=n("4379"),o=n("37a7"),a=n("cb7c"),s=n("38fd"),u=o.keys,c=o.key,l=function(t,e){var n=u(t,e),o=s(t);if(null===o)return n;var a=l(o,e);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(t){return l(a(t),arguments.length<2?void 0:c(arguments[1]))}})},b8c7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=p(n("d180")),i=p(n("e7fa")),o=p(n("d3b1")),a=n("d966"),s=p(n("c0de")),u=l(n("c022")),c=p(n("54f6"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}class h extends i.default{constructor(t={}){super(t),this.layerClass="Concatenate",this.mode="concat";const{axis:e=-1}=t;this.concatAxis=e<=0?e:e-1}_callCPU(t){const e=t[0].tensor.shape.slice(),n=this.concatAxis<0?e.length+this.concatAxis:this.concatAxis;if(t.slice(1,t.length).forEach(t=>{const r=t.tensor.shape.slice()[n];e[n]+=r}),this.output=new o.default([],e),0===n)(0,c.default)(this.output.tensor,t.map(t=>t.tensor));else{let e=[n];for(let r=0;r<t[0].tensor.shape.length;r++)r!==n&&e.push(r);(0,c.default)(this.output.tensor.transpose(...e),t.map(t=>t.tensor.transpose(...e)))}}_callGPU(t){t.forEach(t=>{t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})});const e=t[0].glTextureShape.slice();let n=1;if(t[0].is2DReshaped?-1===this.concatAxis||this.concatAxis===t[0].originalShape.length-1?n=1:this.throwError("specified axis not supported for now."):-1===this.concatAxis||1===this.concatAxis?n=1:-2===this.concatAxis||0===this.concatAxis?n=0:this.throwError("specified axis not supported for now."),e[n]=(0,r.default)(t.map(t=>t.glTextureShape[n])),!this.output)if(this.output=new o.default([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:1===n}),t[0].is1D)this.output.is1D=t[0].is1D;else if(t[0].is2DReshaped){this.output.is2DReshaped=t[0].is2DReshaped,this.output.originalShape=t[0].originalShape.slice();const e=this.concatAxis<0?this.output.originalShape.length+this.concatAxis:this.concatAxis;this.output.originalShape[e]=(0,r.default)(t.map(t=>t.originalShape[e])),this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.output.originalShape,!1,e)}if(!this.mergeProgram){const e=this.output.glTextureFragments?this.output.glTextureFragmentShape:this.output.glTextureShape,r=(0,s.default)("concatenate",t.length,t.map(t=>t.glTextureShape),e,n);this.mergeProgram=a.webgl2.compileProgram(r)}a.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:t.map((t,e)=>({input:t,name:`inputs[${e}]`})),supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=h},b9a1:function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("6a99"),a=n("38fd"),s=n("11e9").f;n("9e1e")&&r(r.P+n("c5b4"),"Object",{__lookupGetter__:function(t){var e,n=i(this),r=o(t,!0);do{if(e=s(n,r))return e.get}while(n=a(n))}})},ba10:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,o),!0;case 6:return l.fn.call(l.context,e,n,r,o,a),!0}for(c=1,u=new Array(p-1);c<p;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,f=l.length;for(c=0;c<f;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),p){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,r);break;default:if(!u)for(h=1,u=new Array(p-1);h<p;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},ba16:function(t,e,n){var r=n("5ca1"),i=n("11e9").f,o=n("cb7c");r(r.S,"Reflect",{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},ba6e:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},ba92:function(t,e,n){"use strict";var r=n("4bf8"),i=n("77f1"),o=n("9def");t.exports=[].copyWithin||function(t,e){var n=r(this),a=o(n.length),s=i(t,a),u=i(e,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),p=1;u<s&&s<u+l&&(p=-1,u+=l-1,s+=l-1);while(l-- >0)u in n?n[s]=n[u]:delete n[s],s+=p,u+=p;return n}},badf:function(t,e,n){var r=n("642a"),i=n("1838"),o=n("cd9d"),a=n("6747"),s=n("f9ce");function u(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}t.exports=u},baea:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("891c"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GaussianDropout";const{rate:e=.5}=t;this.rate=Math.min(Math.max(0,e),1)}call(t){return this.output=t,this.output}}e.default=o},bbc0:function(t,e,n){var r=n("6044"),i="__lodash_hash_undefined__",o=Object.prototype,a=o.hasOwnProperty;function s(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return a.call(e,t)?e[t]:void 0}t.exports=s},bcaa:function(t,e,n){var r=n("cb7c"),i=n("d3f4"),o=n("a5b8");t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},bcc9:function(t,e,n){"use strict";function r(t,e){const n=`#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D inputs[2];\nout vec4 outColor;\n\nvoid main() {\n  int out_y = int(float(${e[0]}) * outTex.y);\n  int out_x = int(float(${e[1]}) * outTex.x);\n  \n  outColor = vec4(texelFetch(inputs[0], ivec2(out_x, out_y), 0).r - texelFetch(inputs[1], ivec2(out_x, out_y), 0).r);\n}\n`;return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},bd50:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("63ea")),i=a(n("891c")),o=a(n("d3b1"));function a(t){return t&&t.__esModule?t:{default:t}}class s extends i.default{constructor(t={}){super(t),this.layerClass="InputLayer";const{shape:e=[]}=t;this.shape=t.batch_input_shape&&t.batch_input_shape.length?t.batch_input_shape.slice(1):e,this.description=`shape: ${JSON.stringify(this.shape)}`}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.inputShape=t.tensor.shape,(0,r.default)(this.inputShape,this.shape)||this.throwError(`input tensor shape ${t.tensor.shape} does not match specified shape ${this.shape}.`),this.output=new o.default(t.tensor.data,t.tensor.shape)}_callGPU(t){(t.glTexture||t.glTextureFragments)&&(t.is2DReshaped||t.is2DSquareReshaped)?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape,(0,r.default)(this.inputShape,this.shape)||this.throwError(`input tensor shape ${t.tensor.shape} does not match specified shape ${this.shape}.`),t.glTexture||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}):t.tensor.shape.length>2&&(t.reshapeTo2D(),t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}))),this.output=t}}e.default=s},bdd1:function(t,e,n){n("c6a1")("WeakSet")},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bef9:function(t,e,n){var r=n("2d95");t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},c022:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkShape=s,e.data3DLayoutForGL=u,e.createIndicesFor2DReshaped=c;var r=a(n("5a3a")),i=a(n("b5bb")),o=a(n("62d6"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(t.length&&e.length&&t.length!==e.reduce((t,e)=>t*e,1))throw new Error("[Tensor] specified shape incompatible with data.")}function u(t,e,n){const r=new t(e.data.length),a=(0,i.default)(new t(n[0]*n[1]),[n[0],n[1]]);let s=0;for(let i=0;i<n[2];i++)o.default.assign(a,e.pick(null,null,i)),r.set(a.data,s),s+=n[0]*n[1];return r}function c(t,e=!1,n=-1){const a=t.reduce((t,e)=>t*e,1),s=(0,i.default)(new Int32Array(a),t);if(e){const t=Math.ceil(Math.sqrt(a)),e=(0,i.default)(new Int32Array(t**2),[t,t]),n=(0,i.default)(new Int32Array(t**2),[t,t]),r=(0,i.default)(new Int32Array(t**2),[t,t]);for(let i=0;i<t;i++)o.default.assigns(e.pick(i,null),i);for(let i=0;i<t;i++)o.default.assigns(n.pick(null,i),i);o.default.muls(r,e,t),o.default.addeq(r,n),s.data.set(r.data.subarray(0,s.size))}else{n<0&&(n=t.length+n);const e=t[n],u=(0,i.default)(new Int32Array(a),t),c=(0,i.default)(new Int32Array(a),t),l=[...t.slice(0,n),...t.slice(n+1)],p=l.reduce((t,e)=>t*e,1),h=(0,i.default)(new Int32Array((0,r.default)(p)),l),f=Array(t.length).fill(null);for(let t=0;t<e;t++)f[n]=t,o.default.assign(u.pick(...f),h),o.default.assigns(c.pick(...f),t);o.default.muls(s,u,e),o.default.addeq(s,c)}return s}},c02b:function(t,e,n){"use strict";var r=n("643e"),i=n("b39a"),o="WeakSet";n("e0b8")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,o),t,!0)}},r,!1,!0)},c05f:function(t,e,n){var r=n("7b97"),i=n("1310");function o(t,e,n,a,s){return t===e||(null==t||null==e||!i(t)&&!i(e)?t!==t&&e!==e:r(t,e,n,a,o,s))}t.exports=o},c065:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("c141"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="AveragePooling3D",this.poolingFunc="average"}}e.default=o},c098:function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function i(t,e){var i=typeof t;return e=null==e?n:e,!!e&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}t.exports=i},c0de:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var r=f(n("483b")),i=f(n("64db")),o=f(n("0519")),a=f(n("1303")),s=f(n("8a32")),u=f(n("17bb")),c=f(n("bcc9")),l=f(n("3089")),p=f(n("00d1")),h=f(n("63a6"));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,...e){switch(t){case"add":return(0,r.default)(...e);case"average":return(0,i.default)(...e);case"concatenate":return(0,o.default)(...e);case"maximum":return(0,a.default)(...e);case"minimum":return(0,s.default)(...e);case"multiply":return(0,u.default)(...e);case"subtract":return(0,c.default)(...e);case"conv2d":return(0,l.default)(...e);case"conv2dTranspose":return(0,p.default)(...e);case"cam":return(0,h.default)(...e);default:throw new Error("GLSL program not found")}}},c141:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("891c")),i=c(n("d3b1")),o=n("d966"),a=u(n("c022")),s=c(n("62d6"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function c(t){return t&&t.__esModule?t:{default:t}}const l="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(textureSize(poolIndexMap, 0)[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    if (poolIndex != -1) {\n      float val2 = texelFetch(x, ivec2(out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n",p="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D poolIndexMap;\nuniform int channels;\nuniform int poolSize;\nuniform bool isMaxPooling;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(poolIndexMap, 0);\n  int out_x = int(float(channels) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  float val = 0.;\n  int count = 0;\n  for (int i = 0; i < poolSize; ++i) {\n    int poolIndex = texelFetch(poolIndexMap, ivec2(i, out_y), 0).r;\n    int fragmentIndex = int(floor(float(poolIndex) / float(inputSize[1])));\n    if (poolIndex != -1) {\n      poolIndex = int(mod(float(poolIndex), float(inputSize[1])));\n      float val2 = texelFetch(x, ivec2(fragmentIndex * channels + out_x, poolIndex), 0).r;\n      if (isMaxPooling) {\n        if (count == 0 || val2 > val) {\n          val = val2;\n        }\n      } else {\n        val += val2;\n      }\n      count += 1;\n    }\n  }\n\n  if (!isMaxPooling) {\n    val /= float(count);\n  }\n\n  outColor = vec4(val);\n}\n";class h extends r.default{constructor(t={}){super(t),this.layerClass="_Pooling3D";const{pool_size:e=[2,2,2],strides:n=null,padding:r="valid",data_format:i="channels_last"}=t;Array.isArray(e)?this.poolSize=e:this.poolSize=[e,e,e],Array.isArray(n)?this.strides=n:this.strides=null!==n?[n,n,n]:this.poolSize,this.padding=r,this.dataFormat=i,this.poolingFunc="max",this.description=`pool size ${this.poolSize.join("x")}`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.gpu&&(this.poolingProgram=o.webgl2.compileProgram(l),this.poolingFragmentsProgram=o.webgl2.compileProgram(p))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const[e,n,r,i]=t,[o,a,s]=this.poolSize,u="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-o+this.strides[0])/this.strides[0]),c="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-a+this.strides[1])/this.strides[1]),l="same"===this.padding?Math.floor((r+this.strides[2]-1)/this.strides[2]):Math.floor((r-s+this.strides[2])/this.strides[2]),p="same"===this.padding?Math.max(0,Math.floor((u-1)*this.strides[0]+o-e)):0,h="same"===this.padding?Math.max(0,Math.floor((c-1)*this.strides[1]+a-n)):0,f="same"===this.padding?Math.max(0,Math.floor((l-1)*this.strides[2]+s-r)):0,d=Math.floor(p/2),g=p-d,m=Math.floor(h/2),v=h-m,y=Math.floor(f/2),_=f-y;this.outputShape=[u,c,l,i],this.inputPadding=[d,g,m,v,y,_]}_padInput(t){if("same"===this.padding){const[e,n,r,o]=t.tensor.shape,[a,u,c,l,p,h]=this.inputPadding,f=e+a+u,d=n+c+l,g=r+p+h,m=new i.default([],[f,d,g,o]);return"max"===this.poolingFunc&&s.default.assigns(m.tensor,Number.NEGATIVE_INFINITY),s.default.assign(m.tensor.hi(e+a,n+c,r+p,o).lo(a,c,p,0),t.tensor),m}return t}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this._calcOutputShape(t.tensor.shape),t=this._padInput(t);const[e,n,r,o]=t.tensor.shape,[a,u,c]=this.poolSize;this.output=new i.default([],this.outputShape);let l=new i.default([],[a,u,c,o]);const[p,h,f,d,g,m]=this.inputPadding;for(let i=0,v=0;i<=e-a;i+=this.strides[0],v++){let y=0;i<p?y=p-i:i+a>e-h&&(y=i+a-(e-h));for(let e=0,p=0;e<=n-u;e+=this.strides[1],p++){let h=0;e<f?h=f-e:e+u>n-d&&(h=e+u-(n-d));for(let n=0,f=0;n<=r-c;n+=this.strides[2],f++){let d=0;n<g?d=g-n:n+c>r-m&&(d=n+c-(r-m));const _=(a-y)*(u-h)*(c-d);s.default.assign(l.tensor,t.tensor.hi(i+a,e+u,n+c,o).lo(i,e,n,0));for(let t=0;t<o;t++)"max"===this.poolingFunc?this.output.tensor.set(v,p,f,t,s.default.sup(l.tensor.pick(null,null,null,t))):"average"===this.poolingFunc&&this.output.tensor.set(v,p,f,t,s.default.sum(l.tensor.pick(null,null,null,t))/_)}}}"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_vol2col(t){const[e,n,r,o]=t.tensor.shape;this.tiledInput||(this.tiledInput=new i.default([],[e*n*r,o]));const a=new i.default([],[e,n,r]),u=new i.default([],[e*n*r]);for(let i=0;i<o;i++)s.default.assign(a.tensor,t.tensor.pick(null,null,null,i)),u.replaceTensorData(a.tensor.data),s.default.assign(this.tiledInput.tensor.pick(null,i),u.tensor);return this.tiledInput}_createIndexMap(){if(this.poolIndexMap)return;let t=this.inputShape[0],e=this.inputShape[1],n=this.inputShape[2];const r=new i.default([],[t,e,n]);let o=0;for(let i=0;i<t;i++)for(let t=0;t<e;t++)for(let e=0;e<n;e++)r.tensor.set(i,t,e,o),o+=1;if("same"===this.padding){const[o,a,u,c,l,p]=this.inputPadding;t=t+o+a,e=e+u+c,n=n+l+p;const h=new i.default([],[t,e,n]);s.default.assigns(h.tensor,-1),s.default.assign(h.tensor.hi(this.inputShape[0]+o,this.inputShape[1]+u,this.inputShape[2]+l).lo(o,u,l),r.tensor),r.tensor=h.tensor}const[a,u,c]=this.poolSize,l=this.outputShape[0],p=this.outputShape[1],h=this.outputShape[2];this.poolIndexMap=new i.default([],[l*p*h,a*u*c],{type:Int32Array});const f=new i.default([],[a,u,c]);let d=0;for(let i=0,g=t-a;i<=g;i+=this.strides[0])for(let t=0,o=e-u;t<=o;t+=this.strides[1])for(let e=0,l=n-c;e<=l;e+=this.strides[2])s.default.assign(f.tensor,r.tensor.hi(i+a,t+u,e+c).lo(i,t,e)),this.poolIndexMap.tensor.data.set(f.tensor.data,d),d+=a*u*c;this.poolIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){if(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:("channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this._vol2col(t),this.tiledInput.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})),this._calcOutputShape(this.inputShape),this._createIndexMap(),!this.output){const[t,e,n,r]=this.outputShape,o=[t*e*n,r];this.output=new i.default([],o),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=a.createIndicesFor2DReshaped(this.outputShape,!1,-1)}const e=t.is2DReshaped||t.is2DSquareReshaped?t:this.tiledInput,n=this.poolSize[0]*this.poolSize[1]*this.poolSize[2],r="max"===this.poolingFunc,s=[{value:this.output.glTextureShape[1],type:"int",name:"channels"},{value:n,type:"int",name:"poolSize"},{value:+r,type:"bool",name:"isMaxPooling"}];e.glTextureFragments?(e.convert2DRowFragmentedGLTextureToColStack(),o.webgl2.runProgram({program:this.poolingFragmentsProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:s,supportsTextureFragments:!0}),e.removeGLTextureFragmentsAsColStack()):o.webgl2.runProgram({program:this.poolingProgram,output:this.output,inputs:[{input:e,name:"x"},{input:this.poolIndexMap,name:"poolIndexMap"}],uniforms:s}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2)))}}e.default=h},c1c9:function(t,e,n){var r=n("a454"),i=n("f3c1"),o=i(r);t.exports=o},c1dc:function(t,e,n){"use strict";function r(){console.error("SPR (symmetric packed rank 2 operation A := alpha*x*y' + alpha*y*x' + A) not yet implemented")}t.exports=r},c26b:function(t,e,n){"use strict";var r=n("86cc").f,i=n("2aeb"),o=n("dcbc"),a=n("9b43"),s=n("f605"),u=n("4a59"),c=n("01f9"),l=n("d53b"),p=n("7a56"),h=n("9e1e"),f=n("67ab").fastKey,d=n("b39a"),g=h?"_s":"size",m=function(t,e){var n,r=f(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=r&&u(r,n,t[c],t)});return o(l.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),r=m(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){d(this,e);var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!m(d(this,e),t)}}),h&&r(l.prototype,"size",{get:function(){return d(this,e)[g]}}),l},def:function(t,e,n){var r,i,o=m(t,e);return o?o.v=n:(t._l=o={i:i=f(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:m,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),p(e)}}},c2f8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D X;\nuniform isampler2D normAxisIndexMap;\nuniform sampler2D gamma;\nuniform sampler2D beta;\nuniform sampler2D mean;\nuniform sampler2D std;\nuniform float epsilon;\nuniform bool scale;\nuniform bool center;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(X, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\nint normAxisIndex = texelFetch(normAxisIndexMap, ivec2(out_x, out_y), 0).r;\n\n  float _x = texelFetch(X, ivec2(out_x, out_y), 0).r;\n  float _mean = texelFetch(mean, ivec2(normAxisIndex, 0), 0).r;\n  float _std = texelFetch(std, ivec2(normAxisIndex, 0), 0).r;\n\n  float _gamma = 1.0;\n  if (scale) {\n    _gamma = texelFetch(gamma, ivec2(normAxisIndex, 0), 0).r;\n  }\n\n  float _beta = 0.0;\n  if (center) {\n    _beta = texelFetch(beta, ivec2(normAxisIndex, 0), 0).r;\n  }\n\n  float sum = _beta + _gamma * (_x - _mean) / sqrt(_std + epsilon);\n\n  outColor = vec4(sum);\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="BatchNormalization";const{epsilon:e=.001,axis:n=-1,center:r=!0,scale:i=!0}=t;this.epsilon=e,this.center=r,this.scale=i,this.axis=n,this.axisNormalized=!1,this.params=[],this.scale&&this.params.push("gamma"),this.center&&this.params.push("beta"),this.params=this.params.concat(["moving_mean","moving_variance"]),this.gpu&&(this.program=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.axisNormalized||(this.axis=this.axis<0?t.tensor.shape.length+this.axis:this.axis-1,this.axisNormalized=!0);let e=[];for(let i=0;i<t.tensor.shape.length;i++)i===this.axis?e.push(1):e.push(null);let n=new i.default([],t.tensor.shape),r=new i.default([],t.tensor.shape);for(let i=0;i<t.tensor.shape[this.axis];i++)e[this.axis]=i,this.scale&&a.default.assigns(n.tensor.pick(...e),this.weights["gamma"].tensor.get(i)),this.center&&a.default.assigns(r.tensor.pick(...e),this.weights["beta"].tensor.get(i));let o=new i.default([],t.tensor.shape),s=new i.default([],t.tensor.shape);for(let i=0;i<t.tensor.shape[this.axis];i++)e[this.axis]=i,a.default.assigns(o.tensor.pick(...e),this.weights["moving_mean"].tensor.get(i)),a.default.assigns(s.tensor.pick(...e),this.weights["moving_variance"].tensor.get(i)+this.epsilon);a.default.sqrteq(s.tensor),this.output=new i.default(t.tensor.data,t.tensor.shape),a.default.subeq(this.output.tensor,o.tensor),a.default.diveq(this.output.tensor,s.tensor),this.scale&&a.default.muleq(this.output.tensor,n.tensor),this.center&&a.default.addeq(this.output.tensor,r.tensor)}_createIndexMap(t,e){if(this.normAxisIndexMap)return;const n=new i.default([],this.inputShape,{type:Int32Array});this.normAxisIndexMap=new i.default([],t,{type:Int32Array});const r=Array(this.inputShape.length).fill(null);for(let i=0;i<this.inputShape[this.axis];i++)r[this.axis]=i,a.default.assigns(n.tensor.pick(...r),i);if(e)for(let i=0;i<e.data.length;i++)this.normAxisIndexMap.tensor.data[e.data[i]]=n.tensor.data[i];else this.normAxisIndexMap=n;this.normAxisIndexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){this.axisNormalized||(t.is2DReshaped||t.is2DSquareReshaped?this.inputShape=t.originalShape:this.inputShape=t.tensor.shape,this.axis=this.axis<0?this.inputShape.length+this.axis:this.axis-1,this.axisNormalized=!0),t.glTexture||t.glTextureFragments||(t.tensor.shape.length<=2?t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}):t.tensor.shape.length>2&&!t.is2DReshaped&&(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}))),this._createIndexMap(t.glTextureShape,t.indicesForReshaped),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped));const e=[{input:t,name:"X"},{input:this.normAxisIndexMap,name:"normAxisIndexMap"}];this.scale&&e.push({input:this.weights["gamma"],name:"gamma"}),this.center&&e.push({input:this.weights["beta"],name:"beta"}),e.push({input:this.weights["moving_mean"],name:"mean"}),e.push({input:this.weights["moving_variance"],name:"std"});const n=[{value:this.epsilon,type:"float",name:"epsilon"},{value:+this.scale,type:"bool",name:"scale"},{value:+this.center,type:"bool",name:"center"}];o.webgl2.runProgram({program:this.program,output:this.output,inputs:e,uniforms:n,supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=c},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},c445:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("891c")),i=u(n("d3b1")),o=n("d966"),a=u(n("1f4e")),s=u(n("9389"));function u(t){return t&&t.__esModule?t:{default:t}}const c="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(x, vec2(outTex.x, 0));\n}\n";class l extends r.default{constructor(t={}){super(t),this.layerClass="RepeatVector";const{n:e=1}=t;this.n=e,this.description=`n = ${e}`,this.gpu&&(this.program=o.webgl2.compileProgram(c))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){1!==t.tensor.shape.length&&this.throwError("Only 1D tensor inputs allowed."),this.output=new i.default([],[this.n,t.tensor.shape[1]]),this.output.tensor=(0,s.default)((0,a.default)(t.tensor,0),[this.n,1])}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),this.output||(this.output=new i.default([],[this.n,t.glTextureShape[1]]),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=l},c45f:function(t,e,n){"use strict";var r=n("1169"),i=n("d3f4"),o=n("9def"),a=n("9b43"),s=n("2b4c")("isConcatSpreadable");function u(t,e,n,c,l,p,h,f){var d,g,m=l,v=0,y=!!h&&a(h,f,3);while(v<c){if(v in n){if(d=y?y(n[v],v,e):n[v],g=!1,i(d)&&(g=d[s],g=void 0!==g?!!g:r(d)),g&&p>0)m=u(t,e,d,o(d.length),m,p-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=d}m++}v++}return m}t.exports=u},c526:function(t,e,n){"use strict";t.exports=function(t){var e,n=t.data,r=t.stride[0],i=t.offset,o=0;for(e=t.shape[0]-1;e>=0;e--,i+=r)o+=Math.abs(n[i]);return o}},c584:function(t,e){function n(t,e){return t.has(e)}t.exports=n},c5a0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TimeDistributed",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Bidirectional",{enumerable:!0,get:function(){return i.default}});var r=o(n("77b3")),i=o(n("1070"));function o(t){return t&&t.__esModule?t:{default:t}}},c5b4:function(t,e,n){"use strict";t.exports=n("2d00")||!n("79e5")(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n("7726")[t]})},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),a=n("5dbc"),s=n("6a99"),u=n("79e5"),c=n("9093").f,l=n("11e9").f,p=n("86cc").f,h=n("aa77").trim,f="Number",d=r[f],g=d,m=d.prototype,v=o(n("2aeb")(m))==f,y="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():h(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if(a=u.charCodeAt(c),a<48||a>i)return NaN;return parseInt(u,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(v?u(function(){m.valueOf.call(n)}):o(n)!=f)?a(new g(_(e)),n,d):_(e)};for(var x,b=n("9e1e")?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(g,x=b[w])&&!i(d,x)&&p(d,x,l(g,x));d.prototype=m,m.constructor=d,n("2aba")(r,f,d)}},c66f:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0f88"),o=n("ed0b"),a=n("cb7c"),s=n("77f1"),u=n("9def"),c=n("d3f4"),l=n("7726").ArrayBuffer,p=n("ebd6"),h=o.ArrayBuffer,f=o.DataView,d=i.ABV&&l.isView,g=h.prototype.slice,m=i.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(l!==h),{ArrayBuffer:h}),r(r.S+r.F*!i.CONSTR,v,{isView:function(t){return d&&d(t)||c(t)&&m in t}}),r(r.P+r.U+r.F*n("79e5")(function(){return!new h(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(a(this),t);var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(p(this,h))(u(i-r)),c=new f(this),l=new f(o),d=0;while(r<i)l.setUint8(d++,c.getUint8(r++));return o}}),n("7a56")(v)},c698:function(t,e,n){var r=n("5ca1");r(r.S,"Reflect",{ownKeys:n("990b")})},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c6a1:function(t,e,n){"use strict";var r=n("5ca1");t.exports=function(t){r(r.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},c6cf:function(t,e,n){var r=n("4d8c"),i=n("2286"),o=n("c1c9");function a(t){return o(i(t,void 0,r),t+"")}t.exports=a},c775:function(t,e,n){var r=n("5ca1");r(r.S,"Math",{scale:n("e9d2")})},c7c6:function(t,e,n){var r=n("5ca1"),i=Math.abs;r(r.S,"Math",{hypot:function(t,e){var n,r,o=0,a=0,s=arguments.length,u=0;while(a<s)n=i(arguments[a++]),u<n?(r=u/n,o=o*r*r+1,u=n):n>0?(r=n/u,o+=r*r):o+=n;return u===1/0?1/0:u*Math.sqrt(o)}})},c7c62:function(t,e,n){var r=n("5ca1"),i=n("2d5c"),o=Math.exp;r(r.S,"Math",{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},c7ca:function(t,e,n){n("3a72")("observable")},c869:function(t,e,n){var r=n("0b07"),i=n("2b3e"),o=r(i,"Set");t.exports=o},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},c8ce:function(t,e,n){var r=n("2b4c")("toPrimitive"),i=Date.prototype;r in i||n("32e9")(i,r,n("8381"))},c8d4:function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)n=t.charCodeAt(r),n<128?e+=1:n<2048?e+=2:55296===(64512&n)&&56320===(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){var r=n-e;if(r<1)return"";var i,o=null,a=[],s=0;while(e<n)i=t[e++],i<128?a[s++]=i:i>191&&i<224?a[s++]=(31&i)<<6|63&t[e++]:i>239&&i<365?(i=((7&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,a[s++]=55296+(i>>10),a[s++]=56320+(1023&i)):a[s++]=(15&i)<<12|(63&t[e++])<<6|63&t[e++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))},r.write=function(t,e,n){for(var r,i,o=n,a=0;a<t.length;++a)r=t.charCodeAt(a),r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-o}},c92f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BatchNormalization",{enumerable:!0,get:function(){return r.default}});var r=i(n("c2f8"));function i(t){return t&&t.__esModule?t:{default:t}}},c9c7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("0cf3"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="MaxPooling1D",this.poolingFunc="max"}}e.default=o},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){"use strict";var r=n("9c6c"),i=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb13:function(t,e,n){"use strict";var r=n("3b33");t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},cb5a:function(t,e,n){var r=n("9638");function i(t,e){var n=t.length;while(n--)if(r(t[n][0],e))return n;return-1}t.exports=i},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},cb9c:function(t,e,n){"use strict";var r=n("3b33");t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},cbb2:function(t,e,n){"use strict";function r(){console.error("TPSV (triangular packed matrix solver) not yet implemented")}t.exports=r},ccee:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=p(n("891c")),i=p(n("d3b1")),o=l(n("3e72")),a=n("d966"),s=n("139c"),u=p(n("62d6")),c=l(n("70de"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}const h="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n";class f extends r.default{constructor(t={}){super(t),this.layerClass="Dense";const{units:e=1,activation:n="linear",input_dim:r=null,use_bias:i=!0}=t;this.description=`${n} activation, output dimensions: ${e}`,this.activation=n,this.activationFunc=o[this.activation],this.units=e,this.input_dim=r,this.use_bias=i,this.params=this.use_bias?["kernel","bias"]:["kernel"],this.input_dim&&(this.inputShape=[this.input_dim]),this.gpu&&(this.matMulProgram=a.webgl2.compileProgram(h),this.activationProgram=a.webgl2.compileProgram(c[this.activation]))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=new i.default([],[this.units]),this.use_bias&&u.default.assign(this.output.tensor,this.weights["bias"].tensor),(0,s.gemv)(1,this.weights["kernel"].tensor.transpose(1,0),t.tensor,1,this.output.tensor),this.activationFunc(this.output)}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"}),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new i.default([],[this.units]),this.outputPreactiv.createGLTexture({type:"2d",format:"float"})),this.output||(this.output=new i.default([],[this.units]),this.output.createGLTexture({type:"2d",format:"float"}));const e=[{input:t,name:"A"},{input:this.weights["kernel"],name:"B"}];this.use_bias&&e.push({input:this.weights["bias"],name:"C"}),a.webgl2.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:e,uniforms:[{value:this.use_bias?1:0,type:"bool",name:"addC"}]}),"linear"!==this.activation&&a.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}]}),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=f},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},cd9d:function(t,e){function n(t){return t}t.exports=n},cdc6:function(t,e,n){"use strict";Math.sign=Math.sign||function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},t.exports=function(t,e,n){var r=0,i=0,o=0,a=0,s=0;if(0===e?(r=Math.sign(t),i=0,o=Math.abs(t)):0===t?(r=0,i=Math.sign(e),o=Math.abs(e)):Math.abs(t)>Math.abs(e)?(a=e/t,s=Math.sign(t)*Math.sqrt(1+a*a),r=1/s,i=a*r,o=t*s):(a=t/e,s=Math.sign(t)*Math.sqrt(1+a*a),i=1/s,r=a*i,o=e*s),!(void 0!==n&&n.length>2))return[r,i,o];n[0]=r,n[1]=i,n[2]=o}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);while(e.length>u)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},ce86:function(t,e,n){var r=n("9e69"),i=n("7948"),o=n("6747"),a=n("ffd6"),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;function l(t){if("string"==typeof t)return t;if(o(t))return i(t,l)+"";if(a(t))return c?c.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}t.exports=l},cea5:function(t,e,n){"use strict";(function(t,r){var i=n("a48a"),o=n("84af");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!==typeof Uint8ClampedArray,s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var u=s.DATA,c=s.BUFFER;function l(t){if(t){var e=t.length||t.byteLength,n=i.log2(e);u[n].push(t)}}function p(t){l(t.buffer)}function h(t){t=i.nextPow2(t);var e=i.log2(t),n=u[e];return n.length>0?n.pop():new ArrayBuffer(t)}function f(t){return new Uint8Array(h(t),0,t)}function d(t){return new Uint16Array(h(2*t),0,t)}function g(t){return new Uint32Array(h(4*t),0,t)}function m(t){return new Int8Array(h(t),0,t)}function v(t){return new Int16Array(h(2*t),0,t)}function y(t){return new Int32Array(h(4*t),0,t)}function _(t){return new Float32Array(h(4*t),0,t)}function x(t){return new Float64Array(h(8*t),0,t)}function b(t){return a?new Uint8ClampedArray(h(t),0,t):f(t)}function w(t){return new DataView(h(t),0,t)}function S(t){t=i.nextPow2(t);var e=i.log2(t),n=c[e];return n.length>0?n.pop():new r(t)}e.free=function(t){if(r.isBuffer(t))c[i.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,n=0|i.log2(e);u[n].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=p,e.freeArrayBuffer=l,e.freeBuffer=function(t){c[i.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return h(t);switch(e){case"uint8":return f(t);case"uint16":return d(t);case"uint32":return g(t);case"int8":return m(t);case"int16":return v(t);case"int32":return y(t);case"float":case"float32":return _(t);case"double":case"float64":return x(t);case"uint8_clamped":return b(t);case"buffer":return S(t);case"data":case"dataview":return w(t);default:return null}return null},e.mallocArrayBuffer=h,e.mallocUint8=f,e.mallocUint16=d,e.mallocUint32=g,e.mallocInt8=m,e.mallocInt16=v,e.mallocInt32=y,e.mallocFloat32=e.mallocFloat=_,e.mallocFloat64=e.mallocDouble=x,e.mallocUint8Clamped=b,e.mallocDataView=w,e.mallocBuffer=S,e.clearCache=function(){for(var t=0;t<32;++t)s.UINT8[t].length=0,s.UINT16[t].length=0,s.UINT32[t].length=0,s.INT8[t].length=0,s.INT16[t].length=0,s.INT32[t].length=0,s.FLOAT[t].length=0,s.DOUBLE[t].length=0,s.UINT8C[t].length=0,u[t].length=0,c[t].length=0}}).call(this,n("c8ba"),n("b639").Buffer)},ceaf:function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(e),n,!1);if(void 0===r||!r["delete"](t))return!1;if(r.size)return!0;var u=s.get(e);return u["delete"](n),!!u.size||s["delete"](e)}})},cf6a:function(t,e,n){var r=n("d3f4"),i=n("67ab").onFreeze;n("5eda")("seal",function(t){return function(e){return t&&r(e)?t(i(e)):e}})},cff1:function(t,e,n){"use strict";var r=n("db45");function i(t,e,n){var i=r.dot,o=t.shape[1],a=0;if(n)for(e.set(0,e.get(0)/t.get(0,0)),a=1;a<o;a++)e.set(a,(e.get(a)-i(t.pick(a,null).hi(a),e.hi(a)))/t.get(a,a));else for(e.set(o-1,e.get(o-1)/t.get(o-1,o-1)),a=o-2;a>=0;a--)e.set(a,(e.get(a)-i(t.pick(a,null).lo(a+1),e.lo(a+1)))/t.get(a,a));return!0}t.exports=i},d02c:function(t,e,n){var r=n("5e2e"),i=n("79bc"),o=n("7b83"),a=200;function s(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}t.exports=s},d04f:function(t,e,n){n("7a56")("Array")},d0b0:function(t,e,n){"use strict";n("386b")("italics",function(t){return function(){return t(this,"i","","")}})},d180:function(t,e,n){var r=n("ecf6"),i=n("cd9d");function o(t){return t&&t.length?r(t,i):0}t.exports=o},d185:function(t,e,n){var r=n("11e9"),i=n("38fd"),o=n("69a8"),a=n("5ca1"),s=n("d3f4"),u=n("cb7c");function c(t,e){var n,a,l=arguments.length<3?t:arguments[2];return u(t)===l?t[e]:(n=r.f(t,e))?o(n,"value")?n.value:void 0!==n.get?n.get.call(l):void 0:s(a=i(t))?c(a,e,l):void 0}a(a.S,"Reflect",{get:c})},d25f:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(2);r(r.P+r.F*!n("2f21")([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},d263:function(t,e,n){"use strict";n("386b")("fixed",function(t){return function(){return t(this,"tt","","")}})},d2a1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=i(n("d7e6"));function i(t){return t&&t.__esModule?t:{default:t}}const o=(0,r.default)({args:["array","scalar"],body:function(t,e){t=Math.max(t,0)+e*(Math.exp(Math.min(t,0))-1)}});function a(t,e={}){const{alpha:n=1}=e;o(t.tensor,n)}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d2cf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("891c"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="SpatialDropout1D";const{p:e=.5}=t;this.description=`${e}`,this.p=Math.min(Math.max(0,e),1)}call(t){return this.output=t,this.output}}e.default=o},d327:function(t,e){function n(){return[]}t.exports=n},d370:function(t,e,n){var r=n("253c"),i=n("1310"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},d37d:function(t,e,n){"use strict";var r=n("4c18");function i(t){var e=["'use strict'","var CACHED={}"],n=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],c=[],l=0;l<t.arrayArgs.length;++l){var p=t.arrayArgs[l];n.push(["t",p,"=array",p,".dtype,","r",p,"=array",p,".order"].join("")),o.push("t"+p),o.push("r"+p),a.push("t"+p),a.push("r"+p+".join()"),s.push("array"+p+".data"),s.push("array"+p+".stride"),s.push("array"+p+".offset|0"),l>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+p+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[l]))),c.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+p+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[l])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(l=0;l<t.scalarArgs.length;++l)s.push("scalar"+t.scalarArgs[l]);n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),e.push("var "+n.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------");var h=new Function("compile",e.join("\n"));return h(r.bind(void 0,t))}t.exports=i},d3b1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("d966"),i=c(n("c022")),o=u(n("b5bb")),a=u(n("62d6")),s=u(n("900e"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}class l{constructor(t,e,n={}){this.arrayType=n.type||Float32Array,t&&t.length&&(t instanceof this.arrayType||t instanceof Array)?(i.checkShape(t,e),t instanceof this.arrayType?this.tensor=(0,o.default)(t,e):t instanceof Array&&(this.tensor=(0,o.default)(new this.arrayType(t),e))):!t.length&&e.length?this.tensor=(0,o.default)(new this.arrayType(e.reduce((t,e)=>t*e,1)),e):this.tensor=(0,o.default)(new this.arrayType([]),[])}createGLTexture({type:t="2d",format:e="float",supportsTextureFragments:n=!1}){let i=[];if(1===this.tensor.shape.length)i=[1,this.tensor.shape[0]],this.is1D=!0;else if(2===this.tensor.shape.length)i=this.tensor.shape;else{if(3!==this.tensor.shape.length||"2d_array"!==t&&"3d"!==t)throw new Error("[Tensor] cannot create WebGL2 texture.");i=this.tensor.shape}if(this.glTextureShape=i,this.glTextureType=t,this.glTextureFormat=e,"2d"===t)this.glTextureShape[0]>r.MAX_TEXTURE_SIZE&&n?this._create2DRowFragmentedGLTexture():this._create2DGLTexture();else{if("2d_array"!==t&&"3d"!==t)throw new Error(`[Tensor] invalid type ${t}.`);this._create3DGLTexture()}}_create2DGLTexture(){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:i,textureFormat:o,textureType:a}=e;this.glTexture=t.createTexture(),r.webgl2.storeRef("texture",this.glTexture),t.bindTexture(n,this.glTexture);const s=this.glTextureShape,u=this.tensor.data;t.texImage2D(n,0,i,s[1],s[0],0,o,a,u),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}_create2DRowFragmentedGLTexture(){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:i,textureFormat:o,textureType:a}=e;this.glTextureFragments=[],this.glTextureFragmentShape=[r.MAX_TEXTURE_SIZE,this.glTextureShape[1]];const s=this.glTextureFragmentShape,u=Math.ceil(this.glTextureShape[0]/r.MAX_TEXTURE_SIZE);let c=0;for(let l=0;l<u;l++){const e=t.createTexture();let p;r.webgl2.storeRef("texture",e),t.bindTexture(n,e),l===u-1?(p=new this.arrayType(s[0]*s[1]),p.set(this.tensor.data.slice(c,c+s[0]*s[1]),0)):p=this.tensor.data.slice(c,c+s[0]*s[1]),t.texImage2D(n,0,i,s[1],s[0],0,o,a,p),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST),this.glTextureFragments.push(e),c+=s[0]*s[1]}}_create3DGLTexture(){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:o,textureFormat:a,textureType:s}=e;this.glTexture=t.createTexture(),r.webgl2.storeRef("texture",this.glTexture),t.bindTexture(n,this.glTexture);const u=this.glTextureShape,c=i.data3DLayoutForGL(this.arrayType,this.tensor,this.glTextureShape);t.texImage3D(n,0,o,u[1],u[0],u[2],0,a,s,c),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}convert2DRowFragmentedGLTextureToColStack(){if(!this.glTextureFragments||!this.glTextureFragmentShape)throw new Error("[Tensor] no glTextureFragments available.");const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureInternalFormat:i,textureFormat:o,textureType:a}=e;if(this.glTextureFragmentsAsColStack)t.bindTexture(n,this.glTextureFragmentsAsColStack);else{this.glTextureFragmentsAsColStack=t.createTexture(),r.webgl2.storeRef("texture",this.glTextureFragmentsAsColStack),t.bindTexture(n,this.glTextureFragmentsAsColStack);const e=this.glTextureFragments.length;this.glTextureFragmentsAsColStackShape=[this.glTextureFragmentShape[0],this.glTextureFragmentShape[1]*e];const s=this.glTextureFragmentsAsColStackShape,u=new this.arrayType(s.reduce((t,e)=>t*e,1));t.texImage2D(n,0,i,s[1],s[0],0,o,a,u),t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(n,t.TEXTURE_MIN_FILTER,t.NEAREST)}const s=t.createFramebuffer();t.bindFramebuffer(t.READ_FRAMEBUFFER,s),this.glTextureFragments.forEach((e,r)=>{t.framebufferTexture2D(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),t.copyTexSubImage2D(n,0,r*this.glTextureFragmentShape[1],0,0,0,this.glTextureFragmentShape[1],this.glTextureFragmentShape[0])}),t.deleteFramebuffer(s)}removeGLTextureFragmentsAsColStack(){if(this.glTextureFragmentsAsColStack){const t=r.webgl2.context;t.deleteTexture(this.glTextureFragmentsAsColStack),delete this.glTextureFragmentsAsColStack,delete this.glTextureFragmentsAsColStackShape}}deleteGLTexture(){const t=r.webgl2.context;this.glTexture&&(t.deleteTexture(this.glTexture),delete this.glTexture),this.glTextureFragments&&(this.glTextureFragments.forEach(e=>{t.deleteTexture(e)}),delete this.glTextureFragments)}replaceTensorData(t){if(t&&t.length&&t instanceof this.arrayType)this.tensor.data.set(t);else{if(!(t&&t.length&&t instanceof Array))throw new Error("[Tensor] invalid input for replaceTensorData method.");this.tensor.data.set(new this.arrayType(t))}if(this.glTexture){const t=r.webgl2.context,e=r.webgl2.getWebGLTextureOptions(this.glTextureType,this.glTextureFormat),{textureTarget:n,textureFormat:o,textureType:a}=e;t.bindTexture(n,this.glTexture);const s=this.glTextureShape;if("2d"===this.glTextureType){const e=this.tensor.data;t.texSubImage2D(n,0,0,0,s[1],s[0],o,a,e,0)}else if("2d_array"===this.glTextureType||"3d"===this.glTextureType){const e=i.data3DLayoutForGL(this.arrayType,this.tensor,s);t.texSubImage3D(n,0,0,0,0,s[1],s[0],s[2],o,a,e,0)}}}transferFromGLTexture(){if(this.glTextureFragments){this.tensor=(0,o.default)(new this.arrayType(this.glTextureShape[0]*this.glTextureShape[1]),this.glTextureShape);let t=0;for(let e=0;e<this.glTextureFragments.length;e++){r.webgl2.bindOutputTexture(this.glTextureFragments[e],this.glTextureFragmentShape);const n=r.webgl2.readData(this.glTextureFragmentShape);if(e===this.glTextureFragments.length-1){const e=this.tensor.data.length-t;this.tensor.data.set(n.subarray(0,e),t)}else this.tensor.data.set(n,t);t+=n.length}}else r.webgl2.bindOutputTexture(this.glTexture,this.glTextureShape),this.tensor=(0,o.default)(new this.arrayType([]),this.glTextureShape),this.tensor.data=r.webgl2.readData(this.glTextureShape);this.is1D&&1===this.glTextureShape[0]&&(this.tensor=(0,s.default)(this.tensor,[0]))}reshapeTo2D(){const t=this.tensor.shape.length-1,e=this.tensor.shape[t],n=this.tensor.shape.slice(0,t),r=n.reduce((t,e)=>t*e,1),s=(0,o.default)(new this.arrayType(r*e),[r,e]),u=(0,o.default)(new this.arrayType(r),n),c=(0,o.default)(new this.arrayType(r),[r]),l=Array(this.tensor.shape.length).fill(null);for(let i=0;i<e;i++)l[t]=i,a.default.assign(u,this.tensor.pick(...l)),c.data=u.data,a.default.assign(s.pick(null,i),c);this.originalShape=this.tensor.shape,this.indicesForReshaped=i.createIndicesFor2DReshaped(this.tensor.shape,!1,t),this.tensor=s,this.is2DReshaped=!0}reshapeFrom2D(t=-1){if(!this.is2DReshaped)throw new Error("[Tensor] not in reshaped 2D representation.");if(!this.originalShape)throw new Error("[Tensor] does not contain originalShape.");t<0&&(t=this.originalShape.length+t);const e=this.tensor.shape[0],n=this.tensor.shape[1],r=(0,o.default)(new this.arrayType(this.originalShape.reduce((t,e)=>t*e,1)),this.originalShape),i=(0,o.default)(new this.arrayType(e),[e]),s=[...this.originalShape.slice(0,t),...this.originalShape.slice(t+1)],u=(0,o.default)(new this.arrayType(s.reduce((t,e)=>t*e,1)),s),c=Array(this.originalShape.length).fill(null);for(let o=0;o<n;o++)a.default.assign(i,this.tensor.pick(null,o)),u.data=i.data,c[t]=o,a.default.assign(r.pick(...c),u);this.tensor=r}reshapeTo2DSquare(){const t=Math.ceil(Math.sqrt(this.tensor.size)),e=(0,o.default)(new this.arrayType(t**2),[t,t]);e.data.set(this.tensor.data),this.originalShape=this.tensor.shape,this.indicesForReshaped=i.createIndicesFor2DReshaped(this.tensor.shape,!0),this.tensor=e,this.is2DSquareReshaped=!0}reshapeFrom2DSquare(){if(!this.is2DSquareReshaped)throw new Error("[Tensor] not in reshaped 2D square representation.");if(!this.originalShape)throw new Error("[Tensor] does not contain originalShape.");const t=this.originalShape.reduce((t,e)=>t*e,1),e=(0,o.default)(new this.arrayType(t),this.originalShape);e.data.set(this.tensor.data.subarray(0,t)),this.tensor=e}}e.default=l},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d468:function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},d4c0:function(t,e,n){var r=n("0d58"),i=n("2621"),o=n("52a7");t.exports=function(t){var e=r(t),n=i.f;if(n){var a,s=n(t),u=o.f,c=0;while(s.length>c)u.call(t,a=s[c++])&&e.push(a)}return e}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d5c0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("62d6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="ZeroPadding3D";const{padding:e=[[1,1],[1,1],[1,1]],data_format:n="channels_last"}=t;Array.isArray(e)?Array.isArray(e[0])?this.padding=e:this.padding=[[e[0],e[0]],[e[1],e[1]],[e[2],e[2]]]:this.padding=[[e,e],[e,e],[e,e]],this.dataFormat=n,this.description=`${JSON.stringify(this.padding)}`,this.gpu&&(this.mapInputProgram=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(1,2,3,0)),this.inputShape=t.tensor.shape,this.outputShape=[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]+this.padding[2][0]+this.padding[2][1],this.inputShape[3]],this.output=new i.default([],this.outputShape),a.default.assign(this.output.tensor.hi(this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]+this.padding[2][0],this.inputShape[3]).lo(this.padding[0][0],this.padding[1][0],this.padding[2][0],0),t.tensor),"channels_first"===this.dataFormat&&(t.tensor=t.tensor.transpose(3,0,1,2),this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t,e){if(this.indexMap)return;const n=new i.default(t.data,t.shape,{type:Int32Array});this.indexMap=new i.default([],this.outputShape,{type:Int32Array});const r="channels_first"===this.dataFormat?[0,this.padding[0][0],this.padding[1][0],this.padding[2][0]]:[this.padding[0][0],this.padding[1][0],this.padding[2][0],0],o="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0],this.inputShape[2]+this.padding[1][0],this.inputShape[3]+this.padding[2][0]]:[this.inputShape[0]+this.padding[0][0],this.inputShape[1]+this.padding[1][0],this.inputShape[2]+this.padding[2][0],this.inputShape[3]];a.default.assigns(this.indexMap.tensor,-1),a.default.assign(this.indexMap.tensor.hi(...o).lo(...r),n.tensor),e?this.indexMap.reshapeTo2D():this.indexMap.reshapeTo2DSquare(),this.indexMap.createGLTexture({type:"2d",format:"int"})}_callGPU(t){t.glTexture||(t.reshapeTo2DSquare(),t.createGLTexture({type:"2d",format:"float"})),this.inputShape=t.originalShape,this.outputShape="channels_first"===this.dataFormat?[this.inputShape[0],this.inputShape[1]+this.padding[0][0]+this.padding[0][1],this.inputShape[2]+this.padding[1][0]+this.padding[1][1],this.inputShape[3]+this.padding[2][0]+this.padding[2][1]]:[this.inputShape[0]+this.padding[0][0]+this.padding[0][1],this.inputShape[1]+this.padding[1][0]+this.padding[1][1],this.inputShape[2]+this.padding[2][0]+this.padding[2][1],this.inputShape[3]],this._createIndexMap(t.indicesForReshaped,t.is2DReshaped),this.output||(this.output=new i.default([],this.outputShape),t.is2DReshaped?this.output.reshapeTo2D():this.output.reshapeTo2DSquare(),this.output.createGLTexture({type:"2d",format:"float"})),o.webgl2.runProgram({program:this.mapInputProgram,output:this.output,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"}],uniforms:[{value:t.glTextureShape[1],type:"int",name:"inputCols"}]}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.reshapeFrom2DSquare())}}e.default=c},d5eb:function(t,e,n){"use strict";t.exports=function(t,e){var n,r=e.data,i=e.stride[0],o=e.offset;for(n=e.shape[0]-1;n>=0;n--,o+=i)r[o]*=t}},d612:function(t,e,n){var r=n("7b83"),i=n("7ed2"),o=n("dc0f");function a(t){var e=-1,n=null==t?0:t.length;this.__data__=new r;while(++e<n)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},d6c6:function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},d752:function(t,e,n){var r=n("7726").parseFloat,i=n("aa77").trim;t.exports=1/r(n("fdef")+"-0")!==-1/0?function(t){var e=i(String(t),3),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},d7e6:function(t,e,n){"use strict";var r=n("8c5d"),i=n("40ce"),o=["args","body"],a=["pre","post","printCode","funcName","blockSize"];function s(t){for(var e in t)o.indexOf(e)<0&&a.indexOf(e)<0&&console.warn("cwise: Unknown argument '"+e+"' passed to expression compiler");for(var n=0;n<o.length;++n)if(!t[o[n]])throw new Error("cwise: Missing argument: "+o[n]);return i({args:t.args,pre:r(t.pre||function(){}),body:r(t.body),post:r(t.post||function(){}),debug:!!t.printCode,funcName:t.funcName||t.body.name||"cwise",blockSize:t.blockSize||64})}t.exports=s},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d92a:function(t,e,n){var r=n("5ca1");r(r.P,"Function",{bind:n("f0c1")})},d966:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_TEXTURE_IMAGE_UNITS=e.MAX_TEXTURE_SIZE=e.webgl2=void 0;const r="#version 300 es\nprecision highp float;\n\nin vec3 position;\nin vec2 texcoord;\nout vec2 outTex;\n\nvoid main () {\n  gl_Position = vec4(position, 1.0);\n\toutTex = texcoord;\n}\n";class i{constructor(){if(this.isSupported=!1,this.vertexShader=null,"undefined"!==typeof window){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("webgl2");const t=this.context;t?(this.isSupported=!0,t.getExtension("EXT_color_buffer_float"),this.MAX_TEXTURE_SIZE=t.getParameter(t.MAX_TEXTURE_SIZE),this.MAX_TEXTURE_IMAGE_UNITS=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.init()):console.log("Unable to initialize WebGL2 -- your browser may not support it.")}this._refs={textures:[],buffers:[]}}init(){this.createCommonVertexShader()}createCommonVertexShader(){const t=this.context,e=t.createShader(t.VERTEX_SHADER);t.shaderSource(e,r),t.compileShader(e);const n=t.getShaderParameter(e,t.COMPILE_STATUS);n||(console.error(t.getShaderInfoLog(e)),t.deleteShader(e),this.isSupported=!1),this.vertexShader=e}compileProgram(t){const e=this.context,n=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(n,t),e.compileShader(n);let r=e.getShaderParameter(n,e.COMPILE_STATUS);r||(console.error(e.getShaderInfoLog(n)),e.deleteShader(n),this.isSupported=!1);const i=e.createProgram();return e.attachShader(i,this.vertexShader),e.attachShader(i,n),e.linkProgram(i),r=e.getProgramParameter(i,e.LINK_STATUS),r||(console.error(e.getProgramInfoLog(i)),this.isSupported=!1),this.setupVertices(i),i}setupVertices(t){const e=this.context,n=e.getAttribLocation(t,"position"),r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),this.storeRef("buffer",r),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0]),e.STATIC_DRAW),e.vertexAttribPointer(n,3,e.FLOAT,!1,0,0),e.enableVertexAttribArray(n);const i=e.getAttribLocation(t,"texcoord"),o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,1,1,0,1]),e.STATIC_DRAW),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i),this.storeRef("buffer",o);const a=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),e.STATIC_DRAW),this.storeRef("buffer",a)}selectProgram(t){const e=this.context;e.useProgram(t)}bindUniforms(t,e){const n=this.context;e.forEach(({value:e,type:r,name:i})=>{const o=n.getUniformLocation(t,i);"float"===r?n.uniform1f(o,e):"int"!==r&&"bool"!==r||n.uniform1i(o,e)})}bindInputTextures(t,e,n){const r=this.context;e.forEach(({input:e,name:i},o)=>{if(r.activeTexture(r.TEXTURE0+o),e.glTextureFragments)if(e.glTextureFragmentsAsColStack){const{textureTarget:t}=this.getWebGLTextureOptions(e.glTextureType,e.glTextureFormat);r.bindTexture(t,e.glTextureFragmentsAsColStack)}else{const{textureTarget:t}=this.getWebGLTextureOptions(e.glTextureType,e.glTextureFormat);r.bindTexture(t,e.glTextureFragments[n])}else{const{textureTarget:t}=this.getWebGLTextureOptions(e.glTextureType,e.glTextureFormat);r.bindTexture(t,e.glTexture)}r.uniform1i(r.getUniformLocation(t,i),o)})}bindOutputTexture(t,e){const n=this.context;n.viewport(0,0,e[1],e[0]),this.framebuffer=this.framebuffer||n.createFramebuffer(),n.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0)}runProgram({program:t,output:e,inputs:n,uniforms:r,supportsTextureFragments:i=!1}){if(!t)throw new Error("[WebGL2] missing program");if(!e)throw new Error("[WebGL2] missing output");if(!n)throw new Error("[WebGL2] missing inputs");const o=this.context;if(this.selectProgram(t),r&&Array.isArray(r)&&this.bindUniforms(t,r),e.glTextureFragments){if(!i)throw new Error("[WebGL2] program does not support texture fragments");const r=n.filter(t=>t.input.glTextureFragments&&!t.input.glTextureFragmentsAsColStack),a=e.glTextureFragments.length;if(r.some(t=>t.input.glTextureFragments.length!==a))throw new Error("[WebGL2] number of texture fragments in inputs and output do not match");for(let i=0;i<a;i++)this.bindOutputTexture(e.glTextureFragments[i],e.glTextureFragmentShape),this.bindInputTextures(t,n,i),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)}else this.bindOutputTexture(e.glTexture,e.glTextureShape),this.bindInputTextures(t,n),o.drawElements(o.TRIANGLES,6,o.UNSIGNED_SHORT,0)}readData(t){const e=this.context,n=new ArrayBuffer(t[0]*t[1]*4*4),r=new Float32Array(n);e.readPixels(0,0,t[1],t[0],e.RGBA,e.FLOAT,r);const i=[];for(let o=0;o<r.length;o+=4)i.push(r[o]);return new Float32Array(i)}getWebGLTextureOptions(t,e){const n=this.context,r={"2d":n.TEXTURE_2D,"2d_array":n.TEXTURE_2D_ARRAY,"3d":n.TEXTURE_3D},i={float:n.R32F,int:n.R32I},o={float:n.RED,int:n.RED_INTEGER},a={float:n.FLOAT,int:n.INT},s=r[t],u=i[e],c=o[e],l=a[e];return{textureTarget:s,textureInternalFormat:u,textureFormat:c,textureType:l}}storeRef(t,e){"texture"===t?this._refs.textures.push(e):"buffer"===t&&this._refs.buffers.push(e)}clearRefs(){const t=this.context;this._refs.textures.forEach(e=>t.deleteTexture(e)),this._refs.buffers.forEach(e=>t.deleteBuffer(e)),this._refs={textures:[],buffers:[]}}}const o=new i;e.webgl2=o;const a=o.MAX_TEXTURE_SIZE;e.MAX_TEXTURE_SIZE=a;const s=o.MAX_TEXTURE_IMAGE_UNITS;e.MAX_TEXTURE_IMAGE_UNITS=s},d9ab:function(t,e,n){var r=n("5ca1"),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},da03:function(t,e,n){var r=n("2b3e"),i=r["__core-js_shared__"];t.exports=i},db45:function(t,e,n){"use strict";t.exports.swap=n("6c92"),t.exports.scal=n("d5eb"),t.exports.copy=n("ee77"),t.exports.axpy=n("a1b0"),t.exports.dot=n("edbf"),t.exports.cpsc=n("a29c"),t.exports.nrm2=n("405d"),t.exports.asum=n("c526"),t.exports.iamax=n("edbd"),t.exports.rotg=n("cdc6")},db4e:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Embedding",{enumerable:!0,get:function(){return r.default}});var r=i(n("4a04"));function i(t){return t&&t.__esModule?t:{default:t}}},db97:function(t,e,n){var r=n("5ca1");r(r.S,"Object",{is:n("83a1")})},db9a:function(t,e,n){var r=n("5ca1");r(r.P+r.R,"Set",{toJSON:n("44b8")("Set")})},dc0f:function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},dc57:function(t,e){var n=Function.prototype,r=n.toString;function i(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=i},dc6f:function(t,e,n){"use strict";t.exports=a;var r=n("0c83");(a.prototype=Object.create(r.prototype)).constructor=a;var i=n("e938"),o=i.Buffer;function a(){r.call(this)}a.alloc=function(t){return(a.alloc=i._Buffer_allocUnsafe)(t)};var s=o&&o.prototype instanceof Uint8Array&&"set"===o.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]};function u(t,e,n){t.length<40?i.utf8.write(t,e,n):e.utf8Write(t,n)}a.prototype.bytes=function(t){i.isString(t)&&(t=i._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(s,e,t),this},a.prototype.string=function(t){var e=o.byteLength(t);return this.uint32(e),e&&this._push(u,e,t),this}},dcbc:function(t,e,n){var r=n("2aba");t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},dd49:function(t,e,n){"use strict";var r=n("fae5"),i=n("3b33"),o=n("8b24"),a=n("9689");function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"===typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),t=i.merge(r,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});while(e.length)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},dd61:function(t,e,n){var r=n("7948"),i=n("badf"),o=n("97d3"),a=n("6747");function s(t,e){var n=a(t)?r:o;return n(t,i(e,3))}t.exports=s},dd8a:function(t,e,n){n("28e4")("Set")},df1b:function(t,e,n){var r=n("5ca1"),i=n("d8e8"),o=n("cb7c"),a=(n("7726").Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n("79e5")(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){var r=i(t),u=o(n);return a?a(r,e,u):s.call(r,e,u)}})},dfad:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=f(n("891c")),i=f(n("d3b1")),o=h(n("3e72")),a=n("d966"),s=f(n("c0de")),u=h(n("c022")),c=f(n("62d6")),l=f(n("f93b")),p=h(n("70de"));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function f(t){return t&&t.__esModule?t:{default:t}}const d="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 size = textureSize(indexMap, 0);\n  int out_x = int(float(size[0]) * outTex.x);\n  int out_y = int(float(size[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",g="#version 300 es\nprecision highp float;\nprecision highp isampler2D;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform isampler2D indexMap;\nuniform int inputCols;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 inputSize = textureSize(x, 0);\n  ivec2 outputSize = textureSize(indexMap, 0);\n  int out_x = int(float(outputSize[0]) * outTex.x);\n  int out_y = int(float(outputSize[1]) * outTex.y);\n\n  int index = texelFetch(indexMap, ivec2(out_x, out_y), 0).r;\n\n  if (index != -1) {\n    int rowIndex = int(floor(float(index) / float(inputCols)));\n    int colIndex = int(mod(float(index), float(inputCols)));\n    int fragmentIndex = int(floor(float(rowIndex) / float(inputSize[1])));\n    rowIndex = int(mod(float(rowIndex), float(inputSize[1])));\n    colIndex = fragmentIndex * inputCols + colIndex;\n    float val = texelFetch(x, ivec2(colIndex, rowIndex), 0).r;\n    outColor = vec4(val);\n  } else {\n    outColor = vec4(0.0);\n  }\n}\n",m="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D A;\nuniform sampler2D B;\nuniform sampler2D C;\nuniform bool addC;\nout vec4 outColor;\n\nvoid main() {\n  ivec2 A_size = textureSize(A, 0);\n  ivec2 B_size = textureSize(B, 0);\n  int out_x = int(float(B_size[0]) * outTex.x);\n  int out_y = int(float(A_size[1]) * outTex.y);\n  int commonDim = A_size[0];\n\n  float sum = 0.;\n  for (int i = 0; i < commonDim; ++i) {\n    float a = texelFetch(A, ivec2(i, out_y), 0).r;\n    float b = texelFetch(B, ivec2(out_x, i), 0).r;\n    sum += a * b;\n  }\n\n  if (addC) {\n    sum += texelFetch(C, ivec2(out_x, 0), 0).r;\n  }\n\n  outColor = vec4(sum);\n}\n";class v extends r.default{constructor(t={}){super(t),this.layerClass="Conv3D";const{filters:e=1,kernel_size:n=[1,1,1],strides:r=[1,1,1],padding:i="valid",data_format:s="channels_last",dilation_rate:u=[1,1,1],activation:c="linear",use_bias:l=!0}=t;Array.isArray(n)?this.kernelShape=[e,...n]:this.kernelShape=[e,n,n,n],Array.isArray(r)?this.strides=r:this.strides=[r,r,r],"valid"===i||"same"===i?this.padding=i:this.throwError("Invalid padding."),"channels_last"===s||"channels_first"===s?this.dataFormat=s:this.throwError("Only channels_last and channels_first data formats are allowed."),Array.isArray(u)?this.dilationRate=u:this.dilationRate=[u,u,u],1===this.dilationRate[0]&&1===this.dilationRate[1]&&1===this.dilationRate[2]||1===this.strides[0]&&1===this.strides[1]&&1===this.strides[2]||this.throwError("Incompatible combination of dilation_rate with strides."),this.activation=c,this.activationFunc=o[c],this.useBias=l,this.params=this.useBias?["kernel","bias"]:["kernel"],this.description=`${this.kernelShape[0]} ${this.kernelShape.slice(1).join("x")} filters`,this.description+=this.strides.some(t=>t>1)?`, ${this.strides.join("x")} striding`:"",this.description+="valid"===this.padding?", no border padding":", pad to same borders",this.description+=this.dilationRate.some(t=>t>1)?`, ${this.dilationRate.join("x")} dilation`:"",this.description+="linear"!==this.activation?`, ${this.activation} activation`:"",this.gpu&&(this.mapInputProgram=a.webgl2.compileProgram(d),this.mapInputFragmentsProgram=a.webgl2.compileProgram(g),this.matMulProgram=a.webgl2.compileProgram(m),this.activationProgram=a.webgl2.compileProgram(p[this.activation]))}setWeights(t){"channels_first"===this.dataFormat&&(t[0].tensor=t[0].tensor.transpose(2,3,4,1,0)),super.setWeights(t,!1),this._w2row(),this.gpu&&(this.weights["kernel"]=this.wRowsMat,this.weights["kernel"].createGLTexture({type:"2d",format:"float"}),this.useBias&&this.weights["bias"].createGLTexture({type:"2d",format:"float"}))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_calcOutputShape(t){if(this.outputShape&&this.inputPadding)return;const e=t[0],n=t[1],r=t[2],[i,o,a,s]=this.kernelShape,u=o+(o-1)*(this.dilationRate[0]-1),c=a+(a-1)*(this.dilationRate[1]-1),l=s+(s-1)*(this.dilationRate[2]-1),p="same"===this.padding?Math.floor((e+this.strides[0]-1)/this.strides[0]):Math.floor((e-u+this.strides[0])/this.strides[0]),h="same"===this.padding?Math.floor((n+this.strides[1]-1)/this.strides[1]):Math.floor((n-c+this.strides[1])/this.strides[1]),f="same"===this.padding?Math.floor((r+this.strides[2]-1)/this.strides[2]):Math.floor((r-l+this.strides[2])/this.strides[2]),d=i,g="same"===this.padding?Math.max(0,Math.floor((p-1)*this.strides[0]+u-e)):0,m="same"===this.padding?Math.max(0,Math.floor((h-1)*this.strides[1]+c-n)):0,v="same"===this.padding?Math.max(0,Math.floor((f-1)*this.strides[2]+l-r)):0,y=Math.floor(g/2),_=g-y,x=Math.floor(m/2),b=m-x,w=Math.floor(v/2),S=v-w;this.outputShape=[p,h,f,d],this.inputPadding=[y,_,x,b,w,S]}_padInput(t,e=0){if("same"===this.padding){const[n,r,o,a]=t.tensor.shape,[s,u,l,p,h,f]=this.inputPadding,d=n+s+u,g=r+l+p,m=o+h+f,v=new i.default([],[d,g,m,a]);return 0!==e&&c.default.assigns(v.tensor,e),c.default.assign(v.tensor.hi(n+s,r+l,o+h,a).lo(s,l,h,0),t.tensor),v}return t}_vol2col(t){const[e,n,r,o]=t.tensor.shape,a=this.kernelShape[1],s=this.kernelShape[2],u=this.kernelShape[3],l=this.outputShape[0],p=this.outputShape[1],h=this.outputShape[2],f=l*p*h,d=a*s*u*o,g=a+(a-1)*(this.dilationRate[0]-1),m=s+(s-1)*(this.dilationRate[1]-1),v=u+(u-1)*(this.dilationRate[2]-1);if(this.volColsMat||(this.volColsMat=new i.default([],[f,d])),1===g&&1===m&&1===v&&1===this.strides[0]&&1===this.strides[1]&&1===this.strides[2])return this.volColsMat.replaceTensorData(t.tensor.data),this.volColsMat;const y=new i.default([],[a,s,u,o]);let _=0;for(let i=0,x=e-g;i<=x;i+=this.strides[0])for(let e=0,a=n-m;e<=a;e+=this.strides[1])for(let n=0,s=r-v;n<=s;n+=this.strides[2])c.default.assign(y.tensor,t.tensor.hi(i+g,e+m,n+v,o).lo(i,e,n,0).step(this.dilationRate[0],this.dilationRate[1],this.dilationRate[2],1)),this.volColsMat.tensor.data.set(y.tensor.data,_),_+=d;return this.volColsMat}_w2row(){const t=this.weights["kernel"].tensor.shape[3],[e,n,r,o]=this.kernelShape,a=n*r*o*t;this.wRowsMat=new i.default([],[a,e]);const s=new i.default([],[n,r,o,t]),u=new i.default([],[a]);for(let i=0;i<e;i++)c.default.assign(s.tensor,this.weights["kernel"].tensor.pick(null,null,null,null,i)),u.replaceTensorData(s.tensor.data),c.default.assign(this.wRowsMat.tensor.pick(null,i),u.tensor);return this.wRowsMat}_callCPU(t){this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._vol2col(t);const e=this.kernelShape[0],n=this.outputShape[0],r=this.outputShape[1],o=this.outputShape[2],a=n*r*o,s=new i.default([],[a,e]);if(this.useBias)for(let i=0;i<e;i++)c.default.assigns(s.tensor.pick(null,i),this.weights["bias"].tensor.get(i));(0,l.default)(s.tensor,this.volColsMat.tensor,this.wRowsMat.tensor,1,1),this.output=new i.default([],this.outputShape);let u=new i.default([],[n*r*o]),p=new i.default([],[n,r,o]);for(let i=0;i<e;i++)c.default.assign(u.tensor,s.tensor.pick(null,i)),p.replaceTensorData(u.tensor.data),c.default.assign(this.output.tensor.pick(null,null,null,i),p.tensor);this.activationFunc(this.output),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2))}_createIndexMap(t){if(this.indexMap)return;let[e,n,r,o]=this.inputShape,a=new i.default(t.data,t.shape,{type:Int32Array});if("same"===this.padding){const[t,i,o,s,u,c]=this.inputPadding;e=e+t+i,n=n+o+s,r=r+u+c;const l=-1;a=this._padInput(a,l)}const s=this.kernelShape[1],u=this.kernelShape[2],l=this.kernelShape[3],p=this.outputShape[0],h=this.outputShape[1],f=this.outputShape[2],d=p*h*f,g=s*u*l*o,m=s+(s-1)*(this.dilationRate[0]-1),v=u+(u-1)*(this.dilationRate[1]-1),y=l+(l-1)*(this.dilationRate[2]-1);this.indexMap=new i.default([],[d,g],{type:Int32Array});const _=new i.default([],[s,u,l,o]);let x=0;for(let i=0,b=e-m;i<=b;i+=this.strides[0])for(let t=0,e=n-v;t<=e;t+=this.strides[1])for(let n=0,s=r-y;n<=s;n+=this.strides[2])c.default.assign(_.tensor,a.tensor.hi(i+m,t+v,n+y,o).lo(i,t,n,0).step(this.dilationRate[0],this.dilationRate[1],this.dilationRate[2],1)),this.indexMap.tensor.data.set(_.tensor.data,x),x+=g;this.indexMap.createGLTexture({type:"2d",format:"int",supportsTextureFragments:!0})}_callGPU(t){let e;if(t.is2DReshaped||t.is2DSquareReshaped?(this.inputShape=t.originalShape,this._calcOutputShape(this.inputShape),this._createIndexMap(t.indicesForReshaped),e=[this.indexMap.glTextureShape[0],this.weights["kernel"].glTextureShape[1]]):(this.inputShape=t.tensor.shape,this._calcOutputShape(this.inputShape),t=this._padInput(t),this._vol2col(t),this.volColsMat.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),e=[this.volColsMat.glTextureShape[0],this.weights["kernel"].glTextureShape[1]]),"linear"===this.activation||this.outputPreactiv||(this.outputPreactiv=new i.default([],e),this.outputPreactiv.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.outputPreactiv.is2DReshaped=!0,this.outputPreactiv.originalShape=this.outputShape,this.outputPreactiv.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),this.output||(this.output=new i.default([],e),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output.is2DReshaped=!0,this.output.originalShape=this.outputShape,this.output.indicesForReshaped=u.createIndicesFor2DReshaped(this.outputShape,!1,-1)),t.is2DReshaped||t.is2DSquareReshaped){const e=Boolean(t.glTextureFragments);if(e&&t.convert2DRowFragmentedGLTextureToColStack(),!this.convProgram){const n=(0,s.default)("conv2d",this.output.glTextureFragmentShape?this.output.glTextureFragmentShape:this.output.glTextureShape,t.glTextureFragmentShape?t.glTextureFragmentShape:t.glTextureShape,this.indexMap.glTextureFragmentShape?this.indexMap.glTextureFragmentShape:this.indexMap.glTextureShape,this.useBias,e);this.convProgram=a.webgl2.compileProgram(n)}a.webgl2.runProgram({program:this.convProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:[{input:t,name:"x"},{input:this.indexMap,name:"indexMap"},{input:this.weights["kernel"],name:"kernel"},...this.useBias?[{input:this.weights["bias"],name:"bias"}]:[]],supportsTextureFragments:!0}),e&&t.removeGLTextureFragmentsAsColStack()}else{const t=[{input:this.volColsMat,name:"A"},{input:this.weights["kernel"],name:"B"}];this.useBias&&t.push({input:this.weights["bias"],name:"C"}),a.webgl2.runProgram({program:this.matMulProgram,output:"linear"===this.activation?this.output:this.outputPreactiv,inputs:t,uniforms:[{value:this.useBias?1:0,type:"bool",name:"addC"}],supportsTextureFragments:!0})}"linear"!==this.activation&&a.webgl2.runProgram({program:this.activationProgram,output:this.output,inputs:[{input:this.outputPreactiv,name:"x"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.reshapeFrom2D(),"channels_first"===this.dataFormat&&(this.output.tensor=this.output.tensor.transpose(3,0,1,2)))}}e.default=v},e025:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=p(n("891c")),i=p(n("d3b1")),o=p(n("5f98")),a=l(n("c022")),s=p(n("62d6")),u=p(n("900e")),c=p(n("1f4e"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}function p(t){return t&&t.__esModule?t:{default:t}}class h extends r.default{constructor(t={}){super(t),this.layerClass="Conv1D";const{filters:e=1,kernel_size:n=1,strides:r=1,padding:i="valid",dilation_rate:a=1,activation:s="linear",use_bias:u=!0}=t;this.description=`${e} filters of size ${n}, striding ${r}`,this.description+="valid"===i?", no border padding":", pad to same borders",this.description+=a>1?`, dilation rate ${a}`:"",this.description+="linear"!==s?`, ${s} activation`:"","valid"!==i&&"same"!==i&&this.throwError("Invalid padding."),1!==a&&1!==r&&this.throwError("Incompatible combination of dilation_rate with strides."),this.use_bias=u,this.params=this.use_bias?["kernel","bias"]:["kernel"];const c={filters:e,kernel_size:[n,1],strides:[r,1],padding:i,data_format:"channels_first",dilation_rate:a,activation:s,use_bias:u};this._conv2dAttrs=c,this._conv2d=new o.default(Object.assign(c,{gpu:t.gpu}))}setWeights(t){t[0].tensor=(0,c.default)(t[0].tensor).transpose(2,1,0,3),this._conv2d.setWeights(t)}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){const e=new i.default(t.tensor.data,t.tensor.shape);e.tensor=(0,c.default)(e.tensor).transpose(0,2,1);const n=this._conv2d.call(e);this.outputShape=[0,2].map(t=>this._conv2d.outputShape[t]),this.output=new i.default([],this.outputShape),s.default.assign(this.output.tensor,(0,u.default)(n.tensor).transpose(1,0,2))}_callGPU(t){t.glTexture||t.createGLTexture({type:"2d",format:"float"});const e=t.tensor.shape,n=new i.default([],e);Object.assign(n,t),n.glTextureShape=e,n.is2DReshaped=!0,n.originalShape=[e[0],1,e[1]],n.indicesForReshaped=a.createIndicesFor2DReshaped(n.originalShape,!1,-1),this.output=this._conv2d.call(n),0===this.outbound.length&&this.output.transferFromGLTexture()}}e.default=h},e0b8:function(t,e,n){"use strict";var r=n("7726"),i=n("5ca1"),o=n("2aba"),a=n("dcbc"),s=n("67ab"),u=n("4a59"),c=n("f605"),l=n("d3f4"),p=n("79e5"),h=n("5cc5"),f=n("7f20"),d=n("5dbc");t.exports=function(t,e,n,g,m,v){var y=r[t],_=y,x=m?"set":"add",b=_&&_.prototype,w={},S=function(t){var e=b[t];o(b,t,"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof _&&(v||b.forEach&&!p(function(){(new _).entries().next()}))){var T=new _,P=T[x](v?{}:-0,1)!=T,C=p(function(){T.has(1)}),M=h(function(t){new _(t)}),A=!v&&p(function(){var t=new _,e=5;while(e--)t[x](e,e);return!t.has(-0)});M||(_=e(function(e,n){c(e,_,t);var r=d(new y,e,_);return void 0!=n&&u(n,m,r[x],r),r}),_.prototype=b,b.constructor=_),(C||A)&&(S("delete"),S("has"),m&&S("get")),(A||P)&&S(x),v&&b.clear&&delete b.clear}else _=g.getConstructor(e,t,m,x),a(_.prototype,n),s.NEED=!0;return f(_,t),w[t]=_,i(i.G+i.W+i.F*(_!=y),w),v||g.setStrong(_,t,m),_}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e24b:function(t,e,n){var r=n("49f4"),i=n("1efc"),o=n("bbc0"),a=n("7a48"),s=n("2524");function u(t){var e=-1,n=null==t?0:t.length;this.clear();while(++e<n){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},e2c0:function(t,e,n){var r=n("e2e4"),i=n("d370"),o=n("6747"),a=n("c098"),s=n("b218"),u=n("f4d6");function c(t,e,n){e=r(e,t);var c=-1,l=e.length,p=!1;while(++c<l){var h=u(e[c]);if(!(p=null!=t&&n(t,h)))break;t=t[h]}return p||++c!=l?p:(l=null==t?0:t.length,!!l&&s(l)&&a(h,l)&&(o(t)||i(t)))}t.exports=c},e2e4:function(t,e,n){var r=n("6747"),i=n("f608"),o=n("18d8"),a=n("76dd");function s(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}t.exports=s},e380:function(t,e,n){var r=n("7b83"),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},e394:function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=n("38fd"),a=r.has,s=r.get,u=r.key,c=function(t,e,n){var r=a(t,e,n);if(r)return s(t,e,n);var i=o(e);return null!==i?c(t,i,n):void 0};r.exp({getMetadata:function(t,e){return c(t,i(e),arguments.length<3?void 0:u(arguments[2]))}})},e3d0:function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=r.key,a=r.set;r.exp({defineMetadata:function(t,e,n,r){a(t,e,i(n),o(r))}})},e3db:function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},e3f8:function(t,e,n){var r=n("656b");function i(t){return function(e){return r(e,t)}}t.exports=i},e45a:function(t,e,n){"use strict";var r=n("aea1");t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},e4f7:function(t,e,n){var r=n("4bf8"),i=n("38fd");n("5eda")("getPrototypeOf",function(){return function(t){return i(r(t))}})},e792:function(t,e,n){"use strict";(function(t){if(n("66f9"),n("96cf"),t._babelPolyfill)throw new Error("only one instance of @babel/polyfill is allowed");t._babelPolyfill=!0}).call(this,n("c8ba"))},e7fa:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("5a3a")),i=u(n("63ea")),o=u(n("891c")),a=u(n("d3b1")),s=n("d966");function u(t){return t&&t.__esModule?t:{default:t}}class c extends o.default{constructor(t={}){super(t),this.layerClass="_Merge",this.isMergeLayer=!0}call(t){if(this.gpu)this._callGPU(t);else{const e=this._validateInputs(t);e||this.throwError("Invalid inputs to call method."),this._callCPU(t)}return this.output}_validateInputs(t){const e=t.map(t=>t.tensor.shape.slice());if(["sum","diff","mul","ave","max","min"].indexOf(this.mode)>-1&&(e.every(t=>(0,i.default)(t,e[0]))||this.throwError(`All input shapes must be the same for mode ${this.mode}.`)),"dot"===this.mode)2!==t.length&&this.throwError(`Exactly 2 inputs required for mode ${this.mode}.`),this.dotAxes[0]<0&&(this.dotAxes[0]=e[0].length+this.dotAxes[0]),this.dotAxes[1]<0&&(this.dotAxes[1]=e[1].length+this.dotAxes[1]),e[0][this.dotAxes[0]]!==e[1][this.dotAxes[1]]&&this.throwError("Dimensions incompatibility using dot mode.");else if("concat"===this.mode){let t=e.slice(),n=this.concatAxis<0?t[0].length+this.concatAxis:this.concatAxis;0===this.concatAxis&&(n=0),(0,r.default)(t.length).forEach(e=>{t[e].splice(n,1)}),t.every(e=>(0,i.default)(e,t[0]))||this.throwError("In concat mode, all shapes must be the same except along the concat axis.")}return!0}_callCPU(){}_callGPU(t){t.forEach(t=>{t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0})}),this.output||(this.output=new a.default([],t[0].glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t[0].is1D?this.output.is1D=t[0].is1D:(t[0].is2DReshaped||t[0].is2DSquareReshaped)&&(t[0].is2DReshaped?this.output.is2DReshaped=t[0].is2DReshaped:t[0].is2DSquareReshaped&&(this.output.is2DSquareReshaped=t[0].is2DSquareReshaped),this.output.originalShape=t[0].originalShape.slice(),this.output.indicesForReshaped=t[0].indicesForReshaped)),s.webgl2.runProgram({program:this.mergeProgram,output:this.output,inputs:t.map((t,e)=>({input:t,name:`inputs[${e}]`})),supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=c},e804:function(t,e,n){"use strict";var r=n("5ca1"),i=n("f1ae");r(r.S+r.F*n("79e5")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);while(e>t)i(n,t,arguments[t++]);return n.length=e,n}})},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},e8e6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("2743"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="GlobalMaxPooling3D",this.poolingFunc="max"}}e.default=o},e938:function(t,e,n){"use strict";(function(t){var r=e;function i(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;++i)void 0!==t[r[i]]&&n||(t[r[i]]=e[r[i]]);return t}function o(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n("305b"),r.base64=n("6e75"),r.EventEmitter=n("6897"),r.float=n("2b01"),r.inquire=n("d468"),r.utf8=n("c8d4"),r.pool=n("0446"),r.LongBits=n("a384"),r.global="undefined"!==typeof window&&window||"undefined"!==typeof t&&t||"undefined"!==typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"===typeof t||t instanceof String},r.isObject=function(t){return t&&"object"===typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"===typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"===typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=i,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n("c8ba"))},e956:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c45f"),o=n("4bf8"),a=n("9def"),s=n("d8e8"),u=n("cd1c");r(r.P,"Array",{flatMap:function(t){var e,n,r=o(this);return s(t),e=a(r.length),n=u(r,0),i(n,r,r,e,0,1,t,arguments[1]),n}}),n("9c6c")("flatMap")},e9d2:function(t,e){t.exports=Math.scale||function(t,e,n,r,i){return 0===arguments.length||t!=t||e!=e||n!=n||r!=r||i!=i?NaN:t===1/0||t===-1/0?t:(t-e)*(i-r)/(n-e)+r}},ea2d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("e7fa")),i=u(n("d3b1")),o=n("d966"),a=u(n("c0de")),s=u(n("62d6"));function u(t){return t&&t.__esModule?t:{default:t}}class c extends r.default{constructor(t={}){super(t),this.layerClass="Average",this.mode="ave"}_callCPU(t){const e=t[0].tensor.shape.slice();this.output=new i.default([],e);for(let n=0;n<t.length;n++)s.default.addeq(this.output.tensor,t[n].tensor);s.default.divseq(this.output.tensor,t.length)}_callGPU(t){if(!this.mergeProgram){const e=t[0].glTextureFragments?t[0].glTextureFragmentShape:t[0].glTextureShape,n=(0,a.default)("average",t.length,e);this.mergeProgram=o.webgl2.compileProgram(n)}super._callGPU(t)}}e.default=c},eac5:function(t,e){var n=Object.prototype;function r(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||n;return t===r}t.exports=r},ebd6:function(t,e,n){var r=n("cb7c"),i=n("d8e8"),o=n("2b4c")("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||void 0==(n=r(a)[o])?e:i(n)}},ebde:function(t,e,n){var r=n("11e9"),i=n("5ca1"),o=n("cb7c");i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(o(t),e)}})},ebfb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("891c"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="SpatialDropout3D";const{rate:e=.5,data_format:n="channels_last"}=t;this.description=`${e}`,this.rate=Math.min(Math.max(0,e),1),this.dataFormat=n}call(t){return this.output=t,this.output}}e.default=o},ec30:function(t,e,n){"use strict";if(n("9e1e")){var r=n("2d00"),i=n("7726"),o=n("79e5"),a=n("5ca1"),s=n("0f88"),u=n("ed0b"),c=n("9b43"),l=n("f605"),p=n("4630"),h=n("32e9"),f=n("dcbc"),d=n("4588"),g=n("9def"),m=n("09fa"),v=n("77f1"),y=n("6a99"),_=n("69a8"),x=n("23c6"),b=n("d3f4"),w=n("4bf8"),S=n("33a4"),T=n("2aeb"),P=n("38fd"),C=n("9093").f,M=n("27ee"),A=n("ca5a"),F=n("2b4c"),k=n("0a49"),O=n("c366"),E=n("ebd6"),j=n("cadf"),D=n("84f2"),I=n("5cc5"),R=n("7a56"),L=n("36bd"),U=n("ba92"),z=n("86cc"),G=n("11e9"),N=z.f,B=G.f,$=i.RangeError,q=i.TypeError,V=i.Uint8Array,H="ArrayBuffer",W="Shared"+H,X="BYTES_PER_ELEMENT",Y="prototype",K=Array[Y],J=u.ArrayBuffer,Z=u.DataView,Q=k(0),tt=k(2),et=k(3),nt=k(4),rt=k(5),it=k(6),ot=O(!0),at=O(!1),st=j.values,ut=j.keys,ct=j.entries,lt=K.lastIndexOf,pt=K.reduce,ht=K.reduceRight,ft=K.join,dt=K.sort,gt=K.slice,mt=K.toString,vt=K.toLocaleString,yt=F("iterator"),_t=F("toStringTag"),xt=A("typed_constructor"),bt=A("def_constructor"),wt=s.CONSTR,St=s.TYPED,Tt=s.VIEW,Pt="Wrong length!",Ct=k(1,function(t,e){return Ot(E(t,t[bt]),e)}),Mt=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),At=!!V&&!!V[Y].set&&o(function(){new V(1).set({})}),Ft=function(t,e){var n=d(t);if(n<0||n%e)throw $("Wrong offset!");return n},kt=function(t){if(b(t)&&St in t)return t;throw q(t+" is not a typed array!")},Ot=function(t,e){if(!(b(t)&&xt in t))throw q("It is not a typed array constructor!");return new t(e)},Et=function(t,e){return jt(E(t,t[bt]),e)},jt=function(t,e){var n=0,r=e.length,i=Ot(t,r);while(r>n)i[n]=e[n++];return i},Dt=function(t,e,n){N(t,e,{get:function(){return this._d[n]}})},It=function(t){var e,n,r,i,o,a,s=w(t),u=arguments.length,l=u>1?arguments[1]:void 0,p=void 0!==l,h=M(s);if(void 0!=h&&!S(h)){for(a=h.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(p&&u>2&&(l=c(l,arguments[2],2)),e=0,n=g(s.length),i=Ot(this,n);n>e;e++)i[e]=p?l(s[e],e):s[e];return i},Rt=function(){var t=0,e=arguments.length,n=Ot(this,e);while(e>t)n[t]=arguments[t++];return n},Lt=!!V&&o(function(){vt.call(new V(1))}),Ut=function(){return vt.apply(Lt?gt.call(kt(this)):kt(this),arguments)},zt={copyWithin:function(t,e){return U.call(kt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(kt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return L.apply(kt(this),arguments)},filter:function(t){return Et(this,tt(kt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return rt(kt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return it(kt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(kt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(kt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(kt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ft.apply(kt(this),arguments)},lastIndexOf:function(t){return lt.apply(kt(this),arguments)},map:function(t){return Ct(kt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return pt.apply(kt(this),arguments)},reduceRight:function(t){return ht.apply(kt(this),arguments)},reverse:function(){var t,e=this,n=kt(e).length,r=Math.floor(n/2),i=0;while(i<r)t=e[i],e[i++]=e[--n],e[n]=t;return e},some:function(t){return et(kt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(kt(this),t)},subarray:function(t,e){var n=kt(this),r=n.length,i=v(t,r);return new(E(n,n[bt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((void 0===e?r:v(e,r))-i))}},Gt=function(t,e){return Et(this,gt.call(kt(this),t,e))},Nt=function(t){kt(this);var e=Ft(arguments[1],1),n=this.length,r=w(t),i=g(r.length),o=0;if(i+e>n)throw $(Pt);while(o<i)this[e+o]=r[o++]},Bt={entries:function(){return ct.call(kt(this))},keys:function(){return ut.call(kt(this))},values:function(){return st.call(kt(this))}},$t=function(t,e){return b(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},qt=function(t,e){return $t(t,e=y(e,!0))?p(2,t[e]):B(t,e)},Vt=function(t,e,n){return!($t(t,e=y(e,!0))&&b(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?N(t,e,n):(t[e]=n.value,t)};wt||(G.f=qt,z.f=Vt),a(a.S+a.F*!wt,"Object",{getOwnPropertyDescriptor:qt,defineProperty:Vt}),o(function(){mt.call({})})&&(mt=vt=function(){return ft.call(this)});var Ht=f({},zt);f(Ht,Bt),h(Ht,yt,Bt.values),f(Ht,{slice:Gt,set:Nt,constructor:function(){},toString:mt,toLocaleString:Ut}),Dt(Ht,"buffer","b"),Dt(Ht,"byteOffset","o"),Dt(Ht,"byteLength","l"),Dt(Ht,"length","e"),N(Ht,_t,{get:function(){return this[St]}}),t.exports=function(t,e,n,u){u=!!u;var c=t+(u?"Clamped":"")+"Array",p="get"+t,f="set"+t,d=i[c],v=d||{},y=d&&P(d),_=!d||!s.ABV,w={},S=d&&d[Y],M=function(t,n){var r=t._d;return r.v[p](n*e+r.o,Mt)},A=function(t,n,r){var i=t._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[f](n*e+i.o,r,Mt)},F=function(t,e){N(t,e,{get:function(){return M(this,e)},set:function(t){return A(this,e,t)},enumerable:!0})};_?(d=n(function(t,n,r,i){l(t,d,c,"_d");var o,a,s,u,p=0,f=0;if(b(n)){if(!(n instanceof J||(u=x(n))==H||u==W))return St in n?jt(d,n):It.call(d,n);o=n,f=Ft(r,e);var v=n.byteLength;if(void 0===i){if(v%e)throw $(Pt);if(a=v-f,a<0)throw $(Pt)}else if(a=g(i)*e,a+f>v)throw $(Pt);s=a/e}else s=m(n),a=s*e,o=new J(a);h(t,"_d",{b:o,o:f,l:a,e:s,v:new Z(o)});while(p<s)F(t,p++)}),S=d[Y]=T(Ht),h(S,"constructor",d)):o(function(){d(1)})&&o(function(){new d(-1)})&&I(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=n(function(t,n,r,i){var o;return l(t,d,c),b(n)?n instanceof J||(o=x(n))==H||o==W?void 0!==i?new v(n,Ft(r,e),i):void 0!==r?new v(n,Ft(r,e)):new v(n):St in n?jt(d,n):It.call(d,n):new v(m(n))}),Q(y!==Function.prototype?C(v).concat(C(y)):C(v),function(t){t in d||h(d,t,v[t])}),d[Y]=S,r||(S.constructor=d));var k=S[yt],O=!!k&&("values"==k.name||void 0==k.name),E=Bt.values;h(d,xt,!0),h(S,St,c),h(S,Tt,!0),h(S,bt,d),(u?new d(1)[_t]==c:_t in S)||N(S,_t,{get:function(){return c}}),w[c]=d,a(a.G+a.W+a.F*(d!=v),w),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o(function(){v.of.call(d,1)}),c,{from:It,of:Rt}),X in S||h(S,X,e),a(a.P,c,zt),R(c),a(a.P+a.F*At,c,{set:Nt}),a(a.P+a.F*!O,c,Bt),r||S.toString==mt||(S.toString=mt),a(a.P+a.F*o(function(){new d(1).slice()}),c,{slice:Gt}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!o(function(){S.toLocaleString.call([1,2])})),c,{toLocaleString:Ut}),D[c]=O?k:E,r||O||h(S,yt,E)}}else t.exports=function(){}},ec39:function(t,e,n){var r=n("37a7"),i=n("cb7c"),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(t,e){return o(t,i(e),arguments.length<3?void 0:a(arguments[2]))}})},ec69:function(t,e,n){var r=n("6fcd"),i=n("03dd"),o=n("30c9");function a(t){return o(t)?r(t):i(t)}t.exports=a},ec7d:function(t,e,n){"use strict";function r(){console.error("TBMV (triangular banded matrix vector multiply) not yet implemented")}t.exports=r},ecf6:function(t,e){function n(t,e){var n,r=-1,i=t.length;while(++r<i){var o=e(t[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}t.exports=n},ed0b:function(t,e,n){"use strict";var r=n("7726"),i=n("9e1e"),o=n("2d00"),a=n("0f88"),s=n("32e9"),u=n("dcbc"),c=n("79e5"),l=n("f605"),p=n("4588"),h=n("9def"),f=n("09fa"),d=n("9093").f,g=n("86cc").f,m=n("36bd"),v=n("7f20"),y="ArrayBuffer",_="DataView",x="prototype",b="Wrong length!",w="Wrong index!",S=r[y],T=r[_],P=r.Math,C=r.RangeError,M=r.Infinity,A=S,F=P.abs,k=P.pow,O=P.floor,E=P.log,j=P.LN2,D="buffer",I="byteLength",R="byteOffset",L=i?"_b":D,U=i?"_l":I,z=i?"_o":R;function G(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?k(2,-24)-k(2,-77):0,p=0,h=t<0||0===t&&1/t<0?1:0;for(t=F(t),t!=t||t===M?(i=t!=t?1:0,r=u):(r=O(E(t)/j),t*(o=k(2,-r))<1&&(r--,o*=2),t+=r+c>=1?l/o:l*k(2,1-c),t*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*k(2,e),r+=c):(i=t*k(2,c-1)*k(2,e),r=0));e>=8;a[p++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[p++]=255&r,r/=256,s-=8);return a[--p]|=128*h,a}function N(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;r=256*r+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-M:M;r+=k(2,e),l-=a}return(c?-1:1)*r*k(2,l-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function $(t){return[255&t]}function q(t){return[255&t,t>>8&255]}function V(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function H(t){return G(t,52,8)}function W(t){return G(t,23,4)}function X(t,e,n){g(t[x],e,{get:function(){return this[n]}})}function Y(t,e,n,r){var i=+n,o=f(i);if(o+e>t[U])throw C(w);var a=t[L]._b,s=o+t[z],u=a.slice(s,s+e);return r?u:u.reverse()}function K(t,e,n,r,i,o){var a=+n,s=f(a);if(s+e>t[U])throw C(w);for(var u=t[L]._b,c=s+t[z],l=r(+i),p=0;p<e;p++)u[c+p]=l[o?p:e-p-1]}if(a.ABV){if(!c(function(){S(1)})||!c(function(){new S(-1)})||c(function(){return new S,new S(1.5),new S(NaN),S.name!=y})){S=function(t){return l(this,S),new A(f(t))};for(var J,Z=S[x]=A[x],Q=d(A),tt=0;Q.length>tt;)(J=Q[tt++])in S||s(S,J,A[J]);o||(Z.constructor=S)}var et=new T(new S(2)),nt=T[x].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||u(T[x],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else S=function(t){l(this,S,y);var e=f(t);this._b=m.call(new Array(e),0),this[U]=e},T=function(t,e,n){l(this,T,_),l(t,S,_);var r=t[U],i=p(e);if(i<0||i>r)throw C("Wrong offset!");if(n=void 0===n?r-i:h(n),i+n>r)throw C(b);this[L]=t,this[z]=i,this[U]=n},i&&(X(S,I,"_l"),X(T,D,"_b"),X(T,I,"_l"),X(T,R,"_o")),u(T[x],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var e=Y(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Y(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(Y(this,4,t,arguments[1]))},getUint32:function(t){return B(Y(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return N(Y(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return N(Y(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,$,e)},setUint8:function(t,e){K(this,1,t,$,e)},setInt16:function(t,e){K(this,2,t,q,e,arguments[2])},setUint16:function(t,e){K(this,2,t,q,e,arguments[2])},setInt32:function(t,e){K(this,4,t,V,e,arguments[2])},setUint32:function(t,e){K(this,4,t,V,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,W,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,H,e,arguments[2])}});v(S,y),v(T,_),s(T[x],a.VIEW,!0),e[y]=S,e[_]=T},ed50:function(t,e,n){"use strict";var r=n("5ca1"),i=n("2e08"),o=n("a25f"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},ed7e:function(t,e,n){var r=n("5ca1");r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},edbd:function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=-1/0,o=t.data,a=t.stride[0],s=t.offset,u=t.shape[0];for(e=0;e<u;e++,s+=a)n=Math.abs(o[s]),n>i&&(i=n,r=e);return r}},edbf:function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i=t.data,o=t.stride[0],a=t.offset,s=0;if(t===e)for(n=t.shape[0]-1;n>=0;n--,a+=o)r=i[a],s+=r*r;else{var u=e.data,c=e.stride[0],l=e.offset;for(n=t.shape[0]-1;n>=0;n--,a+=o,l+=c)s+=u[l]*i[a]}return s}},edcf:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=n("3e72");function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform float alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + alpha * min(v, 0.0);\n}\n";class c extends r.default{constructor(t={}){super(t),this.layerClass="LeakyReLU";const{alpha:e=.3}=t;this.description=`alpha: ${e}`,this.alpha=e,this.gpu&&(this.program=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,(0,a.relu)(this.output,{alpha:this.alpha})}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"}],uniforms:[{value:this.alpha,type:"float",name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=c},edfa:function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},ee1d:function(t,e,n){var r=n("5ca1");r(r.S,"Number",{isNaN:function(t){return t!=t}})},ee77:function(t,e,n){"use strict";t.exports=function(t,e){var n,r=t.data,i=e.data,o=t.stride[0],a=e.stride[0],s=t.offset,u=e.offset;for(n=t.shape[0]-1;n>=0;n--,s+=o,u+=a)i[u]=r[s]}},ef5d:function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},efb6:function(t,e,n){var r=n("5e2e");function i(){this.__data__=new r,this.size=0}t.exports=i},f0c1:function(t,e,n){"use strict";var r=n("d8e8"),i=n("d3f4"),o=n("31f4"),a=[].slice,s={},u=function(t,e,n){if(!(e in s)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(e,r.length,r):o(e,r,t)};return i(e.prototype)&&(s.prototype=e.prototype),s}},f13b:function(t,e,n){"use strict";var r=n("db45");function i(t,e,n,i,o,a){var s=t.shape[0],u=i||!0,c=void 0===o?1:o,l=void 0===a?0:a,p=0,h=0,f=0,d=0;if(0===l)for(p=0;p<n.shape[0];++p)n.set(p,0);else 1!==l&&r.scal(l,n);if(0===c)return!0;if(1===c)if(u)for(h=0;h<s;++h){for(f=e.get(h),d=0,n.set(h,n.get(h)+f*t.get(h,h)),p=h+1;p<s;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+d)}else for(h=0;h<s;++h){for(f=e.get(h),d=0,p=0;p<=h-1;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+f*t.get(h,h)+d)}else if(u)for(h=0;h<s;++h){for(f=c*e.get(h),d=0,n.set(h,n.get(h)+f*t.get(h,h)),p=h+1;p<s;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+c*d)}else for(h=0;h<s;++h){for(f=c*e.get(h),d=0,p=0;p<=h-1;++p)n.set(p,n.get(p)+f*t.get(p,h)),d+=t.get(p,h)*e.get(p);n.set(h,n.get(h)+f*t.get(h,h)+c*d)}return!0}t.exports=i},f1ae:function(t,e,n){"use strict";var r=n("86cc"),i=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},f28c:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function u(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}})();var c,l=[],p=!1,h=-1;function f(){p&&c&&(p=!1,c.length?l=c.concat(l):h=-1,l.length&&d())}function d(){if(!p){var t=s(f);p=!0;var e=l.length;while(e){c=l,l=[];while(++h<e)c&&c[h].run();h=-1,e=l.length}c=null,p=!1,u(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new g(t,e)),1!==l.length||p||s(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},f2ce:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("891c")),i=s(n("d3b1")),o=n("d966"),a=s(n("d7e6"));function s(t){return t&&t.__esModule?t:{default:t}}const u="#version 300 es\nprecision highp float;\n\nin vec2 outTex;\nuniform sampler2D x;\nuniform sampler2D alpha;\nout vec4 outColor;\n\nvoid main() {\n  vec4 v = texture(x, vec2(outTex.x, outTex.y));\n  vec4 a = texture(alpha, vec2(outTex.x, outTex.y));\n  outColor = max(v, 0.0) + a * min(v, 0.0);\n}\n";class c extends r.default{constructor(t={}){super(t),Object.defineProperty(this,"_compute",{configurable:!0,enumerable:!0,writable:!0,value:(0,a.default)({args:["array","array"],body:function(t,e){t=Math.max(t,0)+e*Math.min(t,0)}})}),this.layerClass="PReLU",this.params=["alpha"],this.gpu&&(this.program=o.webgl2.compileProgram(u))}call(t){return this.gpu?this._callGPU(t):this._callCPU(t),this.output}_callCPU(t){this.output=t,this._compute(this.output.tensor,this.weights["alpha"].tensor)}_callGPU(t){t.glTexture||t.glTextureFragments||t.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),this.output||(this.output=new i.default([],t.glTextureShape),this.output.createGLTexture({type:"2d",format:"float",supportsTextureFragments:!0}),t.is1D?this.output.is1D=t.is1D:(t.is2DReshaped||t.is2DSquareReshaped)&&(t.is2DReshaped?this.output.is2DReshaped=t.is2DReshaped:t.is2DSquareReshaped&&(this.output.is2DSquareReshaped=t.is2DSquareReshaped),this.output.originalShape=t.originalShape,this.output.indicesForReshaped=t.indicesForReshaped)),o.webgl2.runProgram({program:this.program,output:this.output,inputs:[{input:t,name:"x"},{input:this.weights["alpha"],name:"alpha"}],supportsTextureFragments:!0}),0===this.outbound.length&&(this.output.transferFromGLTexture(),this.output.is2DReshaped?this.output.reshapeFrom2D():this.output.is2DSquareReshaped&&this.output.reshapeFrom2DSquare())}}e.default=c},f2d6:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"MaxPooling1D",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"MaxPooling2D",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"MaxPooling3D",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"AveragePooling1D",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"AveragePooling2D",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"AveragePooling3D",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"GlobalMaxPooling1D",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"GlobalMaxPooling2D",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"GlobalMaxPooling3D",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"GlobalAveragePooling1D",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"GlobalAveragePooling2D",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"GlobalAveragePooling3D",{enumerable:!0,get:function(){return d.default}});var r=g(n("c9c7")),i=g(n("082f")),o=g(n("af45")),a=g(n("16cc")),s=g(n("4d46")),u=g(n("c065")),c=g(n("4192")),l=g(n("8fdb")),p=g(n("e8e6")),h=g(n("4d2a")),f=g(n("9618")),d=g(n("9de3"));function g(t){return t&&t.__esModule?t:{default:t}}},f386:function(t,e,n){"use strict";n("386b")("small",function(t){return function(){return t(this,"small","","")}})},f3c1:function(t,e){var n=800,r=16,i=Date.now;function o(t){var e=0,o=0;return function(){var a=i(),s=r-(a-o);if(o=a,s>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}t.exports=o},f3e2:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(0),o=n("2f21")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},f400:function(t,e,n){"use strict";var r=n("c26b"),i=n("b39a"),o="Map";t.exports=n("e0b8")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(i(this,o),t);return e&&e.v},set:function(t,e){return r.def(i(this,o),0===t?0:t,e)}},r,!0)},f4d6:function(t,e,n){var r=n("ffd6"),i=1/0;function o(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}t.exports=o},f4ff:function(t,e,n){var r=n("5ca1"),i=Math.imul;r(r.S+r.F*n("79e5")(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,e){var n=65535,r=+t,i=+e,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},f559:function(t,e,n){"use strict";var r=n("5ca1"),i=n("9def"),o=n("d2c8"),a="startsWith",s=""[a];r(r.P+r.F*n("5147")(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},f576:function(t,e,n){"use strict";var r=n("5ca1"),i=n("2e08"),o=n("a25f"),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);r(r.P+r.F*a,"String",{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},f605:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},f608:function(t,e,n){var r=n("6747"),i=n("ffd6"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(a.test(t)||!o.test(t)||null!=e&&t in Object(e))}t.exports=s},f684:function(t,e,n){(function(e,n){!function(e){t.exports=e()}(function(){var t,r,i;return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports=function(t){var e=t._SomePromiseArray;function n(t){var n=new e(t),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}t.any=function(t){return n(t)},t.prototype.any=function(){return n(this)}}},{}],2:[function(t,n,r){"use strict";var i;try{throw new Error}catch(d){i=d}var o=t("./schedule"),a=t("./queue"),s=t("./util");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=o}function c(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function l(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function p(t){this._normalQueue._pushOne(t),this._queueTick()}function h(t){while(t.length()>0)f(t)}function f(t){var e=t.shift();if("function"!==typeof e)e._settlePromises();else{var n=t.shift(),r=t.shift();e.call(n,r)}}u.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},u.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!==typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(d){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(u.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?c.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},u.prototype.invoke=function(t,e,n){this._trampolineEnabled?l.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},u.prototype.settlePromises=function(t){this._trampolineEnabled?p.call(this,t):this._schedule(function(){t._settlePromises()})}):(u.prototype.invokeLater=c,u.prototype.invoke=l,u.prototype.settlePromises=p),u.prototype._drainQueues=function(){h(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,h(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},n.exports=u,n.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var p=this._target();if(l._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:p,bindingPromise:c};p._then(e,a,void 0,l,h),c._then(s,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(p);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=-2097153&this._bitField},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},{}],4:[function(t,e,n){"use strict";var r;function i(){try{Promise===o&&(Promise=r)}catch(t){}return o}"undefined"!==typeof Promise&&(r=Promise);var o=t("./promise")();o.noConflict=i,e.exports=o},{"./promise":22}],5:[function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}e.exports=function(e){var n,r=t("./util"),i=r.canEvaluate;r.isIdentifier;function o(t,n){var i;if(null!=t&&(i=t[n]),"function"!==typeof i){var o="Object "+r.classString(t)+" has no method '"+r.toString(n)+"'";throw new e.TypeError(o)}return i}function a(t){var e=this.pop(),n=o(t,e);return n.apply(t,this)}function s(t){return t[this]}function u(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}e.prototype.call=function(t){var e=[].slice.call(arguments,1);return e.push(t),this._then(a,void 0,void 0,e,void 0)},e.prototype.get=function(t){var e,r="number"===typeof t;if(r)e=u;else if(i){var o=n(t);e=null!==o?o:s}else e=s;return this._then(e,void 0,void 0,t,void 0)}}},{"./util":36}],6:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=o.tryCatch,s=o.errorObj,u=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");var t=this,e=t;while(t._isCancellable()){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"===typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=t("./es5").keys,i=n.tryCatch,o=n.errorObj;function a(t,a,s){return function(u){var c=s._boundValue();t:for(var l=0;l<t.length;++l){var p=t[l];if(p===Error||null!=p&&p.prototype instanceof Error){if(u instanceof p)return i(a).call(c,u)}else if("function"===typeof p){var h=i(p).call(c,u);if(h===o)return h;if(h)return i(a).call(c,u)}else if(n.isObject(u)){for(var f=r(p),d=0;d<f.length;++d){var g=f[d];if(p[g]!=u[g])continue t}return i(a).call(c,u)}}return e}}return a}},{"./es5":13,"./util":36}],8:[function(t,e,n){"use strict";e.exports=function(t){var e=!1,n=[];function r(){this._trace=new r.CapturedTrace(o())}function i(){if(e)return new r}function o(){var t=n.length-1;if(t>=0)return n[t]}return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var t=n.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},r.CapturedTrace=null,r.create=i,r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=t.prototype._pushContext,i=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;r.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=i,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,e=!1},e=!0,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,t._peekContext=t.prototype._peekContext=o,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},r}},{}],9:[function(t,n,r){"use strict";n.exports=function(n,r){var i,o,a,s=n._getDomain,u=n._async,c=t("./errors").Warning,l=t("./util"),p=t("./es5"),h=l.canAttachTrace,f=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,g=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,m=null,v=null,y=!1,_=!(0==l.env("BLUEBIRD_DEBUG")),x=!(0==l.env("BLUEBIRD_WARNINGS")||!_&&!l.env("BLUEBIRD_WARNINGS")),b=!(0==l.env("BLUEBIRD_LONG_STACK_TRACES")||!_&&!l.env("BLUEBIRD_LONG_STACK_TRACES")),w=0!=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(x||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));n.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=-1048577&t._bitField|524288},n.prototype._ensurePossibleRejectionHandled=function(){if(0===(524288&this._bitField)){this._setRejectionIsUnhandled();var t=this;setTimeout(function(){t._notifyUnhandledRejection()},1)}},n.prototype._notifyUnhandledRejectionIsHandled=function(){Z("rejectionHandled",i,void 0,this)},n.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},n.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),Z("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},n.prototype._warn=function(t,e,n){return q(t,e,n||this)},n.onPossiblyUnhandledRejection=function(t){var e=s();o="function"===typeof t?null===e?t:l.domainBind(e,t):void 0},n.onUnhandledRejectionHandled=function(t){var e=s();i="function"===typeof t?null===e?t:l.domainBind(e,t):void 0};var S=function(){};n.longStackTraces=function(){if(u.haveItemsQueued()&&!ut.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!ut.longStackTraces&&et()){var t=n.prototype._captureStackTrace,e=n.prototype._attachExtraTrace,i=n.prototype._dereferenceTrace;ut.longStackTraces=!0,S=function(){if(u.haveItemsQueued()&&!ut.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");n.prototype._captureStackTrace=t,n.prototype._attachExtraTrace=e,n.prototype._dereferenceTrace=i,r.deactivateLongStackTraces(),u.enableTrampoline(),ut.longStackTraces=!1},n.prototype._captureStackTrace=z,n.prototype._attachExtraTrace=G,n.prototype._dereferenceTrace=N,r.activateLongStackTraces(),u.disableTrampolineIfNecessary()}},n.hasLongStackTraces=function(){return ut.longStackTraces&&et()};var T=function(){try{if("function"===typeof CustomEvent){var t=new CustomEvent("CustomEvent");return l.global.dispatchEvent(t),function(t,e){var n={detail:e,cancelable:!0};p.defineProperty(n,"promise",{value:e.promise}),p.defineProperty(n,"reason",{value:e.reason});var r=new CustomEvent(t.toLowerCase(),n);return!l.global.dispatchEvent(r)}}if("function"===typeof Event){t=new Event("CustomEvent");return l.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,p.defineProperty(n,"promise",{value:e.promise}),p.defineProperty(n,"reason",{value:e.reason}),!l.global.dispatchEvent(n)}}t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),l.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!l.global.dispatchEvent(n)}}catch(e){}return function(){return!1}}(),P=function(){return l.isNode?function(){return e.emit.apply(e,arguments)}:l.global?function(t){var e="on"+t.toLowerCase(),n=l.global[e];return!!n&&(n.apply(l.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}();function C(t,e){return{promise:e}}var M={promiseCreated:C,promiseFulfilled:C,promiseRejected:C,promiseResolved:C,promiseCancelled:C,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:C},A=function(t){var e=!1;try{e=P.apply(null,arguments)}catch(r){u.throwLater(r),e=!0}var n=!1;try{n=T(t,M[t].apply(null,arguments))}catch(r){u.throwLater(r),n=!0}return n||e};function F(){return!1}function k(t,e,n){var r=this;try{t(e,n,function(t){if("function"!==typeof t)throw new TypeError("onCancel must be a function, got: "+l.toString(t));r._attachCancellationCallback(t)})}catch(i){return i}}function O(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?l.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function E(){return this._onCancelField}function j(t){this._onCancelField=t}function D(){this._cancellationParent=void 0,this._onCancelField=void 0}function I(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function R(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}n.config=function(t){if(t=Object(t),"longStackTraces"in t&&(t.longStackTraces?n.longStackTraces():!t.longStackTraces&&n.hasLongStackTraces()&&S()),"warnings"in t){var e=t.warnings;ut.warnings=!!e,w=ut.warnings,l.isObject(e)&&"wForgottenReturn"in e&&(w=!!e.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!ut.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");n.prototype._clearCancellationData=D,n.prototype._propagateFrom=I,n.prototype._onCancel=E,n.prototype._setOnCancel=j,n.prototype._attachCancellationCallback=O,n.prototype._execute=k,L=I,ut.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!ut.monitoring?(ut.monitoring=!0,n.prototype._fireEvent=A):!t.monitoring&&ut.monitoring&&(ut.monitoring=!1,n.prototype._fireEvent=F)),n},n.prototype._fireEvent=F,n.prototype._execute=function(t,e,n){try{t(e,n)}catch(r){return r}},n.prototype._onCancel=function(){},n.prototype._setOnCancel=function(t){},n.prototype._attachCancellationCallback=function(t){},n.prototype._captureStackTrace=function(){},n.prototype._attachExtraTrace=function(){},n.prototype._dereferenceTrace=function(){},n.prototype._clearCancellationData=function(){},n.prototype._propagateFrom=function(t,e){};var L=R;function U(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t}function z(){this._trace=new at(this._peekContext())}function G(t,e){if(h(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=K(t);l.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(t,"__stackCleaned__",!0)}}}function N(){this._trace=void 0}function B(t,e,n,r,i){if(void 0===t&&null!==e&&w){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=X(s),c=u.length-1;c>=0;--c){var l=u[c];if(!d.test(l)){var p=l.match(g);p&&(o="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(u.length>0){var h=u[0];for(c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}}var f="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(f,!0,e)}}function $(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),q(n)}function q(t,e,r){if(ut.warnings){var i,o=new c(t);if(e)r._attachExtraTrace(o);else if(ut.longStackTraces&&(i=n._peekContext()))i.attachExtraTrace(o);else{var a=K(o);o.stack=a.message+"\n"+a.stack.join("\n")}A("warning",o)||J(o,"",!0)}}function V(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function H(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function W(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}}function X(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||m.test(r),o=i&&nt(r);i&&!o&&(y&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function Y(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||m.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function K(t){var e=t.stack,n=t.toString();return e="string"===typeof e&&e.length>0?Y(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:X(e)}}function J(t,e,n){if("undefined"!==typeof console){var r;if(l.isObject(t)){var i=t.stack;r=e+v(i,t)}else r=e+String(t);"function"===typeof a?a(r,n):"function"!==typeof console.log&&"object"!==typeof console.log||console.log(r)}}function Z(t,e,n,r){var i=!1;try{"function"===typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(o){u.throwLater(o)}"unhandledRejection"===t?A(t,n,r)||i||J(n,"Unhandled rejection "):A(t,r)}function Q(t){var e;if("function"===typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"===typeof t.toString?t.toString():l.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+tt(e)+">, no stack trace)"}function tt(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function et(){return"function"===typeof st}var nt=function(){return!1},rt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function it(t){var e=t.match(rt);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function ot(t,e){if(et()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var c=it(i[u]);if(c){n=c.fileName,a=c.line;break}}for(u=0;u<o.length;++u){c=it(o[u]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(nt=function(t){if(f.test(t))return!0;var e=it(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function at(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);st(this,at),e>32&&this.uncycle()}l.inherits(at,Error),r.CapturedTrace=at,at.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;s<t-1?(u._parent=e[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},at.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();var e=K(t),n=e.message,r=[e.stack],i=this;while(void 0!==i)r.push(X(i.stack.split("\n"))),i=i._parent;W(r),H(r),l.notEnumerableProp(t,"stack",V(n,r)),l.notEnumerableProp(t,"__stackCleaned__",!0)}};var st=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"===typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():Q(e)};if("number"===typeof Error.stackTraceLimit&&"function"===typeof Error.captureStackTrace){Error.stackTraceLimit+=6,m=t,v=e;var n=Error.captureStackTrace;return nt=function(t){return f.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"===typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,v=e,y=!0,function(t){t.stack=(new Error).stack};try{throw new Error}catch(o){r="stack"in o}return"stack"in i||!r||"number"!==typeof Error.stackTraceLimit?(v=function(t,e){return"string"===typeof t?t:"object"!==typeof e&&"function"!==typeof e||void 0===e.name||void 0===e.message?Q(e):e.toString()},null):(m=t,v=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(o){t.stack=o.stack}Error.stackTraceLimit-=6})}();"undefined"!==typeof console&&"undefined"!==typeof console.warn&&(a=function(t){console.warn(t)},l.isNode&&e.stderr.isTTY?a=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:l.isNode||"string"!==typeof(new Error).stack||(a=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var ut={warnings:x,longStackTraces:!1,cancellation:!1,monitoring:!1};return b&&n.longStackTraces(),{longStackTraces:function(){return ut.longStackTraces},warnings:function(){return ut.warnings},cancellation:function(){return ut.cancellation},monitoring:function(){return ut.monitoring},propagateFromFunction:function(){return L},boundValueFunction:function(){return U},checkForgottenReturns:B,setBounds:ot,warn:q,deprecated:$,CapturedTrace:at,fireDomEvent:T,fireGlobalEvent:P}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,n){"use strict";e.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype["return"]=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.reduce,r=t.all;function i(){return r(this)}function o(t,r){return n(t,r,e,e)}t.prototype.each=function(t){return n(this,t,e,0)._then(i,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return n(this,t,e,e)},t.each=function(t,r){return n(t,r,e,0)._then(i,void 0,void 0,t,void 0)},t.mapSeries=o}},{}],12:[function(t,e,n){"use strict";var r,i,o=t("./es5"),a=o.freeze,s=t("./util"),u=s.inherits,c=s.notEnumerableProp;function l(t,e){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"===typeof r?r:e),c(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}var p=l("Warning","warning"),h=l("CancellationError","cancellation error"),f=l("TimeoutError","timeout error"),d=l("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(x){r=l("TypeError","type error"),i=l("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<g.length;++m)"function"===typeof Array.prototype[g[m]]&&(d.prototype[g[m]]=Array.prototype[g[m]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype["isOperational"]=!0;var v=0;function y(t){if(!(this instanceof y))return new y(t);c(this,"name","OperationalError"),c(this,"message",t),this.cause=t,this["isOperational"]=!0,t instanceof Error?(c(this,"message",t.message),c(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var t=Array(4*v+1).join(" "),e="\n"+t+"AggregateError of:\n";v++,t=Array(4*v+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return v--,e},u(y,Error);var _=Error["__BluebirdErrorTypes__"];_||(_=a({CancellationError:h,TimeoutError:f,OperationalError:y,RejectionError:y,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(t,e,n){var r=function(){"use strict";return void 0===this}();if(r)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(t){var e=[];for(var n in t)i.call(t,n)&&e.push(n);return e},u=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},l=function(t){return t},p=function(t){try{return Object(t).constructor.prototype}catch(e){return a}},h=function(t){try{return"[object Array]"===o.call(t)}catch(e){return!1}};e.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:u,freeze:l,getPrototypeOf:p,isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],15:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.CancellationError,a=i.errorObj,s=t("./catch_filter")(r);function u(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function c(t){this.finallyHandler=t}function l(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function p(){return f.call(this,this.promise._target()._settledValue())}function h(t){if(!l(this,t))return a.e=t,a}function f(t){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),t);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var f=n(u,i);if(f instanceof e){if(null!=this.cancelPromise){if(f._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),a.e=d,a}f.isPending()&&f._attachCancellationCallback(new c(this))}return f._then(p,h,void 0,this,void 0)}}}return i.isRejected()?(l(this),a.e=t,a):(l(this),t)}return u.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){l(this.finallyHandler)},e.prototype._passThrough=function(t,e,n,r){return"function"!==typeof t?this.then():this._then(n,r,void 0,new u(this,e,t),void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThrough(t,0,f,f)},e.prototype.tap=function(t){return this._passThrough(t,1,f)},e.prototype.tapCatch=function(t){var n=arguments.length;if(1===n)return this._passThrough(t,1,void 0,f);var r,o=new Array(n-1),a=0;for(r=0;r<n-1;++r){var u=arguments[r];if(!i.isObject(u))return e.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[a++]=u}o.length=a;var c=arguments[r];return this._passThrough(s(o,c,this),1,void 0,f)},u}},{"./catch_filter":7,"./util":36}],16:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./errors"),u=s.TypeError,c=t("./util"),l=c.errorObj,p=c.tryCatch,h=[];function f(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(t);if(r._popContext(),a===l){r._pushContext();var s=e.reject(l.e);return r._popContext(),s}var u=i(a,r);if(u instanceof e)return u}return null}function d(t,n,i,o){if(a.cancellation()){var s=new e(r),u=this._finallyPromise=new e(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new e(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"===typeof i?[i].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(d,o),d.prototype._isResolved=function(){return null===this._promise},d.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},d.prototype._promiseCancelled=function(){if(!this._isResolved()){var t,n="undefined"!==typeof this._generator["return"];if(n)this._promise._pushContext(),t=p(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var r=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),t=p(this._generator["throw"]).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},d.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},d.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},d.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},d.prototype.promise=function(){return this._promise},d.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},d.prototype._continue=function(t){var n=this._promise;if(t===l)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof e||(o=f(o,this._yieldHandlers,this._promise),null!==o)){o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?e._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?e._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(t,e){if("function"!==typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=d,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},e.coroutine.addYieldHandler=function(t){if("function"!==typeof t)throw new u("expecting a function but got "+c.classString(t));h.push(t)},e.spawn=function(t){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!==typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new d(t,this),i=r.promise();return r._run(e.spawn),i}}},{"./errors":12,"./util":36}],17:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./util");s.canEvaluate,s.tryCatch,s.errorObj;e.join=function(){var t,e=arguments.length-1;e>0&&"function"===typeof arguments[e]&&(t=arguments[e]);var r=[].slice.call(arguments);t&&r.pop();var i=new n(r).promise();return void 0!==t?i.spread(t):i}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=e._getDomain,u=t("./util"),c=u.tryCatch,l=u.errorObj,p=e._async;function h(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=s();this._callback=null===i?e:u.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function f(t,n,i,o){if("function"!==typeof n)return r("expecting a function but got "+u.classString(n));var a=0;if(void 0!==i){if("object"!==typeof i||null===i)return e.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!==typeof i.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));a=i.concurrency}return a="number"===typeof a&&isFinite(a)&&a>=1?a:0,new h(t,n,a,o).promise()}u.inherits(h,n),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=-1*n-1,r[n]=t,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var p=this._promise,h=this._callback,f=p._boundValue();p._pushContext();var d=c(h).call(f,t,n,o),g=p._popContext();if(a.checkForgottenReturns(d,g,null!==s?"Promise.filter":"Promise.map",p),d===l)return this._reject(d.e),!0;var m=i(d,this._promise);if(m instanceof e){m=m._target();var v=m._bitField;if(0===(50397184&v))return u>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(0===(33554432&v))return 0!==(16777216&v)?(this._reject(m._reason()),!0):(this._cancel(),!0);d=m._value()}r[n]=d}var y=++this._totalResolved;return y>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},h.prototype._drainQueue=function(){var t=this._queue,e=this._limit,n=this._values;while(t.length>0&&this._inFlight<e){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},h.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return f(this,t,e,null)},e.map=function(t,e,n,r){return f(t,e,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util"),s=a.tryCatch;e.method=function(t){if("function"!==typeof t)throw new e.TypeError("expecting a function but got "+a.classString(t));return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=s(t).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t){if("function"!==typeof t)return i("expecting a function but got "+a.classString(t));var r,u=new e(n);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];r=a.isArray(c)?s(t).apply(l,c):s(t).call(l,c)}else r=s(t)();var p=u._popContext();return o.checkForgottenReturns(r,p,"Promise.try",u),u._resolveFromSyncValue(r),u},e.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},{"./util":36}],20:[function(t,e,n){"use strict";var r=t("./util"),i=r.maybeWrapAsError,o=t("./errors"),a=o.OperationalError,s=t("./es5");function u(t){return t instanceof Error&&s.getPrototypeOf(t)===Error.prototype}var c=/^(?:name|message|stack|cause)$/;function l(t){var e;if(u(t)){e=new a(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=s.keys(t),i=0;i<n.length;++i){var o=n[i];c.test(o)||(e[o]=t[o])}return e}return r.markAsOriginatingFromRejection(t),t}function p(t,e){return function(n,r){if(null!==t){if(n){var o=l(i(n));t._attachExtraTrace(o),t._reject(o)}else if(e){var a=[].slice.call(arguments,1);t._fulfill(a)}else t._fulfill(r);t=null}}}e.exports=p},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var n=t("./util"),r=e._async,i=n.tryCatch,o=n.errorObj;function a(t,e){var a=this;if(!n.isArray(t))return s.call(a,t,e);var u=i(e).apply(a._boundValue(),[null].concat(t));u===o&&r.throwLater(u.e)}function s(t,e){var n=this,a=n._boundValue(),s=void 0===t?i(e).call(a,null):i(e).call(a,null,t);s===o&&r.throwLater(s.e)}function u(t,e){var n=this;if(!t){var a=new Error(t+"");a.cause=t,t=a}var s=i(e).call(n._boundValue(),t);s===o&&r.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var n=s;void 0!==e&&Object(e).spread&&(n=a),this._then(n,u,void 0,this,t)}return this}}},{"./util":36}],22:[function(t,n,r){"use strict";n.exports=function(){var r=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new k.PromiseInspection(this._target())},o=function(t){return k.reject(new d(t))};function a(){}var s,u={},c=t("./util");s=c.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},c.notEnumerableProp(k,"_getDomain",s);var l=t("./es5"),p=t("./async"),h=new p;l.defineProperty(k,"_async",{value:h});var f=t("./errors"),d=k.TypeError=f.TypeError;k.RangeError=f.RangeError;var g=k.CancellationError=f.CancellationError;k.TimeoutError=f.TimeoutError,k.OperationalError=f.OperationalError,k.RejectionError=f.OperationalError,k.AggregateError=f.AggregateError;var m=function(){},v={},y={},_=t("./thenables")(k,m),x=t("./promise_array")(k,m,_,o,a),b=t("./context")(k),w=b.create,S=t("./debuggability")(k,b),T=(S.CapturedTrace,t("./finally")(k,_,y)),P=t("./catch_filter")(y),C=t("./nodeback"),M=c.errorObj,A=c.tryCatch;function F(t,e){if(null==t||t.constructor!==k)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!==typeof e)throw new d("expecting a function but got "+c.classString(e))}function k(t){t!==m&&F(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function O(t){this.promise._resolveCallback(t)}function E(t){this.promise._rejectCallback(t,!1)}function j(t){var e=new k(m);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}return k.prototype.toString=function(){return"[object Promise]"},k.prototype.caught=k.prototype["catch"]=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var a=arguments[n];if(!c.isObject(a))return o("Catch statement predicate: expecting an object but got "+c.classString(a));r[i++]=a}return r.length=i,t=arguments[n],this.then(void 0,P(r,t,this))}return this.then(void 0,t)},k.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},k.prototype.then=function(t,e){if(S.warnings()&&arguments.length>0&&"function"!==typeof t&&"function"!==typeof e){var n=".then() only accepts functions but was passed: "+c.classString(t);arguments.length>1&&(n+=", "+c.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},k.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},k.prototype.spread=function(t){return"function"!==typeof t?o("expecting a function but got "+c.classString(t)):this.all()._then(t,void 0,void 0,v,void 0)},k.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},k.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new x(this).promise()},k.prototype.error=function(t){return this.caught(c.originatesFromRejection,t)},k.getNewLibraryCopy=n.exports,k.is=function(t){return t instanceof k},k.fromNode=k.fromCallback=function(t){var e=new k(m);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(C(e,n));return r===M&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},k.all=function(t){return new x(t).promise()},k.cast=function(t){var e=_(t);return e instanceof k||(e=new k(m),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},k.resolve=k.fulfilled=k.cast,k.reject=k.rejected=function(t){var e=new k(m);return e._captureStackTrace(),e._rejectCallback(t,!0),e},k.setScheduler=function(t){if("function"!==typeof t)throw new d("expecting a function but got "+c.classString(t));return h.setScheduler(t)},k.prototype._then=function(t,e,n,r,i){var o=void 0!==i,a=o?i:new k(m),u=this._target(),l=u._bitField;o||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var p=s();if(0!==(50397184&l)){var f,d,v=u._settlePromiseCtx;0!==(33554432&l)?(d=u._rejectionHandler0,f=t):0!==(16777216&l)?(d=u._fulfillmentHandler0,f=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,d=new g("late cancellation observer"),u._attachExtraTrace(d),f=e),h.invoke(v,u,{handler:null===p?f:"function"===typeof f&&c.domainBind(p,f),promise:a,receiver:r,value:d})}else u._addCallbacks(t,e,a,r,p);return a},k.prototype._length=function(){return 65535&this._bitField},k.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},k.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},k.prototype._setLength=function(t){this._bitField=-65536&this._bitField|65535&t},k.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},k.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},k.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},k.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},k.prototype._isFinal=function(){return(4194304&this._bitField)>0},k.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},k.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},k.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},k.prototype._setAsyncGuaranteed=function(){h.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},k.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==u)return void 0===e&&this._isBound()?this._boundValue():e},k.prototype._promiseAt=function(t){return this[4*t-4+2]},k.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},k.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},k.prototype._boundValue=function(){},k.prototype._migrateCallback0=function(t){t._bitField;var e=t._fulfillmentHandler0,n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=u),this._addCallbacks(e,n,r,i,null)},k.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=u),this._addCallbacks(n,r,i,o,null)},k.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"===typeof t&&(this._fulfillmentHandler0=null===i?t:c.domainBind(i,t)),"function"===typeof e&&(this._rejectionHandler0=null===i?e:c.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"===typeof t&&(this[a+0]=null===i?t:c.domainBind(i,t)),"function"===typeof e&&(this[a+1]=null===i?e:c.domainBind(i,e))}return this._setLength(o+1),o},k.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},k.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(r(),!1);var n=_(t,this);if(!(n instanceof k))return this._fulfill(t);e&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var o=i._bitField;if(0===(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!==(33554432&o))this._fulfill(i._value());else if(0!==(16777216&o))this._reject(i._reason());else{var u=new g("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(r())}},k.prototype._rejectCallback=function(t,e,n){var r=c.ensureErrorObject(t),i=r===t;if(!i&&!n&&S.warnings()){var o="a promise was rejected with a non-error: "+c.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},k.prototype._resolveFromExecutor=function(t){if(t!==m){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},k.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){var o;r._pushContext(),e===v?n&&"number"===typeof n.length?o=A(t).apply(this._boundValue(),n):(o=M,o.e=new d("cannot .spread() a non-array: "+c.classString(n))):o=A(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===y?r._reject(n):o===M?r._rejectCallback(o.e,!1):(S.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},k.prototype._target=function(){var t=this;while(t._isFollowing())t=t._followee();return t},k.prototype._followee=function(){return this._rejectionHandler0},k.prototype._setFollowee=function(t){this._rejectionHandler0=t},k.prototype._settlePromise=function(t,e,n,r){var o=t instanceof k,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(o&&t._invokeInternalOnCancel(),n instanceof T&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,r)===M&&t._reject(M.e)):e===i?t._fulfill(i.call(n)):n instanceof a?n._promiseCancelled(t):o||t instanceof x?t._cancel():n.cancel()):"function"===typeof e?o?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,r,t)):e.call(n,r,t):n instanceof a?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(r,t):n._promiseRejected(r,t)):o&&(u&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(r):t._reject(r))},k.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"===typeof e?n instanceof k?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof k&&n._reject(i)},k.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},k.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},k.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},k.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():h.settlePromises(this),this._dereferenceTrace())}},k.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=t,this._isFinal())return h.fatalError(t,c.isNode);(65535&e)>0?h.settlePromises(this):this._ensurePossibleRejectionHandled()}},k.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},k.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},k.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},k.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},k.defer=k.pending=function(){S.deprecated("Promise.defer","new Promise");var t=new k(m);return{promise:t,resolve:O,reject:E}},c.notEnumerableProp(k,"_makeSelfResolutionError",r),t("./method")(k,m,_,o,S),t("./bind")(k,m,_,S),t("./cancel")(k,x,o,S),t("./direct_resolve")(k),t("./synchronous_inspection")(k),t("./join")(k,x,_,m,h,s),k.Promise=k,k.version="3.5.4",t("./map.js")(k,x,o,_,m,S),t("./call_get.js")(k),t("./using.js")(k,o,_,w,m,S),t("./timers.js")(k,m,S),t("./generators.js")(k,o,m,_,a,S),t("./nodeify.js")(k),t("./promisify.js")(k,m),t("./props.js")(k,x,_,o),t("./race.js")(k,m,_,o),t("./reduce.js")(k,x,o,_,m,S),t("./settle.js")(k,x,S),t("./some.js")(k,x,o),t("./filter.js")(k,m),t("./each.js")(k,m),t("./any.js")(k),c.toFastProperties(k),c.toFastProperties(k.prototype),j({a:1}),j({b:2}),j({c:3}),j(1),j(function(){}),j(void 0),j(!1),j(new k(m)),S.setBounds(p.firstLineError,c.lastLineError),k}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o){var a=t("./util");a.isArray;function s(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function u(t){var r=this._promise=new e(n);t instanceof e&&r._propagateFrom(t,3),r._setOnCancel(this),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.inherits(u,o),u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function t(n,o){var u=r(this._values,this._promise);if(u instanceof e){u=u._target();var c=u._bitField;if(this._values=u,0===(50397184&c))return this._promise._setAsyncGuaranteed(),u._then(t,this._reject,void 0,this,o);if(0===(33554432&c))return 0!==(16777216&c)?this._reject(u._reason()):this._cancel();u=u._value()}if(u=a.asArray(u),null!==u)0!==u.length?this._iterate(u):-5===o?this._resolveEmptyArray():this._resolve(s(o));else{var l=i("expecting an array or an iterable object but got "+a.classString(u)).reason();this._promise._rejectCallback(l,!1)}},u.prototype._iterate=function(t){var n=this.getActualLength(t.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(t[s],i);u instanceof e?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},u.prototype._isResolved=function(){return null===this._values},u.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},u.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},u.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},u.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},u.prototype._promiseCancelled=function(){return this._cancel(),!0},u.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},u.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},u.prototype.shouldCopyValues=function(){return!0},u.prototype.getActualLength=function(t){return t},u}},{"./util":36}],24:[function(t,e,n){"use strict";e.exports=function(e,n){var r={},i=t("./util"),o=t("./nodeback"),a=i.withAppended,s=i.maybeWrapAsError,u=i.canEvaluate,c=t("./errors").TypeError,l="Async",p={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+h.join("|")+")$"),d=function(t){return i.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t};function g(t){return!f.test(t)}function m(t){try{return!0===t.__isPromisified__}catch(e){return!1}}function v(t,e,n){var r=i.getDataPropertyOrDefault(t,e+n,p);return!!r&&m(r)}function y(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function _(t,e,n,r){for(var o=i.inheritedDataKeys(t),a=[],s=0;s<o.length;++s){var u=o[s],c=t[u],l=r===d||d(u,c,t);"function"!==typeof c||m(c)||v(t,u,e)||!r(u,c,t,l)||a.push(u,c)}return y(a,e,n),a}var x,b=function(t){return t.replace(/([$])/,"\\$")};function w(t,u,c,l,p,h){var f=function(){return this}(),d=t;function g(){var i=u;u===r&&(i=this);var c=new e(n);c._captureStackTrace();var l="string"===typeof d&&this!==f?this[d]:t,p=o(c,h);try{l.apply(i,a(arguments,p))}catch(g){c._rejectCallback(s(g),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"===typeof d&&(t=l),i.notEnumerableProp(g,"__isPromisified__",!0),g}var S=u?x:w;function T(t,e,n,o,a){for(var s=new RegExp(b(e)+"$"),u=_(t,e,s,n),c=0,l=u.length;c<l;c+=2){var p=u[c],h=u[c+1],f=p+e;if(o===S)t[f]=S(p,r,p,h,e,a);else{var d=o(h,function(){return S(p,r,p,h,e,a)});i.notEnumerableProp(d,"__isPromisified__",!0),t[f]=d}}return i.toFastProperties(t),t}function P(t,e,n){return S(t,e,void 0,t,null,n)}e.promisify=function(t,e){if("function"!==typeof t)throw new c("expecting a function but got "+i.classString(t));if(m(t))return t;e=Object(e);var n=void 0===e.context?r:e.context,o=!!e.multiArgs,a=P(t,n,o);return i.copyDescriptors(t,a,g),a},e.promisifyAll=function(t,e){if("function"!==typeof t&&"object"!==typeof t)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!==typeof r&&(r=l);var o=e.filter;"function"!==typeof o&&(o=d);var a=e.promisifier;if("function"!==typeof a&&(a=S),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(t),u=0;u<s.length;++u){var p=t[s[u]];"constructor"!==s[u]&&i.isClass(p)&&(T(p.prototype,r,o,a,n),T(p,r,o,a,n))}return T(t,r,o,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o,a=t("./util"),s=a.isObject,u=t("./es5");"function"===typeof Map&&(o=Map);var c=function(){var t=0,e=0;function n(n,r){this[t]=n,this[t+e]=r,t++}return function(r){e=r.size,t=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}(),l=function(t){for(var e=new o,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],a=t[r];e.set(i,a)}return e};function p(t){var e,n=!1;if(void 0!==o&&t instanceof o)e=c(t),n=!0;else{var r=u.keys(t),i=r.length;e=new Array(2*i);for(var a=0;a<i;++a){var s=r[a];e[a]=t[s],e[a+i]=s}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function h(t){var n,o=r(t);return s(o)?(n=o instanceof e?o._then(e.props,void 0,void 0,void 0,void 0):new p(o).promise(),o instanceof e&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(p,n),p.prototype._init=function(){},p.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=l(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},p.prototype.shouldCopyValues=function(){return!1},p.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return h(this)},e.props=function(t){return h(t)}}},{"./es5":13,"./util":36}],26:[function(t,e,n){"use strict";function r(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},i.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var n=this._front,i=this._length,o=n+i&e-1;r(this,0,this,e,o)},e.exports=i},{}],27:[function(t,e,n){"use strict";e.exports=function(e,n,r,i){var o=t("./util"),a=function(t){return t.then(function(e){return s(e,t)})};function s(t,s){var u=r(t);if(u instanceof e)return a(u);if(t=o.asArray(t),null===t)return i("expecting an array or an iterable object but got "+o.classString(t));var c=new e(n);void 0!==s&&c._propagateFrom(s,3);for(var l=c._fulfill,p=c._reject,h=0,f=t.length;h<f;++h){var d=t[h];(void 0!==d||h in t)&&e.cast(d)._then(l,p,void 0,c,null)}return c}e.race=function(t){return s(t,void 0)},e.prototype.race=function(){return s(this,void 0)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=e._getDomain,u=t("./util"),c=u.tryCatch;function l(t,n,r,i){this.constructor$(t);var a=s();this._fn=null===a?n:u.domainBind(a,n),void 0!==r&&(r=e.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function p(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function h(t,e,n,i){if("function"!==typeof e)return r("expecting a function but got "+u.classString(e));var o=new l(t,e,n,i);return o.promise()}function f(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(t){var n,r=this.array,i=r._promise,o=c(r._fn);i._pushContext(),n=void 0!==r._eachValues?o.call(i._boundValue(),t,this.index,this.length):o.call(i._boundValue(),this.accum,t,this.index,this.length),n instanceof e&&(r._currentCancellable=n);var s=i._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}u.inherits(l,n),l.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},l.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},l.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},l.prototype._iterate=function(t){var n,r;this._values=t;var i=t.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=e.resolve(t[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:t[r],index:r,length:i,array:this};n=n._then(f,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(p,p,void 0,n,this)},e.prototype.reduce=function(t,e){return h(this,t,e,null)},e.reduce=function(t,e,n,r){return h(t,e,n,r)}}},{"./util":36}],29:[function(t,r,i){"use strict";var o,a=t("./util"),s=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},u=a.getNativePromise();if(a.isNode&&"undefined"===typeof MutationObserver){var c=n.setImmediate,l=e.nextTick;o=a.isRecentNode?function(t){c.call(n,t)}:function(t){l.call(e,t)}}else if("function"===typeof u&&"function"===typeof u.resolve){var p=u.resolve();o=function(t){p.then(t)}}else o="undefined"===typeof MutationObserver||"undefined"!==typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!==typeof setImmediate?function(t){setImmediate(t)}:"undefined"!==typeof setTimeout?function(t){setTimeout(t,0)}:s:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();r.exports=o},{"./util":36}],30:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=e.PromiseInspection,o=t("./util");function a(t){this.constructor$(t)}o.inherits(a,n),a.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},a.prototype._promiseFulfilled=function(t,e){var n=new i;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},a.prototype._promiseRejected=function(t,e){var n=new i;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},e.settle=function(t){return r.deprecated(".settle()",".reflect()"),new a(t).promise()},e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=t("./errors").RangeError,a=t("./errors").AggregateError,s=i.isArray,u={};function c(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(t),i=n.promise();return n.setHowMany(e),n.init(),i}i.inherits(c,n),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var t=s(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(t){this._howMany=t},c.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new a,e=this.length();e<this._values.length;++e)this._values[e]!==u&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(t){this._values.push(t)},c.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new o(e)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return l(t,e)},e.prototype.some=function(t){return l(this,t)},e._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(t,e,n){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},{}],33:[function(t,e,n){"use strict";e.exports=function(e,n){var r=t("./util"),i=r.errorObj,o=r.isObject;function a(t,r){if(o(t)){if(t instanceof e)return t;var a=u(t);if(a===i){r&&r._pushContext();var s=e.reject(a.e);return r&&r._popContext(),s}if("function"===typeof a){if(l(t)){s=new e(n);return t._then(s._fulfill,s._reject,void 0,s,null),s}return p(t,a,r)}}return t}function s(t){return t.then}function u(t){try{return s(t)}catch(e){return i.e=e,i}}var c={}.hasOwnProperty;function l(t){try{return c.call(t,"_promise0")}catch(e){return!1}}function p(t,o,a){var s=new e(n),u=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=!0,l=r.tryCatch(o).call(t,p,h);function p(t){s&&(s._resolveCallback(t),s=null)}function h(t){s&&(s._rejectCallback(t,c,!0),s=null)}return c=!1,s&&l===i&&(s._rejectCallback(l.e,!0,!0),s=null),u}return a}},{"./util":36}],34:[function(t,e,n){"use strict";e.exports=function(e,n,r){var i=t("./util"),o=e.TimeoutError;function a(t){this.handle=t}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,i){var o,u;return void 0!==i?(o=e.resolve(i)._then(s,null,null,t,void 0),r.cancellation()&&i instanceof e&&o._setOnCancel(i)):(o=new e(n),u=setTimeout(function(){o._fulfill()},+t),r.cancellation()&&o._setOnCancel(new a(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};e.prototype.delay=function(t){return u(t,this)};var c=function(t,e,n){var r;r="string"!==typeof e?e instanceof Error?e:new o("operation timed out"):new o(e),i.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};function l(t){return clearTimeout(this.handle),t}function p(t){throw clearTimeout(this.handle),t}e.prototype.timeout=function(t,e){var n,i;t=+t;var o=new a(setTimeout(function(){n.isPending()&&c(n,e,i)},t));return r.cancellation()?(i=this.then(),n=i._then(l,p,void 0,o,void 0),n._setOnCancel(o)):n=this._then(l,p,void 0,o,void 0),n}}},{"./util":36}],35:[function(t,e,n){"use strict";e.exports=function(e,n,r,i,o,a){var s=t("./util"),u=t("./errors").TypeError,c=t("./util").inherits,l=s.errorObj,p=s.tryCatch,h={};function f(t){setTimeout(function(){throw t},0)}function d(t){var e=r(t);return e!==t&&"function"===typeof t._isDisposable&&"function"===typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function g(t,n){var i=0,a=t.length,s=new e(o);function u(){if(i>=a)return s._fulfill();var o=d(t[i++]);if(o instanceof e&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),t.promise)}catch(c){return f(c)}if(o instanceof e)return o._then(u,f,null,null,null)}u()}return u(),s}function m(t,e,n){this._data=t,this._promise=e,this._context=n}function v(t,e,n){this.constructor$(t,e,n)}function y(t){return m.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function _(t){this.length=t,this.promise=null,this[t-1]=null}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},m.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==h?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},m.isDisposer=function(t){return null!=t&&"function"===typeof t.resource&&"function"===typeof t.tryDispose},c(v,m),v.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},_.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var r=this[n];r instanceof e&&r.cancel()}},e.using=function(){var t=arguments.length;if(t<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[t-1];if("function"!==typeof o)return n("expecting a function but got "+s.classString(o));var u=!0;2===t&&Array.isArray(arguments[0])?(i=arguments[0],t=i.length,u=!1):(i=arguments,t--);for(var c=new _(t),h=0;h<t;++h){var f=i[h];if(m.isDisposer(f)){var d=f;f=f.promise(),f._setDisposable(d)}else{var v=r(f);v instanceof e&&(f=v._then(y,null,null,{resources:c,index:h},void 0))}c[h]=f}var x=new Array(c.length);for(h=0;h<x.length;++h)x[h]=e.resolve(c[h]).reflect();var b=e.all(x).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void b.cancel();t[e]=n.value()}w._pushContext(),o=p(o);var r=u?o.apply(void 0,t):o(t),i=w._popContext();return a.checkForgottenReturns(r,i,"Promise.using",w),r}),w=b.lastly(function(){var t=new e.PromiseInspection(b);return g(c,t)});return c.promise=w,w._setOnCancel(c),w},e.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"===typeof t)return new v(t,this,i());throw new u}}},{"./errors":12,"./util":36}],36:[function(t,r,i){"use strict";var o=t("./es5"),a="undefined"==typeof navigator,s={e:{}},u,c="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n?n:void 0!==this?this:null;function l(){try{var t=u;return u=null,t.apply(this,arguments)}catch(e){return s.e=e,s}}function p(t){return u=t,l}var h=function(t,e){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=t,this.constructor$=e,e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}return r.prototype=e.prototype,t.prototype=new r,t.prototype};function f(t){return null==t||!0===t||!1===t||"string"===typeof t||"number"===typeof t}function d(t){return"function"===typeof t||"object"===typeof t&&null!==t}function g(t){return f(t)?new Error(M(t)):t}function m(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function v(t,e,n){if(!o.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function y(t,e,n){if(f(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return o.defineProperty(t,e,r),t}function _(t){throw t}var x=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(o.isES5){var n=Object.getOwnPropertyNames;return function(t){var r=[],i=Object.create(null);while(null!=t&&!e(t)){var a;try{a=n(t)}catch(l){return r}for(var s=0;s<a.length;++s){var u=a[s];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(t,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}t=o.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),b=/this\s*\.\s*\S+\s*=/;function w(t){try{if("function"===typeof t){var e=o.names(t.prototype),n=o.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=b.test(t+"")&&o.names(t).length>0;if(n||r||i)return!0}return!1}catch(a){return!1}}function S(t){function e(){}e.prototype=t;var n=new e;function r(){return typeof n.foo}return r(),r(),t}var T=/^[a-z$_][a-z$_0-9]*$/i;function P(t){return T.test(t)}function C(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function M(t){try{return t+""}catch(e){return"[no string representation]"}}function A(t){return t instanceof Error||null!==t&&"object"===typeof t&&"string"===typeof t.message&&"string"===typeof t.name}function F(t){try{y(t,"isOperational",!0)}catch(e){}}function k(t){return null!=t&&(t instanceof Error["__BluebirdErrorTypes__"].OperationalError||!0===t["isOperational"])}function O(t){return A(t)&&o.propertyIsWritable(t,"stack")}var E=function(){return"stack"in new Error?function(t){return O(t)?t:new Error(M(t))}:function(t){if(O(t))return t;try{throw new Error(M(t))}catch(e){return e}}}();function j(t){return{}.toString.call(t)}function D(t,e,n){for(var r=o.names(t),i=0;i<r.length;++i){var a=r[i];if(n(a))try{o.defineProperty(e,a,o.getDescriptor(t,a))}catch(s){}}}var I=function(t){return o.isArray(t)?t:null};if("undefined"!==typeof Symbol&&Symbol.iterator){var R="function"===typeof Array.from?function(t){return Array.from(t)}:function(t){var e,n=[],r=t[Symbol.iterator]();while(!(e=r.next()).done)n.push(e.value);return n};I=function(t){return o.isArray(t)?t:null!=t&&"function"===typeof t[Symbol.iterator]?R(t):null}}var L="undefined"!==typeof e&&"[object process]"===j(e).toLowerCase(),U="undefined"!==typeof e&&!0;function z(t){return U?Object({NODE_ENV:"production",BASE_URL:"/DoesThisPersonExist/"})[t]:void 0}function G(){if("function"===typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(e){}}function N(t,e){return t.bind(e)}var B={isClass:w,isIdentifier:P,inheritedDataKeys:x,getDataPropertyOrDefault:v,thrower:_,isArray:o.isArray,asArray:I,notEnumerableProp:y,isPrimitive:f,isObject:d,isError:A,canEvaluate:a,errorObj:s,tryCatch:p,inherits:h,withAppended:m,maybeWrapAsError:g,toFastProperties:S,filledRange:C,toString:M,canAttachTrace:O,ensureErrorObject:E,originatesFromRejection:k,markAsOriginatingFromRejection:F,classString:j,copyDescriptors:D,hasDevTools:"undefined"!==typeof chrome&&chrome&&"function"===typeof chrome.loadTimes,isNode:L,hasEnvVariables:U,env:z,global:c,getNativePromise:G,domainBind:N};B.isRecentNode=B.isNode&&function(){var t;return e.versions&&e.versions.node?t=e.versions.node.split(".").map(Number):e.version&&(t=e.version.split(".").map(Number)),0===t[0]&&t[1]>10||t[0]>0}(),B.isNode&&B.toFastProperties(e);try{throw new Error}catch($){B.lastLineError=$}r.exports=B},{"./es5":13}]},{},[4])(4)}),"undefined"!==typeof window&&null!==window?window.P=window.Promise:"undefined"!==typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n("f28c"),n("c8ba"))},f6b3:function(t,e,n){var r=n("5ca1");r(r.S,"Reflect",{has:function(t,e){return e in t}})},f6c5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"LeakyReLU",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"PReLU",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"ELU",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"ThresholdedReLU",{enumerable:!0,get:function(){return a.default}});var r=s(n("edcf")),i=s(n("f2ce")),o=s(n("0a4e")),a=s(n("36ff"));function s(t){return t&&t.__esModule?t:{default:t}}},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},f771:function(t,e,n){"use strict";var r=n("e45a");t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},f93b:function(t,e,n){"use strict";t.exports=u;var r=n("0e01");function i(t){return Array.isArray(t)?[t.length,t[0].length]:t.shape}function o(t,e,n){var r=i(t),o=i(e),a=i(n);if(r[0]!==o[0]||r[1]!==a[1]||o[1]!==a[0])throw new Error("Mismatched array shapes for matrix product")}function a(t){if(Array.isArray(t)){if(Array.isArray(t))return["r","native"]}else if(t.shape&&2===t.shape.length)return t.order[0]?["r",t.dtype]:["c",t.dtype];throw new Error("Unrecognized data type")}var s={};function u(t,e,n,i,u){void 0===i&&(i=1),void 0===u&&(u=0);var c=1!==i,l=0!==u,p=a(t),h=a(e),f=a(n);o(t,e,n);var d=[p,h,f,c,l].join(":"),g=s[d];return g||(g=s[d]=r(p,h,f,c,l)),g(t,e,n,i,u)}},f962:function(t,e,n){"use strict";var r=n("b5bb"),i=n("62d6"),o=n("cea5");function a(t){var e=t.dtype;"generic"!==e&&"array"!==e||(e="double");var n=o.malloc(t.size,e),a=r(n,t.shape);return i.assign(a,t),a}function s(t,e){e||(e="double");for(var n=1,i=new Array(t.length),a=t.length-1;a>=0;--a)i[a]=n,n*=t[a];return r(o.malloc(n,e),t,i,0)}function u(t){"generic"!==t.dtype&&"array"!==t.dtype&&o.free(t.data)}function c(t,e){e||(e="double");for(var n=1,i=new Array(t.length),a=t.length-1;a>=0;--a)i[a]=n,n*=t[a];var s=o.malloc(n,e);for(a=0;a<n;++a)s[a]=0;return r(s,t,i,0)}function l(t,e){e||(e="double");for(var n=1,i=new Array(t.length),a=t.length-1;a>=0;--a)i[a]=n,n*=t[a];var s=o.malloc(n,e);for(a=0;a<n;++a)s[a]=1;return r(s,t,i,0)}function p(t,e){var n,i;e||(e="double");var a=1,s=new Array(t.length);for(n=t.length-1;n>=0;--n)s[n]=a,a*=t[n];var u=o.malloc(a,e);for(n=0;n<a;++n)u[n]=0;var c=1/0,l=0;for(n=t.length-1;n>=0;n--)l+=s[n],c=Math.min(c,t[n]);for(n=0,i=0;n<c;n++,i+=l)u[i]=1;return r(u,t,s,0)}e.clone=a,e.malloc=s,e.free=u,e.zeros=c,e.ones=l,e.eye=p},f9ab:function(t,e,n){var r=n("5ca1"),i=n("96fb");r(r.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},f9ce:function(t,e,n){var r=n("ef5d"),i=n("e3f8"),o=n("f608"),a=n("f4d6");function s(t){return o(t)?r(a(t)):i(t)}t.exports=s},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fa83:function(t,e,n){"use strict";n("386b")("blink",function(t){return function(){return t(this,"blink","","")}})},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fae5:function(t,e,n){"use strict";(function(e){var r=n("3b33"),i=n("cb9c"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function s(){var t;return"undefined"!==typeof XMLHttpRequest?t=n("9a50"):"undefined"!==typeof e&&(t=n("9a50")),t}var u={adapter:s(),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(o)}),t.exports=u}).call(this,n("f28c"))},fb57:function(t,e,n){"use strict";(function(t){function e(){console.error("SPMV (symmetric packed matrix vector multiply) not yet implemented")}t.exporst=e}).call(this,n("62e4")(t))},fba5:function(t,e,n){var r=n("cb5a");function i(t){return r(this.__data__,t)>-1}t.exports=i},fca0:function(t,e,n){var r=n("5ca1"),i=n("7726").isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},fcbe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("891c"));function i(t){return t&&t.__esModule?t:{default:t}}class o extends r.default{constructor(t={}){super(t),this.layerClass="SpatialDropout2D";const{rate:e=.5,data_format:n="channels_last"}=t;this.description=`${e}`,this.rate=Math.min(Math.max(0,e),1),this.dataFormat=n}call(t){return this.output=t,this.output}}e.default=o},fd24:function(t,e,n){var r=n("5ca1");r(r.S,"Object",{setPrototypeOf:n("8b97").set})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},fe0b:function(t,e,n){"use strict";var r=n("3b33");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},fe8e:function(t,e,n){"use strict";var r=n("3b33"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},fee7:function(t,e,n){"use strict";var r=n("5ca1"),i=n("4bf8"),o=n("d8e8"),a=n("86cc");n("9e1e")&&r(r.P+n("c5b4"),"Object",{__defineSetter__:function(t,e){a.f(i(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},ffc1:function(t,e,n){var r=n("5ca1"),i=n("504c")(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},ffd6:function(t,e,n){var r=n("3729"),i=n("1310"),o="[object Symbol]";function a(t){return"symbol"==typeof t||i(t)&&r(t)==o}t.exports=a}}]);
//# sourceMappingURL=chunk-vendors.9c5984b6.js.map